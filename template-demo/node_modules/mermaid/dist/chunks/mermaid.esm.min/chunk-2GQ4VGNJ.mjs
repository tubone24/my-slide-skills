import{A as Oe,B as mu,C as tr,D as At,G as im,I as Ft,L as Ge,M as bn,O as Go,R as Hs,S as sm,a as We,b as Or,c as ut,d as Ve,e as $e,g as Lr,i as Ks,j as _n,k as gr,l as Ke,m as nn,n as D,o as vt,p as ot,q as Dr,r as ft,s as _,t as dt,w as nm,x as G,y as pt,z as Se}from"./chunk-H3VCZNTA.mjs";import{d as ee}from"./chunk-QU3B7NT4.mjs";import{M as hu,d as rm,e as mr,z as Qe}from"./chunk-JIN56HTB.mjs";import{a as s,b as nE,c as X,d as rn,e as ae,f as du,g as pu}from"./chunk-VELTKBKT.mjs";var sl={};rn(sl,{AnnotatedTextEdit:()=>Xr,ChangeAnnotation:()=>ii,ChangeAnnotationIdentifier:()=>ct,CodeAction:()=>xd,CodeActionContext:()=>Rd,CodeActionKind:()=>Td,CodeActionTriggerKind:()=>za,CodeDescription:()=>Yf,CodeLens:()=>Ed,Color:()=>Qc,ColorInformation:()=>jf,ColorPresentation:()=>Bf,Command:()=>si,CompletionItem:()=>ad,CompletionItemKind:()=>ed,CompletionItemLabelDetails:()=>sd,CompletionItemTag:()=>rd,CompletionList:()=>od,CreateFile:()=>ss,DeleteFile:()=>os,Diagnostic:()=>Fa,DiagnosticRelatedInformation:()=>Zc,DiagnosticSeverity:()=>Kf,DiagnosticTag:()=>Hf,DocumentHighlight:()=>dd,DocumentHighlightKind:()=>fd,DocumentLink:()=>Ad,DocumentSymbol:()=>yd,DocumentUri:()=>Uf,EOL:()=>IA,FoldingRange:()=>Vf,FoldingRangeKind:()=>Wf,FormattingOptions:()=>vd,Hover:()=>cd,InlayHint:()=>bd,InlayHintKind:()=>nl,InlayHintLabelPart:()=>il,InlineCompletionContext:()=>Fd,InlineCompletionItem:()=>Od,InlineCompletionList:()=>Ld,InlineCompletionTriggerKind:()=>Dd,InlineValueContext:()=>_d,InlineValueEvaluatableExpression:()=>Id,InlineValueText:()=>Nd,InlineValueVariableLookup:()=>wd,InsertReplaceEdit:()=>nd,InsertTextFormat:()=>td,InsertTextMode:()=>id,Location:()=>Ma,LocationLink:()=>zf,MarkedString:()=>qa,MarkupContent:()=>cs,MarkupKind:()=>rl,OptionalVersionedTextDocumentIdentifier:()=>Ua,ParameterInformation:()=>ld,Position:()=>ce,Range:()=>ie,RenameFile:()=>as,SelectedCompletionInfo:()=>Md,SelectionRange:()=>$d,SemanticTokenModifiers:()=>kd,SemanticTokenTypes:()=>Sd,SemanticTokens:()=>Cd,SignatureInformation:()=>ud,StringValue:()=>Pd,SymbolInformation:()=>md,SymbolKind:()=>pd,SymbolTag:()=>hd,TextDocument:()=>Ud,TextDocumentEdit:()=>Ga,TextDocumentIdentifier:()=>Jf,TextDocumentItem:()=>Zf,TextEdit:()=>Ar,URI:()=>Jc,VersionedTextDocumentIdentifier:()=>Qf,WorkspaceChange:()=>Xf,WorkspaceEdit:()=>el,WorkspaceFolder:()=>Gd,WorkspaceSymbol:()=>gd,integer:()=>qf,uinteger:()=>Da});var Uf,Jc,qf,Da,ce,ie,Ma,zf,Qc,jf,Bf,Wf,Vf,Zc,Kf,Hf,Yf,Fa,si,Ar,ii,ct,Xr,Ga,ss,as,os,el,is,tl,Xf,Jf,Qf,Ua,Zf,rl,cs,ed,td,rd,nd,id,sd,ad,od,qa,cd,ld,ud,fd,dd,pd,hd,md,gd,yd,Td,za,Rd,xd,Ed,vd,Ad,$d,Sd,kd,Cd,Nd,wd,Id,_d,nl,il,bd,Pd,Od,Ld,Dd,Md,Fd,Gd,IA,Ud,qd,g,ls=nE(()=>{"use strict";(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(Uf||(Uf={}));(function(t){function e(r){return typeof r=="string"}s(e,"is"),t.is=e})(Jc||(Jc={}));(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(qf||(qf={}));(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(r){return typeof r=="number"&&t.MIN_VALUE<=r&&r<=t.MAX_VALUE}s(e,"is"),t.is=e})(Da||(Da={}));(function(t){function e(n,i){return n===Number.MAX_VALUE&&(n=Da.MAX_VALUE),i===Number.MAX_VALUE&&(i=Da.MAX_VALUE),{line:n,character:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&g.uinteger(i.line)&&g.uinteger(i.character)}s(r,"is"),t.is=r})(ce||(ce={}));(function(t){function e(n,i,a,o){if(g.uinteger(n)&&g.uinteger(i)&&g.uinteger(a)&&g.uinteger(o))return{start:ce.create(n,i),end:ce.create(a,o)};if(ce.is(n)&&ce.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${o}]`)}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ce.is(i.start)&&ce.is(i.end)}s(r,"is"),t.is=r})(ie||(ie={}));(function(t){function e(n,i){return{uri:n,range:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ie.is(i.range)&&(g.string(i.uri)||g.undefined(i.uri))}s(r,"is"),t.is=r})(Ma||(Ma={}));(function(t){function e(n,i,a,o){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:o}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ie.is(i.targetRange)&&g.string(i.targetUri)&&ie.is(i.targetSelectionRange)&&(ie.is(i.originSelectionRange)||g.undefined(i.originSelectionRange))}s(r,"is"),t.is=r})(zf||(zf={}));(function(t){function e(n,i,a,o){return{red:n,green:i,blue:a,alpha:o}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&g.numberRange(i.red,0,1)&&g.numberRange(i.green,0,1)&&g.numberRange(i.blue,0,1)&&g.numberRange(i.alpha,0,1)}s(r,"is"),t.is=r})(Qc||(Qc={}));(function(t){function e(n,i){return{range:n,color:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ie.is(i.range)&&Qc.is(i.color)}s(r,"is"),t.is=r})(jf||(jf={}));(function(t){function e(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&g.string(i.label)&&(g.undefined(i.textEdit)||Ar.is(i))&&(g.undefined(i.additionalTextEdits)||g.typedArray(i.additionalTextEdits,Ar.is))}s(r,"is"),t.is=r})(Bf||(Bf={}));(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(Wf||(Wf={}));(function(t){function e(n,i,a,o,c,l){let u={startLine:n,endLine:i};return g.defined(a)&&(u.startCharacter=a),g.defined(o)&&(u.endCharacter=o),g.defined(c)&&(u.kind=c),g.defined(l)&&(u.collapsedText=l),u}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&g.uinteger(i.startLine)&&g.uinteger(i.startLine)&&(g.undefined(i.startCharacter)||g.uinteger(i.startCharacter))&&(g.undefined(i.endCharacter)||g.uinteger(i.endCharacter))&&(g.undefined(i.kind)||g.string(i.kind))}s(r,"is"),t.is=r})(Vf||(Vf={}));(function(t){function e(n,i){return{location:n,message:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&Ma.is(i.location)&&g.string(i.message)}s(r,"is"),t.is=r})(Zc||(Zc={}));(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(Kf||(Kf={}));(function(t){t.Unnecessary=1,t.Deprecated=2})(Hf||(Hf={}));(function(t){function e(r){let n=r;return g.objectLiteral(n)&&g.string(n.href)}s(e,"is"),t.is=e})(Yf||(Yf={}));(function(t){function e(n,i,a,o,c,l){let u={range:n,message:i};return g.defined(a)&&(u.severity=a),g.defined(o)&&(u.code=o),g.defined(c)&&(u.source=c),g.defined(l)&&(u.relatedInformation=l),u}s(e,"create"),t.create=e;function r(n){var i;let a=n;return g.defined(a)&&ie.is(a.range)&&g.string(a.message)&&(g.number(a.severity)||g.undefined(a.severity))&&(g.integer(a.code)||g.string(a.code)||g.undefined(a.code))&&(g.undefined(a.codeDescription)||g.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(g.string(a.source)||g.undefined(a.source))&&(g.undefined(a.relatedInformation)||g.typedArray(a.relatedInformation,Zc.is))}s(r,"is"),t.is=r})(Fa||(Fa={}));(function(t){function e(n,i,...a){let o={title:n,command:i};return g.defined(a)&&a.length>0&&(o.arguments=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.string(i.title)&&g.string(i.command)}s(r,"is"),t.is=r})(si||(si={}));(function(t){function e(a,o){return{range:a,newText:o}}s(e,"replace"),t.replace=e;function r(a,o){return{range:{start:a,end:a},newText:o}}s(r,"insert"),t.insert=r;function n(a){return{range:a,newText:""}}s(n,"del"),t.del=n;function i(a){let o=a;return g.objectLiteral(o)&&g.string(o.newText)&&ie.is(o.range)}s(i,"is"),t.is=i})(Ar||(Ar={}));(function(t){function e(n,i,a){let o={label:n};return i!==void 0&&(o.needsConfirmation=i),a!==void 0&&(o.description=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&g.string(i.label)&&(g.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(g.string(i.description)||i.description===void 0)}s(r,"is"),t.is=r})(ii||(ii={}));(function(t){function e(r){let n=r;return g.string(n)}s(e,"is"),t.is=e})(ct||(ct={}));(function(t){function e(a,o,c){return{range:a,newText:o,annotationId:c}}s(e,"replace"),t.replace=e;function r(a,o,c){return{range:{start:a,end:a},newText:o,annotationId:c}}s(r,"insert"),t.insert=r;function n(a,o){return{range:a,newText:"",annotationId:o}}s(n,"del"),t.del=n;function i(a){let o=a;return Ar.is(o)&&(ii.is(o.annotationId)||ct.is(o.annotationId))}s(i,"is"),t.is=i})(Xr||(Xr={}));(function(t){function e(n,i){return{textDocument:n,edits:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&Ua.is(i.textDocument)&&Array.isArray(i.edits)}s(r,"is"),t.is=r})(Ga||(Ga={}));(function(t){function e(n,i,a){let o={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),a!==void 0&&(o.annotationId=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="create"&&g.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}s(r,"is"),t.is=r})(ss||(ss={}));(function(t){function e(n,i,a,o){let c={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(c.options=a),o!==void 0&&(c.annotationId=o),c}s(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="rename"&&g.string(i.oldUri)&&g.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}s(r,"is"),t.is=r})(as||(as={}));(function(t){function e(n,i,a){let o={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),a!==void 0&&(o.annotationId=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return i&&i.kind==="delete"&&g.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||g.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||g.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ct.is(i.annotationId))}s(r,"is"),t.is=r})(os||(os={}));(function(t){function e(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>g.string(i.kind)?ss.is(i)||as.is(i)||os.is(i):Ga.is(i)))}s(e,"is"),t.is=e})(el||(el={}));is=class{static{s(this,"TextEditChangeImpl")}constructor(e,r){this.edits=e,this.changeAnnotations=r}insert(e,r,n){let i,a;if(n===void 0?i=Ar.insert(e,r):ct.is(n)?(a=n,i=Xr.insert(e,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(n),i=Xr.insert(e,r,a)),this.edits.push(i),a!==void 0)return a}replace(e,r,n){let i,a;if(n===void 0?i=Ar.replace(e,r):ct.is(n)?(a=n,i=Xr.replace(e,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(n),i=Xr.replace(e,r,a)),this.edits.push(i),a!==void 0)return a}delete(e,r){let n,i;if(r===void 0?n=Ar.del(e):ct.is(r)?(i=r,n=Xr.del(e,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=Xr.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},tl=class{static{s(this,"ChangeAnnotations")}constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,r){let n;if(ct.is(e)?n=e:(n=this.nextId(),r=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},Xf=class{static{s(this,"WorkspaceChange")}constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new tl(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(r=>{if(Ga.is(r)){let n=new is(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(r=>{let n=new is(e.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(Ua.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:e.uri,version:e.version},n=this._textEditChanges[r.uri];if(!n){let i=[],a={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(a),n=new is(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[e];if(!r){let n=[];this._workspaceEdit.changes[e]=n,r=new is(n),this._textEditChanges[e]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new tl,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;ii.is(r)||ct.is(r)?i=r:n=r;let a,o;if(i===void 0?a=ss.create(e,n):(o=ct.is(i)?i:this._changeAnnotations.manage(i),a=ss.create(e,n,o)),this._workspaceEdit.documentChanges.push(a),o!==void 0)return o}renameFile(e,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let a;ii.is(n)||ct.is(n)?a=n:i=n;let o,c;if(a===void 0?o=as.create(e,r,i):(c=ct.is(a)?a:this._changeAnnotations.manage(a),o=as.create(e,r,i,c)),this._workspaceEdit.documentChanges.push(o),c!==void 0)return c}deleteFile(e,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;ii.is(r)||ct.is(r)?i=r:n=r;let a,o;if(i===void 0?a=os.create(e,n):(o=ct.is(i)?i:this._changeAnnotations.manage(i),a=os.create(e,n,o)),this._workspaceEdit.documentChanges.push(a),o!==void 0)return o}};(function(t){function e(n){return{uri:n}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.string(i.uri)}s(r,"is"),t.is=r})(Jf||(Jf={}));(function(t){function e(n,i){return{uri:n,version:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.string(i.uri)&&g.integer(i.version)}s(r,"is"),t.is=r})(Qf||(Qf={}));(function(t){function e(n,i){return{uri:n,version:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.string(i.uri)&&(i.version===null||g.integer(i.version))}s(r,"is"),t.is=r})(Ua||(Ua={}));(function(t){function e(n,i,a,o){return{uri:n,languageId:i,version:a,text:o}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.string(i.uri)&&g.string(i.languageId)&&g.integer(i.version)&&g.string(i.text)}s(r,"is"),t.is=r})(Zf||(Zf={}));(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(r){let n=r;return n===t.PlainText||n===t.Markdown}s(e,"is"),t.is=e})(rl||(rl={}));(function(t){function e(r){let n=r;return g.objectLiteral(r)&&rl.is(n.kind)&&g.string(n.value)}s(e,"is"),t.is=e})(cs||(cs={}));(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(ed||(ed={}));(function(t){t.PlainText=1,t.Snippet=2})(td||(td={}));(function(t){t.Deprecated=1})(rd||(rd={}));(function(t){function e(n,i,a){return{newText:n,insert:i,replace:a}}s(e,"create"),t.create=e;function r(n){let i=n;return i&&g.string(i.newText)&&ie.is(i.insert)&&ie.is(i.replace)}s(r,"is"),t.is=r})(nd||(nd={}));(function(t){t.asIs=1,t.adjustIndentation=2})(id||(id={}));(function(t){function e(r){let n=r;return n&&(g.string(n.detail)||n.detail===void 0)&&(g.string(n.description)||n.description===void 0)}s(e,"is"),t.is=e})(sd||(sd={}));(function(t){function e(r){return{label:r}}s(e,"create"),t.create=e})(ad||(ad={}));(function(t){function e(r,n){return{items:r||[],isIncomplete:!!n}}s(e,"create"),t.create=e})(od||(od={}));(function(t){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}s(e,"fromPlainText"),t.fromPlainText=e;function r(n){let i=n;return g.string(i)||g.objectLiteral(i)&&g.string(i.language)&&g.string(i.value)}s(r,"is"),t.is=r})(qa||(qa={}));(function(t){function e(r){let n=r;return!!n&&g.objectLiteral(n)&&(cs.is(n.contents)||qa.is(n.contents)||g.typedArray(n.contents,qa.is))&&(r.range===void 0||ie.is(r.range))}s(e,"is"),t.is=e})(cd||(cd={}));(function(t){function e(r,n){return n?{label:r,documentation:n}:{label:r}}s(e,"create"),t.create=e})(ld||(ld={}));(function(t){function e(r,n,...i){let a={label:r};return g.defined(n)&&(a.documentation=n),g.defined(i)?a.parameters=i:a.parameters=[],a}s(e,"create"),t.create=e})(ud||(ud={}));(function(t){t.Text=1,t.Read=2,t.Write=3})(fd||(fd={}));(function(t){function e(r,n){let i={range:r};return g.number(n)&&(i.kind=n),i}s(e,"create"),t.create=e})(dd||(dd={}));(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(pd||(pd={}));(function(t){t.Deprecated=1})(hd||(hd={}));(function(t){function e(r,n,i,a,o){let c={name:r,kind:n,location:{uri:a,range:i}};return o&&(c.containerName=o),c}s(e,"create"),t.create=e})(md||(md={}));(function(t){function e(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}s(e,"create"),t.create=e})(gd||(gd={}));(function(t){function e(n,i,a,o,c,l){let u={name:n,detail:i,kind:a,range:o,selectionRange:c};return l!==void 0&&(u.children=l),u}s(e,"create"),t.create=e;function r(n){let i=n;return i&&g.string(i.name)&&g.number(i.kind)&&ie.is(i.range)&&ie.is(i.selectionRange)&&(i.detail===void 0||g.string(i.detail))&&(i.deprecated===void 0||g.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}s(r,"is"),t.is=r})(yd||(yd={}));(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Td||(Td={}));(function(t){t.Invoked=1,t.Automatic=2})(za||(za={}));(function(t){function e(n,i,a){let o={diagnostics:n};return i!=null&&(o.only=i),a!=null&&(o.triggerKind=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.typedArray(i.diagnostics,Fa.is)&&(i.only===void 0||g.typedArray(i.only,g.string))&&(i.triggerKind===void 0||i.triggerKind===za.Invoked||i.triggerKind===za.Automatic)}s(r,"is"),t.is=r})(Rd||(Rd={}));(function(t){function e(n,i,a){let o={title:n},c=!0;return typeof i=="string"?(c=!1,o.kind=i):si.is(i)?o.command=i:o.edit=i,c&&a!==void 0&&(o.kind=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return i&&g.string(i.title)&&(i.diagnostics===void 0||g.typedArray(i.diagnostics,Fa.is))&&(i.kind===void 0||g.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||si.is(i.command))&&(i.isPreferred===void 0||g.boolean(i.isPreferred))&&(i.edit===void 0||el.is(i.edit))}s(r,"is"),t.is=r})(xd||(xd={}));(function(t){function e(n,i){let a={range:n};return g.defined(i)&&(a.data=i),a}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&ie.is(i.range)&&(g.undefined(i.command)||si.is(i.command))}s(r,"is"),t.is=r})(Ed||(Ed={}));(function(t){function e(n,i){return{tabSize:n,insertSpaces:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&g.uinteger(i.tabSize)&&g.boolean(i.insertSpaces)}s(r,"is"),t.is=r})(vd||(vd={}));(function(t){function e(n,i,a){return{range:n,target:i,data:a}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&ie.is(i.range)&&(g.undefined(i.target)||g.string(i.target))}s(r,"is"),t.is=r})(Ad||(Ad={}));(function(t){function e(n,i){return{range:n,parent:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ie.is(i.range)&&(i.parent===void 0||t.is(i.parent))}s(r,"is"),t.is=r})($d||($d={}));(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Sd||(Sd={}));(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(kd||(kd={}));(function(t){function e(r){let n=r;return g.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}s(e,"is"),t.is=e})(Cd||(Cd={}));(function(t){function e(n,i){return{range:n,text:i}}s(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&ie.is(i.range)&&g.string(i.text)}s(r,"is"),t.is=r})(Nd||(Nd={}));(function(t){function e(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}s(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&ie.is(i.range)&&g.boolean(i.caseSensitiveLookup)&&(g.string(i.variableName)||i.variableName===void 0)}s(r,"is"),t.is=r})(wd||(wd={}));(function(t){function e(n,i){return{range:n,expression:i}}s(e,"create"),t.create=e;function r(n){let i=n;return i!=null&&ie.is(i.range)&&(g.string(i.expression)||i.expression===void 0)}s(r,"is"),t.is=r})(Id||(Id={}));(function(t){function e(n,i){return{frameId:n,stoppedLocation:i}}s(e,"create"),t.create=e;function r(n){let i=n;return g.defined(i)&&ie.is(n.stoppedLocation)}s(r,"is"),t.is=r})(_d||(_d={}));(function(t){t.Type=1,t.Parameter=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(nl||(nl={}));(function(t){function e(n){return{value:n}}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&(i.tooltip===void 0||g.string(i.tooltip)||cs.is(i.tooltip))&&(i.location===void 0||Ma.is(i.location))&&(i.command===void 0||si.is(i.command))}s(r,"is"),t.is=r})(il||(il={}));(function(t){function e(n,i,a){let o={position:n,label:i};return a!==void 0&&(o.kind=a),o}s(e,"create"),t.create=e;function r(n){let i=n;return g.objectLiteral(i)&&ce.is(i.position)&&(g.string(i.label)||g.typedArray(i.label,il.is))&&(i.kind===void 0||nl.is(i.kind))&&i.textEdits===void 0||g.typedArray(i.textEdits,Ar.is)&&(i.tooltip===void 0||g.string(i.tooltip)||cs.is(i.tooltip))&&(i.paddingLeft===void 0||g.boolean(i.paddingLeft))&&(i.paddingRight===void 0||g.boolean(i.paddingRight))}s(r,"is"),t.is=r})(bd||(bd={}));(function(t){function e(r){return{kind:"snippet",value:r}}s(e,"createSnippet"),t.createSnippet=e})(Pd||(Pd={}));(function(t){function e(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}s(e,"create"),t.create=e})(Od||(Od={}));(function(t){function e(r){return{items:r}}s(e,"create"),t.create=e})(Ld||(Ld={}));(function(t){t.Invoked=0,t.Automatic=1})(Dd||(Dd={}));(function(t){function e(r,n){return{range:r,text:n}}s(e,"create"),t.create=e})(Md||(Md={}));(function(t){function e(r,n){return{triggerKind:r,selectedCompletionInfo:n}}s(e,"create"),t.create=e})(Fd||(Fd={}));(function(t){function e(r){let n=r;return g.objectLiteral(n)&&Jc.is(n.uri)&&g.string(n.name)}s(e,"is"),t.is=e})(Gd||(Gd={}));IA=[`
`,`\r
`,"\r"];(function(t){function e(a,o,c,l){return new qd(a,o,c,l)}s(e,"create"),t.create=e;function r(a){let o=a;return!!(g.defined(o)&&g.string(o.uri)&&(g.undefined(o.languageId)||g.string(o.languageId))&&g.uinteger(o.lineCount)&&g.func(o.getText)&&g.func(o.positionAt)&&g.func(o.offsetAt))}s(r,"is"),t.is=r;function n(a,o){let c=a.getText(),l=i(o,(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),u=c.length;for(let d=l.length-1;d>=0;d--){let h=l[d],m=a.offsetAt(h.range.start),y=a.offsetAt(h.range.end);if(y<=u)c=c.substring(0,m)+h.newText+c.substring(y,c.length);else throw new Error("Overlapping edit");u=m}return c}s(n,"applyEdits"),t.applyEdits=n;function i(a,o){if(a.length<=1)return a;let c=a.length/2|0,l=a.slice(0,c),u=a.slice(c);i(l,o),i(u,o);let d=0,h=0,m=0;for(;d<l.length&&h<u.length;)o(l[d],u[h])<=0?a[m++]=l[d++]:a[m++]=u[h++];for(;d<l.length;)a[m++]=l[d++];for(;h<u.length;)a[m++]=u[h++];return a}s(i,"mergeSort")})(Ud||(Ud={}));qd=class{static{s(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){this._content=e.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(e.push(i),n=!1);let a=r.charAt(i);n=a==="\r"||a===`
`,a==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&e.push(r.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return ce.create(0,e);for(;n<i;){let o=Math.floor((n+i)/2);r[o]>e?i=o:n=o+1}let a=n-1;return ce.create(a,e-r[a])}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line],i=e.line+1<r.length?r[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(t){let e=Object.prototype.toString;function r(y){return typeof y<"u"}s(r,"defined"),t.defined=r;function n(y){return typeof y>"u"}s(n,"undefined"),t.undefined=n;function i(y){return y===!0||y===!1}s(i,"boolean"),t.boolean=i;function a(y){return e.call(y)==="[object String]"}s(a,"string"),t.string=a;function o(y){return e.call(y)==="[object Number]"}s(o,"number"),t.number=o;function c(y,C,w){return e.call(y)==="[object Number]"&&C<=y&&y<=w}s(c,"numberRange"),t.numberRange=c;function l(y){return e.call(y)==="[object Number]"&&-2147483648<=y&&y<=2147483647}s(l,"integer"),t.integer=l;function u(y){return e.call(y)==="[object Number]"&&0<=y&&y<=2147483647}s(u,"uinteger"),t.uinteger=u;function d(y){return e.call(y)==="[object Function]"}s(d,"func"),t.func=d;function h(y){return y!==null&&typeof y=="object"}s(h,"objectLiteral"),t.objectLiteral=h;function m(y,C){return Array.isArray(y)&&y.every(C)}s(m,"typedArray"),t.typedArray=m})(g||(g={}))});var En=X(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var Yd;function Xd(){if(Yd===void 0)throw new Error("No runtime abstraction layer installed");return Yd}s(Xd,"RAL");(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Yd=r}s(e,"install"),t.install=e})(Xd||(Xd={}));Jd.default=Xd});var ds=X(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.stringArray=gt.array=gt.func=gt.error=gt.number=gt.string=gt.boolean=void 0;function zA(t){return t===!0||t===!1}s(zA,"boolean");gt.boolean=zA;function Xg(t){return typeof t=="string"||t instanceof String}s(Xg,"string");gt.string=Xg;function jA(t){return typeof t=="number"||t instanceof Number}s(jA,"number");gt.number=jA;function BA(t){return t instanceof Error}s(BA,"error");gt.error=BA;function WA(t){return typeof t=="function"}s(WA,"func");gt.func=WA;function Jg(t){return Array.isArray(t)}s(Jg,"array");gt.array=Jg;function VA(t){return Jg(t)&&t.every(e=>Xg(e))}s(VA,"stringArray");gt.stringArray=VA});var ui=X(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.Emitter=ps.Event=void 0;var KA=En(),Qg;(function(t){let e={dispose(){}};t.None=function(){return e}})(Qg||(ps.Event=Qg={}));var Qd=class{static{s(this,"CallbackList")}add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:s(()=>this.remove(e,r),"dispose")})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,a=this._callbacks.length;i<a;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let a=0,o=n.length;a<o;a++)try{r.push(n[a].apply(i[a],e))}catch(c){(0,KA.default)().console.error(c)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ul=class t{static{s(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new Qd),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:s(()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ps.Emitter=ul;ul._noop=function(){}});var Ya=X(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.CancellationTokenSource=hs.CancellationToken=void 0;var HA=En(),YA=ds(),Zd=ui(),fl;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Zd.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Zd.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||YA.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}s(e,"is"),t.is=e})(fl||(hs.CancellationToken=fl={}));var XA=Object.freeze(function(t,e){let r=(0,HA.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),dl=class{static{s(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?XA:(this._emitter||(this._emitter=new Zd.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ep=class{static{s(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new dl),this._token}cancel(){this._token?this._token.cancel():this._token=fl.Cancelled}dispose(){this._token?this._token instanceof dl&&this._token.dispose():this._token=fl.None}};hs.CancellationTokenSource=ep});var wp=X(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.Message=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType=j.RequestType0=j.AbstractMessageSignature=j.ParameterStructures=j.ResponseError=j.ErrorCodes=void 0;var mi=ds(),sp;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(sp||(j.ErrorCodes=sp={}));var ap=class t extends Error{static{s(this,"ResponseError")}constructor(e,r,n){super(r),this.code=mi.number(e)?e:sp.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};j.ResponseError=ap;var Ot=class t{static{s(this,"ParameterStructures")}constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};j.ParameterStructures=Ot;Ot.auto=new Ot("auto");Ot.byPosition=new Ot("byPosition");Ot.byName=new Ot("byName");var Ce=class{static{s(this,"AbstractMessageSignature")}constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return Ot.auto}};j.AbstractMessageSignature=Ce;var op=class extends Ce{static{s(this,"RequestType0")}constructor(e){super(e,0)}};j.RequestType0=op;var cp=class extends Ce{static{s(this,"RequestType")}constructor(e,r=Ot.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};j.RequestType=cp;var lp=class extends Ce{static{s(this,"RequestType1")}constructor(e,r=Ot.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};j.RequestType1=lp;var up=class extends Ce{static{s(this,"RequestType2")}constructor(e){super(e,2)}};j.RequestType2=up;var fp=class extends Ce{static{s(this,"RequestType3")}constructor(e){super(e,3)}};j.RequestType3=fp;var dp=class extends Ce{static{s(this,"RequestType4")}constructor(e){super(e,4)}};j.RequestType4=dp;var pp=class extends Ce{static{s(this,"RequestType5")}constructor(e){super(e,5)}};j.RequestType5=pp;var hp=class extends Ce{static{s(this,"RequestType6")}constructor(e){super(e,6)}};j.RequestType6=hp;var mp=class extends Ce{static{s(this,"RequestType7")}constructor(e){super(e,7)}};j.RequestType7=mp;var gp=class extends Ce{static{s(this,"RequestType8")}constructor(e){super(e,8)}};j.RequestType8=gp;var yp=class extends Ce{static{s(this,"RequestType9")}constructor(e){super(e,9)}};j.RequestType9=yp;var Tp=class extends Ce{static{s(this,"NotificationType")}constructor(e,r=Ot.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};j.NotificationType=Tp;var Rp=class extends Ce{static{s(this,"NotificationType0")}constructor(e){super(e,0)}};j.NotificationType0=Rp;var xp=class extends Ce{static{s(this,"NotificationType1")}constructor(e,r=Ot.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};j.NotificationType1=xp;var Ep=class extends Ce{static{s(this,"NotificationType2")}constructor(e){super(e,2)}};j.NotificationType2=Ep;var vp=class extends Ce{static{s(this,"NotificationType3")}constructor(e){super(e,3)}};j.NotificationType3=vp;var Ap=class extends Ce{static{s(this,"NotificationType4")}constructor(e){super(e,4)}};j.NotificationType4=Ap;var $p=class extends Ce{static{s(this,"NotificationType5")}constructor(e){super(e,5)}};j.NotificationType5=$p;var Sp=class extends Ce{static{s(this,"NotificationType6")}constructor(e){super(e,6)}};j.NotificationType6=Sp;var kp=class extends Ce{static{s(this,"NotificationType7")}constructor(e){super(e,7)}};j.NotificationType7=kp;var Cp=class extends Ce{static{s(this,"NotificationType8")}constructor(e){super(e,8)}};j.NotificationType8=Cp;var Np=class extends Ce{static{s(this,"NotificationType9")}constructor(e){super(e,9)}};j.NotificationType9=Np;var uy;(function(t){function e(i){let a=i;return a&&mi.string(a.method)&&(mi.string(a.id)||mi.number(a.id))}s(e,"isRequest"),t.isRequest=e;function r(i){let a=i;return a&&mi.string(a.method)&&i.id===void 0}s(r,"isNotification"),t.isNotification=r;function n(i){let a=i;return a&&(a.result!==void 0||!!a.error)&&(mi.string(a.id)||mi.number(a.id)||a.id===null)}s(n,"isResponse"),t.isResponse=n})(uy||(j.Message=uy={}))});var _p=X(vn=>{"use strict";var fy;Object.defineProperty(vn,"__esModule",{value:!0});vn.LRUCache=vn.LinkedMap=vn.Touch=void 0;var Tt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Tt||(vn.Touch=Tt={}));var Rl=class{static{s(this,"LinkedMap")}constructor(){this[fy]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=Tt.None){let n=this._map.get(e);if(n)return r!==Tt.None&&this.touch(n,r),n.value}set(e,r,n=Tt.None){let i=this._map.get(e);if(i)i.value=r,n!==Tt.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case Tt.None:this.addItemLast(i);break;case Tt.First:this.addItemFirst(i);break;case Tt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:s(()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}},"next")};return n}[(fy=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Tt.First&&r!==Tt.Last)){if(r===Tt.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===Tt.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};vn.LinkedMap=Rl;var Ip=class extends Rl{static{s(this,"LRUCache")}constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=Tt.AsNew){return super.get(e,r)}peek(e){return super.get(e,Tt.None)}set(e,r){return super.set(e,r,Tt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};vn.LRUCache=Ip});var py=X(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.Disposable=void 0;var dy;(function(t){function e(r){return{dispose:r}}s(e,"create"),t.create=e})(dy||(xl.Disposable=dy={}))});var hy=X(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.SharedArrayReceiverStrategy=Es.SharedArraySenderStrategy=void 0;var ZA=Ya(),ho;(function(t){t.Continue=0,t.Cancelled=1})(ho||(ho={}));var bp=class{static{s(this,"SharedArraySenderStrategy")}constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=ho.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,ho.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Es.SharedArraySenderStrategy=bp;var Pp=class{static{s(this,"SharedArrayBufferCancellationToken")}constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ho.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Op=class{static{s(this,"SharedArrayBufferCancellationTokenSource")}constructor(e){this.token=new Pp(e)}cancel(){}dispose(){}},Lp=class{static{s(this,"SharedArrayReceiverStrategy")}constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new ZA.CancellationTokenSource:new Op(r)}};Es.SharedArrayReceiverStrategy=Lp});var Mp=X(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.Semaphore=void 0;var e$=En(),Dp=class{static{s(this,"Semaphore")}constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e$.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};El.Semaphore=Dp});var gy=X(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.ReadableStreamMessageReader=An.AbstractMessageReader=An.MessageReader=void 0;var Gp=En(),vs=ds(),Fp=ui(),t$=Mp(),my;(function(t){function e(r){let n=r;return n&&vs.func(n.listen)&&vs.func(n.dispose)&&vs.func(n.onError)&&vs.func(n.onClose)&&vs.func(n.onPartialMessage)}s(e,"is"),t.is=e})(my||(An.MessageReader=my={}));var vl=class{static{s(this,"AbstractMessageReader")}constructor(){this.errorEmitter=new Fp.Emitter,this.closeEmitter=new Fp.Emitter,this.partialMessageEmitter=new Fp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${vs.string(e.message)?e.message:"unknown"}`)}};An.AbstractMessageReader=vl;var Up;(function(t){function e(r){let n,i,a,o=new Map,c,l=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(a=r.contentDecoder,o.set(a.name,a)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)o.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(c=r.contentTypeDecoder,l.set(c.name,c)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)l.set(u.name,u)}return c===void 0&&(c=(0,Gp.default)().applicationJson.decoder,l.set(c.name,c)),{charset:n,contentDecoder:a,contentDecoders:o,contentTypeDecoder:c,contentTypeDecoders:l}}s(e,"fromOptions"),t.fromOptions=e})(Up||(Up={}));var qp=class extends vl{static{s(this,"ReadableStreamMessageReader")}constructor(e,r){super(),this.readable=e,this.options=Up.fromOptions(r),this.buffer=(0,Gp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new t$.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let a=parseInt(i);if(isNaN(a)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=a}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gp.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};An.ReadableStreamMessageReader=qp});var Ey=X($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.WriteableStreamMessageWriter=$n.AbstractMessageWriter=$n.MessageWriter=void 0;var yy=En(),mo=ds(),r$=Mp(),Ty=ui(),n$="Content-Length: ",Ry=`\r
`,xy;(function(t){function e(r){let n=r;return n&&mo.func(n.dispose)&&mo.func(n.onClose)&&mo.func(n.onError)&&mo.func(n.write)}s(e,"is"),t.is=e})(xy||($n.MessageWriter=xy={}));var Al=class{static{s(this,"AbstractMessageWriter")}constructor(){this.errorEmitter=new Ty.Emitter,this.closeEmitter=new Ty.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${mo.string(e.message)?e.message:"unknown"}`)}};$n.AbstractMessageWriter=Al;var zp;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,yy.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,yy.default)().applicationJson.encoder}}s(e,"fromOptions"),t.fromOptions=e})(zp||(zp={}));var jp=class extends Al{static{s(this,"WriteableStreamMessageWriter")}constructor(e,r){super(),this.writable=e,this.options=zp.fromOptions(r),this.errorCount=0,this.writeSemaphore=new r$.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(n$,n.byteLength.toString(),Ry),i.push(Ry),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};$n.WriteableStreamMessageWriter=jp});var vy=X($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.AbstractMessageBuffer=void 0;var i$=13,s$=10,a$=`\r
`,Bp=class{static{s(this,"AbstractMessageBuffer")}constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,a=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case i$:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case s$:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}a+=u.byteLength,n++}if(r!==4)return;let o=this._read(a+i),c=new Map,l=this.toString(o,"ascii").split(a$);if(l.length<2)return c;for(let u=0;u<l.length-2;u++){let d=l[u],h=d.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let m=d.substr(0,h),y=d.substr(h+1).trim();c.set(e?m.toLowerCase():m,y)}return c}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let a=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(a)}if(this._chunks[0].byteLength>e){let a=this._chunks[0],o=this.asNative(a,e);return this._chunks[0]=a.slice(e),this._totalLength-=e,o}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let a=this._chunks[i];if(a.byteLength>e){let o=a.slice(0,e);r.set(o,n),n+=e,this._chunks[i]=a.slice(e),this._totalLength-=e,e-=e}else r.set(a,n),n+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,e-=a.byteLength}return r}};$l.AbstractMessageBuffer=Bp});var Cy=X(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.createMessageConnection=J.ConnectionOptions=J.MessageStrategy=J.CancellationStrategy=J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.RequestCancellationReceiverStrategy=J.IdCancellationReceiverStrategy=J.ConnectionStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.TraceValues=J.Trace=J.NullLogger=J.ProgressType=J.ProgressToken=void 0;var Ay=En(),Me=ds(),K=wp(),$y=_p(),go=ui(),Wp=Ya(),Ro;(function(t){t.type=new K.NotificationType("$/cancelRequest")})(Ro||(Ro={}));var Vp;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}s(e,"is"),t.is=e})(Vp||(J.ProgressToken=Vp={}));var yo;(function(t){t.type=new K.NotificationType("$/progress")})(yo||(yo={}));var Kp=class{static{s(this,"ProgressType")}constructor(){}};J.ProgressType=Kp;var Hp;(function(t){function e(r){return Me.func(r)}s(e,"is"),t.is=e})(Hp||(Hp={}));J.NullLogger=Object.freeze({error:s(()=>{},"error"),warn:s(()=>{},"warn"),info:s(()=>{},"info"),log:s(()=>{},"log")});var fe;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(fe||(J.Trace=fe={}));var Sy;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Sy||(J.TraceValues=Sy={}));(function(t){function e(n){if(!Me.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}s(e,"fromString"),t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}s(r,"toString"),t.toString=r})(fe||(J.Trace=fe={}));var Bt;(function(t){t.Text="text",t.JSON="json"})(Bt||(J.TraceFormat=Bt={}));(function(t){function e(r){return Me.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}s(e,"fromString"),t.fromString=e})(Bt||(J.TraceFormat=Bt={}));var Yp;(function(t){t.type=new K.NotificationType("$/setTrace")})(Yp||(J.SetTraceNotification=Yp={}));var Sl;(function(t){t.type=new K.NotificationType("$/logTrace")})(Sl||(J.LogTraceNotification=Sl={}));var To;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(To||(J.ConnectionErrors=To={}));var As=class t extends Error{static{s(this,"ConnectionError")}constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};J.ConnectionError=As;var Xp;(function(t){function e(r){let n=r;return n&&Me.func(n.cancelUndispatched)}s(e,"is"),t.is=e})(Xp||(J.ConnectionStrategy=Xp={}));var kl;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Me.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Me.func(n.dispose))}s(e,"is"),t.is=e})(kl||(J.IdCancellationReceiverStrategy=kl={}));var Jp;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&Me.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Me.func(n.dispose))}s(e,"is"),t.is=e})(Jp||(J.RequestCancellationReceiverStrategy=Jp={}));var Cl;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new Wp.CancellationTokenSource}});function e(r){return kl.is(r)||Jp.is(r)}s(e,"is"),t.is=e})(Cl||(J.CancellationReceiverStrategy=Cl={}));var Nl;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Ro.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&Me.func(n.sendCancellation)&&Me.func(n.cleanup)}s(e,"is"),t.is=e})(Nl||(J.CancellationSenderStrategy=Nl={}));var wl;(function(t){t.Message=Object.freeze({receiver:Cl.Message,sender:Nl.Message});function e(r){let n=r;return n&&Cl.is(n.receiver)&&Nl.is(n.sender)}s(e,"is"),t.is=e})(wl||(J.CancellationStrategy=wl={}));var Il;(function(t){function e(r){let n=r;return n&&Me.func(n.handleMessage)}s(e,"is"),t.is=e})(Il||(J.MessageStrategy=Il={}));var ky;(function(t){function e(r){let n=r;return n&&(wl.is(n.cancellationStrategy)||Xp.is(n.connectionStrategy)||Il.is(n.messageStrategy))}s(e,"is"),t.is=e})(ky||(J.ConnectionOptions=ky={}));var lr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(lr||(lr={}));function o$(t,e,r,n){let i=r!==void 0?r:J.NullLogger,a=0,o=0,c=0,l="2.0",u,d=new Map,h,m=new Map,y=new Map,C,w=new $y.LinkedMap,z=new Map,M=new Set,P=new Map,A=fe.Off,H=Bt.Text,U,me=lr.New,dr=new go.Emitter,Xe=new go.Emitter,Qt=new go.Emitter,Vt=new go.Emitter,S=new go.Emitter,T=n&&n.cancellationStrategy?n.cancellationStrategy:wl.Message;function L(p){if(p===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+p.toString()}s(L,"createRequestQueueKey");function O(p){return p===null?"res-unknown-"+(++c).toString():"res-"+p.toString()}s(O,"createResponseQueueKey");function R(){return"not-"+(++o).toString()}s(R,"createNotificationQueueKey");function E(p,v){K.Message.isRequest(v)?p.set(L(v.id),v):K.Message.isResponse(v)?p.set(O(v.id),v):p.set(R(),v)}s(E,"addMessageToQueue");function $(p){}s($,"cancelUndispatched");function b(){return me===lr.Listening}s(b,"isListening");function F(){return me===lr.Closed}s(F,"isClosed");function N(){return me===lr.Disposed}s(N,"isDisposed");function Y(){(me===lr.New||me===lr.Listening)&&(me=lr.Closed,Xe.fire(void 0))}s(Y,"closeHandler");function Q(p){dr.fire([p,void 0,void 0])}s(Q,"readErrorHandler");function Be(p){dr.fire(p)}s(Be,"writeErrorHandler"),t.onClose(Y),t.onError(Q),e.onClose(Y),e.onError(Be);function ue(){C||w.size===0||(C=(0,Ay.default)().timer.setImmediate(()=>{C=void 0,pr()}))}s(ue,"triggerMessageQueue");function be(p){K.Message.isRequest(p)?It(p):K.Message.isNotification(p)?xt(p):K.Message.isResponse(p)?en(p):Zt(p)}s(be,"handleMessage");function pr(){if(w.size===0)return;let p=w.shift();try{let v=n?.messageStrategy;Il.is(v)?v.handleMessage(p,be):be(p)}finally{ue()}}s(pr,"processMessageQueue");let rt=s(p=>{try{if(K.Message.isNotification(p)&&p.method===Ro.type.method){let v=p.params.id,I=L(v),q=w.get(I);if(K.Message.isRequest(q)){let ge=n?.connectionStrategy,Fe=ge&&ge.cancelUndispatched?ge.cancelUndispatched(q,$):void 0;if(Fe&&(Fe.error!==void 0||Fe.result!==void 0)){w.delete(I),P.delete(v),Fe.id=q.id,tn(Fe,p.method,Date.now()),e.write(Fe).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ae=P.get(v);if(Ae!==void 0){Ae.cancel(),uu(p);return}else M.add(v)}E(w,p)}finally{ue()}},"callback");function It(p){if(N())return;function v(oe,Pe,he){let Je={jsonrpc:l,id:p.id};oe instanceof K.ResponseError?Je.error=oe.toJson():Je.result=oe===void 0?null:oe,tn(Je,Pe,he),e.write(Je).catch(()=>i.error("Sending response failed."))}s(v,"reply");function I(oe,Pe,he){let Je={jsonrpc:l,id:p.id,error:oe.toJson()};tn(Je,Pe,he),e.write(Je).catch(()=>i.error("Sending response failed."))}s(I,"replyError");function q(oe,Pe,he){oe===void 0&&(oe=null);let Je={jsonrpc:l,id:p.id,result:oe};tn(Je,Pe,he),e.write(Je).catch(()=>i.error("Sending response failed."))}s(q,"replySuccess"),Fo(p);let Ae=d.get(p.method),ge,Fe;Ae&&(ge=Ae.type,Fe=Ae.handler);let ze=Date.now();if(Fe||u){let oe=p.id??String(Date.now()),Pe=kl.is(T.receiver)?T.receiver.createCancellationTokenSource(oe):T.receiver.createCancellationTokenSource(p);p.id!==null&&M.has(p.id)&&Pe.cancel(),p.id!==null&&P.set(oe,Pe);try{let he;if(Fe)if(p.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){I(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${p.method} defines ${ge.numberOfParams} params but received none.`),p.method,ze);return}he=Fe(Pe.token)}else if(Array.isArray(p.params)){if(ge!==void 0&&ge.parameterStructures===K.ParameterStructures.byName){I(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${p.method} defines parameters by name but received parameters by position`),p.method,ze);return}he=Fe(...p.params,Pe.token)}else{if(ge!==void 0&&ge.parameterStructures===K.ParameterStructures.byPosition){I(new K.ResponseError(K.ErrorCodes.InvalidParams,`Request ${p.method} defines parameters by position but received parameters by name`),p.method,ze);return}he=Fe(p.params,Pe.token)}else u&&(he=u(p.method,p.params,Pe.token));let Je=he;he?Je.then?Je.then(Et=>{P.delete(oe),v(Et,p.method,ze)},Et=>{P.delete(oe),Et instanceof K.ResponseError?I(Et,p.method,ze):Et&&Me.string(Et.message)?I(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${p.method} failed with message: ${Et.message}`),p.method,ze):I(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${p.method} failed unexpectedly without providing any details.`),p.method,ze)}):(P.delete(oe),v(he,p.method,ze)):(P.delete(oe),q(he,p.method,ze))}catch(he){P.delete(oe),he instanceof K.ResponseError?v(he,p.method,ze):he&&Me.string(he.message)?I(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${p.method} failed with message: ${he.message}`),p.method,ze):I(new K.ResponseError(K.ErrorCodes.InternalError,`Request ${p.method} failed unexpectedly without providing any details.`),p.method,ze)}}else I(new K.ResponseError(K.ErrorCodes.MethodNotFound,`Unhandled method ${p.method}`),p.method,ze)}s(It,"handleRequest");function en(p){if(!N())if(p.id===null)p.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(p.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let v=p.id,I=z.get(v);if(Zx(p,I),I!==void 0){z.delete(v);try{if(p.error){let q=p.error;I.reject(new K.ResponseError(q.code,q.message,q.data))}else if(p.result!==void 0)I.resolve(p.result);else throw new Error("Should never happen.")}catch(q){q.message?i.error(`Response handler '${I.method}' failed with message: ${q.message}`):i.error(`Response handler '${I.method}' failed unexpectedly.`)}}}}s(en,"handleResponse");function xt(p){if(N())return;let v,I;if(p.method===Ro.type.method){let q=p.params.id;M.delete(q),uu(p);return}else{let q=m.get(p.method);q&&(I=q.handler,v=q.type)}if(I||h)try{if(uu(p),I)if(p.params===void 0)v!==void 0&&v.numberOfParams!==0&&v.parameterStructures!==K.ParameterStructures.byName&&i.error(`Notification ${p.method} defines ${v.numberOfParams} params but received none.`),I();else if(Array.isArray(p.params)){let q=p.params;p.method===yo.type.method&&q.length===2&&Vp.is(q[0])?I({token:q[0],value:q[1]}):(v!==void 0&&(v.parameterStructures===K.ParameterStructures.byName&&i.error(`Notification ${p.method} defines parameters by name but received parameters by position`),v.numberOfParams!==p.params.length&&i.error(`Notification ${p.method} defines ${v.numberOfParams} params but received ${q.length} arguments`)),I(...q))}else v!==void 0&&v.parameterStructures===K.ParameterStructures.byPosition&&i.error(`Notification ${p.method} defines parameters by position but received parameters by name`),I(p.params);else h&&h(p.method,p.params)}catch(q){q.message?i.error(`Notification handler '${p.method}' failed with message: ${q.message}`):i.error(`Notification handler '${p.method}' failed unexpectedly.`)}else Qt.fire(p)}s(xt,"handleNotification");function Zt(p){if(!p){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(p,null,4)}`);let v=p;if(Me.string(v.id)||Me.number(v.id)){let I=v.id,q=z.get(I);q&&q.reject(new Error("The received response has neither a result nor an error property."))}}s(Zt,"handleInvalidMessage");function at(p){if(p!=null)switch(A){case fe.Verbose:return JSON.stringify(p,null,4);case fe.Compact:return JSON.stringify(p);default:return}}s(at,"stringifyTrace");function er(p){if(!(A===fe.Off||!U))if(H===Bt.Text){let v;(A===fe.Verbose||A===fe.Compact)&&p.params&&(v=`Params: ${at(p.params)}

`),U.log(`Sending request '${p.method} - (${p.id})'.`,v)}else Ai("send-request",p)}s(er,"traceSendingRequest");function Pr(p){if(!(A===fe.Off||!U))if(H===Bt.Text){let v;(A===fe.Verbose||A===fe.Compact)&&(p.params?v=`Params: ${at(p.params)}

`:v=`No parameters provided.

`),U.log(`Sending notification '${p.method}'.`,v)}else Ai("send-notification",p)}s(Pr,"traceSendingNotification");function tn(p,v,I){if(!(A===fe.Off||!U))if(H===Bt.Text){let q;(A===fe.Verbose||A===fe.Compact)&&(p.error&&p.error.data?q=`Error data: ${at(p.error.data)}

`:p.result?q=`Result: ${at(p.result)}

`:p.error===void 0&&(q=`No result returned.

`)),U.log(`Sending response '${v} - (${p.id})'. Processing request took ${Date.now()-I}ms`,q)}else Ai("send-response",p)}s(tn,"traceSendingResponse");function Fo(p){if(!(A===fe.Off||!U))if(H===Bt.Text){let v;(A===fe.Verbose||A===fe.Compact)&&p.params&&(v=`Params: ${at(p.params)}

`),U.log(`Received request '${p.method} - (${p.id})'.`,v)}else Ai("receive-request",p)}s(Fo,"traceReceivedRequest");function uu(p){if(!(A===fe.Off||!U||p.method===Sl.type.method))if(H===Bt.Text){let v;(A===fe.Verbose||A===fe.Compact)&&(p.params?v=`Params: ${at(p.params)}

`:v=`No parameters provided.

`),U.log(`Received notification '${p.method}'.`,v)}else Ai("receive-notification",p)}s(uu,"traceReceivedNotification");function Zx(p,v){if(!(A===fe.Off||!U))if(H===Bt.Text){let I;if((A===fe.Verbose||A===fe.Compact)&&(p.error&&p.error.data?I=`Error data: ${at(p.error.data)}

`:p.result?I=`Result: ${at(p.result)}

`:p.error===void 0&&(I=`No result returned.

`)),v){let q=p.error?` Request failed: ${p.error.message} (${p.error.code}).`:"";U.log(`Received response '${v.method} - (${p.id})' in ${Date.now()-v.timerStart}ms.${q}`,I)}else U.log(`Received response ${p.id} without active response promise.`,I)}else Ai("receive-response",p)}s(Zx,"traceReceivedResponse");function Ai(p,v){if(!U||A===fe.Off)return;let I={isLSPMessage:!0,type:p,message:v,timestamp:Date.now()};U.log(I)}s(Ai,"logLSPMessage");function Ws(){if(F())throw new As(To.Closed,"Connection is closed.");if(N())throw new As(To.Disposed,"Connection is disposed.")}s(Ws,"throwIfClosedOrDisposed");function eE(){if(b())throw new As(To.AlreadyListening,"Connection is already listening")}s(eE,"throwIfListening");function tE(){if(!b())throw new Error("Call listen() first.")}s(tE,"throwIfNotListening");function Vs(p){return p===void 0?null:p}s(Vs,"undefinedToNull");function Zh(p){if(p!==null)return p}s(Zh,"nullToUndefined");function em(p){return p!=null&&!Array.isArray(p)&&typeof p=="object"}s(em,"isNamedParam");function fu(p,v){switch(p){case K.ParameterStructures.auto:return em(v)?Zh(v):[Vs(v)];case K.ParameterStructures.byName:if(!em(v))throw new Error("Received parameters by name but param is not an object literal.");return Zh(v);case K.ParameterStructures.byPosition:return[Vs(v)];default:throw new Error(`Unknown parameter structure ${p.toString()}`)}}s(fu,"computeSingleParam");function tm(p,v){let I,q=p.numberOfParams;switch(q){case 0:I=void 0;break;case 1:I=fu(p.parameterStructures,v[0]);break;default:I=[];for(let Ae=0;Ae<v.length&&Ae<q;Ae++)I.push(Vs(v[Ae]));if(v.length<q)for(let Ae=v.length;Ae<q;Ae++)I.push(null);break}return I}s(tm,"computeMessageParams");let $i={sendNotification:s((p,...v)=>{Ws();let I,q;if(Me.string(p)){I=p;let ge=v[0],Fe=0,ze=K.ParameterStructures.auto;K.ParameterStructures.is(ge)&&(Fe=1,ze=ge);let oe=v.length,Pe=oe-Fe;switch(Pe){case 0:q=void 0;break;case 1:q=fu(ze,v[Fe]);break;default:if(ze===K.ParameterStructures.byName)throw new Error(`Received ${Pe} parameters for 'by Name' notification parameter structure.`);q=v.slice(Fe,oe).map(he=>Vs(he));break}}else{let ge=v;I=p.method,q=tm(p,ge)}let Ae={jsonrpc:l,method:I,params:q};return Pr(Ae),e.write(Ae).catch(ge=>{throw i.error("Sending notification failed."),ge})},"sendNotification"),onNotification:s((p,v)=>{Ws();let I;return Me.func(p)?h=p:v&&(Me.string(p)?(I=p,m.set(p,{type:void 0,handler:v})):(I=p.method,m.set(p.method,{type:p,handler:v}))),{dispose:s(()=>{I!==void 0?m.delete(I):h=void 0},"dispose")}},"onNotification"),onProgress:s((p,v,I)=>{if(y.has(v))throw new Error(`Progress handler for token ${v} already registered`);return y.set(v,I),{dispose:s(()=>{y.delete(v)},"dispose")}},"onProgress"),sendProgress:s((p,v,I)=>$i.sendNotification(yo.type,{token:v,value:I}),"sendProgress"),onUnhandledProgress:Vt.event,sendRequest:s((p,...v)=>{Ws(),tE();let I,q,Ae;if(Me.string(p)){I=p;let oe=v[0],Pe=v[v.length-1],he=0,Je=K.ParameterStructures.auto;K.ParameterStructures.is(oe)&&(he=1,Je=oe);let Et=v.length;Wp.CancellationToken.is(Pe)&&(Et=Et-1,Ae=Pe);let hr=Et-he;switch(hr){case 0:q=void 0;break;case 1:q=fu(Je,v[he]);break;default:if(Je===K.ParameterStructures.byName)throw new Error(`Received ${hr} parameters for 'by Name' request parameter structure.`);q=v.slice(he,Et).map(rE=>Vs(rE));break}}else{let oe=v;I=p.method,q=tm(p,oe);let Pe=p.numberOfParams;Ae=Wp.CancellationToken.is(oe[Pe])?oe[Pe]:void 0}let ge=a++,Fe;Ae&&(Fe=Ae.onCancellationRequested(()=>{let oe=T.sender.sendCancellation($i,ge);return oe===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):oe.catch(()=>{i.log(`Sending cancellation messages for id ${ge} failed`)})}));let ze={jsonrpc:l,id:ge,method:I,params:q};return er(ze),typeof T.sender.enableCancellation=="function"&&T.sender.enableCancellation(ze),new Promise(async(oe,Pe)=>{let he=s(hr=>{oe(hr),T.sender.cleanup(ge),Fe?.dispose()},"resolveWithCleanup"),Je=s(hr=>{Pe(hr),T.sender.cleanup(ge),Fe?.dispose()},"rejectWithCleanup"),Et={method:I,timerStart:Date.now(),resolve:he,reject:Je};try{await e.write(ze),z.set(ge,Et)}catch(hr){throw i.error("Sending request failed."),Et.reject(new K.ResponseError(K.ErrorCodes.MessageWriteError,hr.message?hr.message:"Unknown reason")),hr}})},"sendRequest"),onRequest:s((p,v)=>{Ws();let I=null;return Hp.is(p)?(I=void 0,u=p):Me.string(p)?(I=null,v!==void 0&&(I=p,d.set(p,{handler:v,type:void 0}))):v!==void 0&&(I=p.method,d.set(p.method,{type:p,handler:v})),{dispose:s(()=>{I!==null&&(I!==void 0?d.delete(I):u=void 0)},"dispose")}},"onRequest"),hasPendingResponse:s(()=>z.size>0,"hasPendingResponse"),trace:s(async(p,v,I)=>{let q=!1,Ae=Bt.Text;I!==void 0&&(Me.boolean(I)?q=I:(q=I.sendNotification||!1,Ae=I.traceFormat||Bt.Text)),A=p,H=Ae,A===fe.Off?U=void 0:U=v,q&&!F()&&!N()&&await $i.sendNotification(Yp.type,{value:fe.toString(p)})},"trace"),onError:dr.event,onClose:Xe.event,onUnhandledNotification:Qt.event,onDispose:S.event,end:s(()=>{e.end()},"end"),dispose:s(()=>{if(N())return;me=lr.Disposed,S.fire(void 0);let p=new K.ResponseError(K.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let v of z.values())v.reject(p);z=new Map,P=new Map,M=new Set,w=new $y.LinkedMap,Me.func(e.dispose)&&e.dispose(),Me.func(t.dispose)&&t.dispose()},"dispose"),listen:s(()=>{Ws(),eE(),me=lr.Listening,t.listen(rt)},"listen"),inspect:s(()=>{(0,Ay.default)().console.log("inspect")},"inspect")};return $i.onNotification(Sl.type,p=>{if(A===fe.Off||!U)return;let v=A===fe.Verbose||A===fe.Compact;U.log(p.message,v?p.verbose:void 0)}),$i.onNotification(yo.type,p=>{let v=y.get(p.token);v?v(p.value):Vt.fire(p)}),$i}s(o$,"createMessageConnection");J.createMessageConnection=o$});var _l=X(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.ProgressType=x.ProgressToken=x.createMessageConnection=x.NullLogger=x.ConnectionOptions=x.ConnectionStrategy=x.AbstractMessageBuffer=x.WriteableStreamMessageWriter=x.AbstractMessageWriter=x.MessageWriter=x.ReadableStreamMessageReader=x.AbstractMessageReader=x.MessageReader=x.SharedArrayReceiverStrategy=x.SharedArraySenderStrategy=x.CancellationToken=x.CancellationTokenSource=x.Emitter=x.Event=x.Disposable=x.LRUCache=x.Touch=x.LinkedMap=x.ParameterStructures=x.NotificationType9=x.NotificationType8=x.NotificationType7=x.NotificationType6=x.NotificationType5=x.NotificationType4=x.NotificationType3=x.NotificationType2=x.NotificationType1=x.NotificationType0=x.NotificationType=x.ErrorCodes=x.ResponseError=x.RequestType9=x.RequestType8=x.RequestType7=x.RequestType6=x.RequestType5=x.RequestType4=x.RequestType3=x.RequestType2=x.RequestType1=x.RequestType0=x.RequestType=x.Message=x.RAL=void 0;x.MessageStrategy=x.CancellationStrategy=x.CancellationSenderStrategy=x.CancellationReceiverStrategy=x.ConnectionError=x.ConnectionErrors=x.LogTraceNotification=x.SetTraceNotification=x.TraceFormat=x.TraceValues=x.Trace=void 0;var ve=wp();Object.defineProperty(x,"Message",{enumerable:!0,get:s(function(){return ve.Message},"get")});Object.defineProperty(x,"RequestType",{enumerable:!0,get:s(function(){return ve.RequestType},"get")});Object.defineProperty(x,"RequestType0",{enumerable:!0,get:s(function(){return ve.RequestType0},"get")});Object.defineProperty(x,"RequestType1",{enumerable:!0,get:s(function(){return ve.RequestType1},"get")});Object.defineProperty(x,"RequestType2",{enumerable:!0,get:s(function(){return ve.RequestType2},"get")});Object.defineProperty(x,"RequestType3",{enumerable:!0,get:s(function(){return ve.RequestType3},"get")});Object.defineProperty(x,"RequestType4",{enumerable:!0,get:s(function(){return ve.RequestType4},"get")});Object.defineProperty(x,"RequestType5",{enumerable:!0,get:s(function(){return ve.RequestType5},"get")});Object.defineProperty(x,"RequestType6",{enumerable:!0,get:s(function(){return ve.RequestType6},"get")});Object.defineProperty(x,"RequestType7",{enumerable:!0,get:s(function(){return ve.RequestType7},"get")});Object.defineProperty(x,"RequestType8",{enumerable:!0,get:s(function(){return ve.RequestType8},"get")});Object.defineProperty(x,"RequestType9",{enumerable:!0,get:s(function(){return ve.RequestType9},"get")});Object.defineProperty(x,"ResponseError",{enumerable:!0,get:s(function(){return ve.ResponseError},"get")});Object.defineProperty(x,"ErrorCodes",{enumerable:!0,get:s(function(){return ve.ErrorCodes},"get")});Object.defineProperty(x,"NotificationType",{enumerable:!0,get:s(function(){return ve.NotificationType},"get")});Object.defineProperty(x,"NotificationType0",{enumerable:!0,get:s(function(){return ve.NotificationType0},"get")});Object.defineProperty(x,"NotificationType1",{enumerable:!0,get:s(function(){return ve.NotificationType1},"get")});Object.defineProperty(x,"NotificationType2",{enumerable:!0,get:s(function(){return ve.NotificationType2},"get")});Object.defineProperty(x,"NotificationType3",{enumerable:!0,get:s(function(){return ve.NotificationType3},"get")});Object.defineProperty(x,"NotificationType4",{enumerable:!0,get:s(function(){return ve.NotificationType4},"get")});Object.defineProperty(x,"NotificationType5",{enumerable:!0,get:s(function(){return ve.NotificationType5},"get")});Object.defineProperty(x,"NotificationType6",{enumerable:!0,get:s(function(){return ve.NotificationType6},"get")});Object.defineProperty(x,"NotificationType7",{enumerable:!0,get:s(function(){return ve.NotificationType7},"get")});Object.defineProperty(x,"NotificationType8",{enumerable:!0,get:s(function(){return ve.NotificationType8},"get")});Object.defineProperty(x,"NotificationType9",{enumerable:!0,get:s(function(){return ve.NotificationType9},"get")});Object.defineProperty(x,"ParameterStructures",{enumerable:!0,get:s(function(){return ve.ParameterStructures},"get")});var Qp=_p();Object.defineProperty(x,"LinkedMap",{enumerable:!0,get:s(function(){return Qp.LinkedMap},"get")});Object.defineProperty(x,"LRUCache",{enumerable:!0,get:s(function(){return Qp.LRUCache},"get")});Object.defineProperty(x,"Touch",{enumerable:!0,get:s(function(){return Qp.Touch},"get")});var c$=py();Object.defineProperty(x,"Disposable",{enumerable:!0,get:s(function(){return c$.Disposable},"get")});var Ny=ui();Object.defineProperty(x,"Event",{enumerable:!0,get:s(function(){return Ny.Event},"get")});Object.defineProperty(x,"Emitter",{enumerable:!0,get:s(function(){return Ny.Emitter},"get")});var wy=Ya();Object.defineProperty(x,"CancellationTokenSource",{enumerable:!0,get:s(function(){return wy.CancellationTokenSource},"get")});Object.defineProperty(x,"CancellationToken",{enumerable:!0,get:s(function(){return wy.CancellationToken},"get")});var Iy=hy();Object.defineProperty(x,"SharedArraySenderStrategy",{enumerable:!0,get:s(function(){return Iy.SharedArraySenderStrategy},"get")});Object.defineProperty(x,"SharedArrayReceiverStrategy",{enumerable:!0,get:s(function(){return Iy.SharedArrayReceiverStrategy},"get")});var Zp=gy();Object.defineProperty(x,"MessageReader",{enumerable:!0,get:s(function(){return Zp.MessageReader},"get")});Object.defineProperty(x,"AbstractMessageReader",{enumerable:!0,get:s(function(){return Zp.AbstractMessageReader},"get")});Object.defineProperty(x,"ReadableStreamMessageReader",{enumerable:!0,get:s(function(){return Zp.ReadableStreamMessageReader},"get")});var eh=Ey();Object.defineProperty(x,"MessageWriter",{enumerable:!0,get:s(function(){return eh.MessageWriter},"get")});Object.defineProperty(x,"AbstractMessageWriter",{enumerable:!0,get:s(function(){return eh.AbstractMessageWriter},"get")});Object.defineProperty(x,"WriteableStreamMessageWriter",{enumerable:!0,get:s(function(){return eh.WriteableStreamMessageWriter},"get")});var l$=vy();Object.defineProperty(x,"AbstractMessageBuffer",{enumerable:!0,get:s(function(){return l$.AbstractMessageBuffer},"get")});var lt=Cy();Object.defineProperty(x,"ConnectionStrategy",{enumerable:!0,get:s(function(){return lt.ConnectionStrategy},"get")});Object.defineProperty(x,"ConnectionOptions",{enumerable:!0,get:s(function(){return lt.ConnectionOptions},"get")});Object.defineProperty(x,"NullLogger",{enumerable:!0,get:s(function(){return lt.NullLogger},"get")});Object.defineProperty(x,"createMessageConnection",{enumerable:!0,get:s(function(){return lt.createMessageConnection},"get")});Object.defineProperty(x,"ProgressToken",{enumerable:!0,get:s(function(){return lt.ProgressToken},"get")});Object.defineProperty(x,"ProgressType",{enumerable:!0,get:s(function(){return lt.ProgressType},"get")});Object.defineProperty(x,"Trace",{enumerable:!0,get:s(function(){return lt.Trace},"get")});Object.defineProperty(x,"TraceValues",{enumerable:!0,get:s(function(){return lt.TraceValues},"get")});Object.defineProperty(x,"TraceFormat",{enumerable:!0,get:s(function(){return lt.TraceFormat},"get")});Object.defineProperty(x,"SetTraceNotification",{enumerable:!0,get:s(function(){return lt.SetTraceNotification},"get")});Object.defineProperty(x,"LogTraceNotification",{enumerable:!0,get:s(function(){return lt.LogTraceNotification},"get")});Object.defineProperty(x,"ConnectionErrors",{enumerable:!0,get:s(function(){return lt.ConnectionErrors},"get")});Object.defineProperty(x,"ConnectionError",{enumerable:!0,get:s(function(){return lt.ConnectionError},"get")});Object.defineProperty(x,"CancellationReceiverStrategy",{enumerable:!0,get:s(function(){return lt.CancellationReceiverStrategy},"get")});Object.defineProperty(x,"CancellationSenderStrategy",{enumerable:!0,get:s(function(){return lt.CancellationSenderStrategy},"get")});Object.defineProperty(x,"CancellationStrategy",{enumerable:!0,get:s(function(){return lt.CancellationStrategy},"get")});Object.defineProperty(x,"MessageStrategy",{enumerable:!0,get:s(function(){return lt.MessageStrategy},"get")});var u$=En();x.RAL=u$.default});var by=X(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});var Cr=_l(),bl=class t extends Cr.AbstractMessageBuffer{static{s(this,"MessageBuffer")}constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return new TextEncoder().encode(e)}toString(e,r){return r==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e:e.slice(0,r)}allocNative(e){return new Uint8Array(e)}};bl.emptyBuffer=new Uint8Array(0);var th=class{static{s(this,"ReadableStreamWrapper")}constructor(e){this.socket=e,this._onData=new Cr.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Cr.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),Cr.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Cr.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Cr.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}},rh=class{static{s(this,"WritableStreamWrapper")}constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),Cr.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Cr.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Cr.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,r){if(typeof e=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}},f$=new TextEncoder,_y=Object.freeze({messageBuffer:Object.freeze({create:s(t=>new bl(t),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:s((t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(f$.encode(JSON.stringify(t,void 0,0)))},"encode")}),decoder:Object.freeze({name:"application/json",decode:s((t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))},"decode")})}),stream:Object.freeze({asReadableStream:s(t=>new th(t),"asReadableStream"),asWritableStream:s(t=>new rh(t),"asWritableStream")}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:s(()=>clearTimeout(n),"dispose")}},setImmediate(t,...e){let r=setTimeout(t,0,...e);return{dispose:s(()=>clearTimeout(r),"dispose")}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:s(()=>clearInterval(n),"dispose")}}})});function nh(){return _y}s(nh,"RIL");(function(t){function e(){Cr.RAL.install(_y)}s(e,"install"),t.install=e})(nh||(nh={}));ih.default=nh});var gi=X(Wt=>{"use strict";var d$=Wt&&Wt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),p$=Wt&&Wt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&d$(e,t,r)};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.createMessageConnection=Wt.BrowserMessageWriter=Wt.BrowserMessageReader=void 0;var h$=by();h$.default.install();var $s=_l();p$(_l(),Wt);var sh=class extends $s.AbstractMessageReader{static{s(this,"BrowserMessageReader")}constructor(e){super(),this._onData=new $s.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},e.addEventListener("error",r=>this.fireError(r)),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}};Wt.BrowserMessageReader=sh;var ah=class extends $s.AbstractMessageWriter{static{s(this,"BrowserMessageWriter")}constructor(e){super(),this.port=e,this.errorCount=0,e.addEventListener("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};Wt.BrowserMessageWriter=ah;function m$(t,e,r,n){return r===void 0&&(r=$s.NullLogger),$s.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,$s.createMessageConnection)(t,e,r,n)}s(m$,"createMessageConnection");Wt.createMessageConnection=m$});var oh=X((OO,Py)=>{"use strict";Py.exports=gi()});var _e=X(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.ProtocolNotificationType=Lt.ProtocolNotificationType0=Lt.ProtocolRequestType=Lt.ProtocolRequestType0=Lt.RegistrationType=Lt.MessageDirection=void 0;var Ss=gi(),Oy;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Oy||(Lt.MessageDirection=Oy={}));var ch=class{static{s(this,"RegistrationType")}constructor(e){this.method=e}};Lt.RegistrationType=ch;var lh=class extends Ss.RequestType0{static{s(this,"ProtocolRequestType0")}constructor(e){super(e)}};Lt.ProtocolRequestType0=lh;var uh=class extends Ss.RequestType{static{s(this,"ProtocolRequestType")}constructor(e){super(e,Ss.ParameterStructures.byName)}};Lt.ProtocolRequestType=uh;var fh=class extends Ss.NotificationType0{static{s(this,"ProtocolNotificationType0")}constructor(e){super(e)}};Lt.ProtocolNotificationType0=fh;var dh=class extends Ss.NotificationType{static{s(this,"ProtocolNotificationType")}constructor(e){super(e,Ss.ParameterStructures.byName)}};Lt.ProtocolNotificationType=dh});var Pl=X(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.objectLiteral=Ye.typedArray=Ye.stringArray=Ye.array=Ye.func=Ye.error=Ye.number=Ye.string=Ye.boolean=void 0;function g$(t){return t===!0||t===!1}s(g$,"boolean");Ye.boolean=g$;function Ly(t){return typeof t=="string"||t instanceof String}s(Ly,"string");Ye.string=Ly;function y$(t){return typeof t=="number"||t instanceof Number}s(y$,"number");Ye.number=y$;function T$(t){return t instanceof Error}s(T$,"error");Ye.error=T$;function R$(t){return typeof t=="function"}s(R$,"func");Ye.func=R$;function Dy(t){return Array.isArray(t)}s(Dy,"array");Ye.array=Dy;function x$(t){return Dy(t)&&t.every(e=>Ly(e))}s(x$,"stringArray");Ye.stringArray=x$;function E$(t,e){return Array.isArray(t)&&t.every(e)}s(E$,"typedArray");Ye.typedArray=E$;function v$(t){return t!==null&&typeof t=="object"}s(v$,"objectLiteral");Ye.objectLiteral=v$});var Gy=X(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.ImplementationRequest=void 0;var My=_e(),Fy;(function(t){t.method="textDocument/implementation",t.messageDirection=My.MessageDirection.clientToServer,t.type=new My.ProtocolRequestType(t.method)})(Fy||(Ol.ImplementationRequest=Fy={}))});var zy=X(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.TypeDefinitionRequest=void 0;var Uy=_e(),qy;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Uy.MessageDirection.clientToServer,t.type=new Uy.ProtocolRequestType(t.method)})(qy||(Ll.TypeDefinitionRequest=qy={}))});var Wy=X(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.DidChangeWorkspaceFoldersNotification=ks.WorkspaceFoldersRequest=void 0;var Dl=_e(),jy;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Dl.MessageDirection.serverToClient,t.type=new Dl.ProtocolRequestType0(t.method)})(jy||(ks.WorkspaceFoldersRequest=jy={}));var By;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Dl.MessageDirection.clientToServer,t.type=new Dl.ProtocolNotificationType(t.method)})(By||(ks.DidChangeWorkspaceFoldersNotification=By={}))});var Hy=X(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ConfigurationRequest=void 0;var Vy=_e(),Ky;(function(t){t.method="workspace/configuration",t.messageDirection=Vy.MessageDirection.serverToClient,t.type=new Vy.ProtocolRequestType(t.method)})(Ky||(Ml.ConfigurationRequest=Ky={}))});var Jy=X(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ColorPresentationRequest=Cs.DocumentColorRequest=void 0;var Fl=_e(),Yy;(function(t){t.method="textDocument/documentColor",t.messageDirection=Fl.MessageDirection.clientToServer,t.type=new Fl.ProtocolRequestType(t.method)})(Yy||(Cs.DocumentColorRequest=Yy={}));var Xy;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=Fl.MessageDirection.clientToServer,t.type=new Fl.ProtocolRequestType(t.method)})(Xy||(Cs.ColorPresentationRequest=Xy={}))});var eT=X(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.FoldingRangeRefreshRequest=Ns.FoldingRangeRequest=void 0;var Gl=_e(),Qy;(function(t){t.method="textDocument/foldingRange",t.messageDirection=Gl.MessageDirection.clientToServer,t.type=new Gl.ProtocolRequestType(t.method)})(Qy||(Ns.FoldingRangeRequest=Qy={}));var Zy;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=Gl.MessageDirection.serverToClient,t.type=new Gl.ProtocolRequestType0(t.method)})(Zy||(Ns.FoldingRangeRefreshRequest=Zy={}))});var nT=X(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.DeclarationRequest=void 0;var tT=_e(),rT;(function(t){t.method="textDocument/declaration",t.messageDirection=tT.MessageDirection.clientToServer,t.type=new tT.ProtocolRequestType(t.method)})(rT||(Ul.DeclarationRequest=rT={}))});var aT=X(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.SelectionRangeRequest=void 0;var iT=_e(),sT;(function(t){t.method="textDocument/selectionRange",t.messageDirection=iT.MessageDirection.clientToServer,t.type=new iT.ProtocolRequestType(t.method)})(sT||(ql.SelectionRangeRequest=sT={}))});var uT=X(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.WorkDoneProgressCancelNotification=Sn.WorkDoneProgressCreateRequest=Sn.WorkDoneProgress=void 0;var A$=gi(),zl=_e(),oT;(function(t){t.type=new A$.ProgressType;function e(r){return r===t.type}s(e,"is"),t.is=e})(oT||(Sn.WorkDoneProgress=oT={}));var cT;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=zl.MessageDirection.serverToClient,t.type=new zl.ProtocolRequestType(t.method)})(cT||(Sn.WorkDoneProgressCreateRequest=cT={}));var lT;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=zl.MessageDirection.clientToServer,t.type=new zl.ProtocolNotificationType(t.method)})(lT||(Sn.WorkDoneProgressCancelNotification=lT={}))});var hT=X(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.CallHierarchyOutgoingCallsRequest=kn.CallHierarchyIncomingCallsRequest=kn.CallHierarchyPrepareRequest=void 0;var ws=_e(),fT;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method)})(fT||(kn.CallHierarchyPrepareRequest=fT={}));var dT;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method)})(dT||(kn.CallHierarchyIncomingCallsRequest=dT={}));var pT;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=ws.MessageDirection.clientToServer,t.type=new ws.ProtocolRequestType(t.method)})(pT||(kn.CallHierarchyOutgoingCallsRequest=pT={}))});var xT=X(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SemanticTokensRefreshRequest=Dt.SemanticTokensRangeRequest=Dt.SemanticTokensDeltaRequest=Dt.SemanticTokensRequest=Dt.SemanticTokensRegistrationType=Dt.TokenFormat=void 0;var Qr=_e(),mT;(function(t){t.Relative="relative"})(mT||(Dt.TokenFormat=mT={}));var xo;(function(t){t.method="textDocument/semanticTokens",t.type=new Qr.RegistrationType(t.method)})(xo||(Dt.SemanticTokensRegistrationType=xo={}));var gT;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Qr.MessageDirection.clientToServer,t.type=new Qr.ProtocolRequestType(t.method),t.registrationMethod=xo.method})(gT||(Dt.SemanticTokensRequest=gT={}));var yT;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Qr.MessageDirection.clientToServer,t.type=new Qr.ProtocolRequestType(t.method),t.registrationMethod=xo.method})(yT||(Dt.SemanticTokensDeltaRequest=yT={}));var TT;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Qr.MessageDirection.clientToServer,t.type=new Qr.ProtocolRequestType(t.method),t.registrationMethod=xo.method})(TT||(Dt.SemanticTokensRangeRequest=TT={}));var RT;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Qr.MessageDirection.serverToClient,t.type=new Qr.ProtocolRequestType0(t.method)})(RT||(Dt.SemanticTokensRefreshRequest=RT={}))});var AT=X(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.ShowDocumentRequest=void 0;var ET=_e(),vT;(function(t){t.method="window/showDocument",t.messageDirection=ET.MessageDirection.serverToClient,t.type=new ET.ProtocolRequestType(t.method)})(vT||(jl.ShowDocumentRequest=vT={}))});var kT=X(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.LinkedEditingRangeRequest=void 0;var $T=_e(),ST;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=$T.MessageDirection.clientToServer,t.type=new $T.ProtocolRequestType(t.method)})(ST||(Bl.LinkedEditingRangeRequest=ST={}))});var OT=X(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.WillDeleteFilesRequest=Rt.DidDeleteFilesNotification=Rt.DidRenameFilesNotification=Rt.WillRenameFilesRequest=Rt.DidCreateFilesNotification=Rt.WillCreateFilesRequest=Rt.FileOperationPatternKind=void 0;var Xt=_e(),CT;(function(t){t.file="file",t.folder="folder"})(CT||(Rt.FileOperationPatternKind=CT={}));var NT;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolRequestType(t.method)})(NT||(Rt.WillCreateFilesRequest=NT={}));var wT;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolNotificationType(t.method)})(wT||(Rt.DidCreateFilesNotification=wT={}));var IT;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolRequestType(t.method)})(IT||(Rt.WillRenameFilesRequest=IT={}));var _T;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolNotificationType(t.method)})(_T||(Rt.DidRenameFilesNotification=_T={}));var bT;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolNotificationType(t.method)})(bT||(Rt.DidDeleteFilesNotification=bT={}));var PT;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Xt.MessageDirection.clientToServer,t.type=new Xt.ProtocolRequestType(t.method)})(PT||(Rt.WillDeleteFilesRequest=PT={}))});var GT=X(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.MonikerRequest=Cn.MonikerKind=Cn.UniquenessLevel=void 0;var LT=_e(),DT;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(DT||(Cn.UniquenessLevel=DT={}));var MT;(function(t){t.$import="import",t.$export="export",t.local="local"})(MT||(Cn.MonikerKind=MT={}));var FT;(function(t){t.method="textDocument/moniker",t.messageDirection=LT.MessageDirection.clientToServer,t.type=new LT.ProtocolRequestType(t.method)})(FT||(Cn.MonikerRequest=FT={}))});var jT=X(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.TypeHierarchySubtypesRequest=Nn.TypeHierarchySupertypesRequest=Nn.TypeHierarchyPrepareRequest=void 0;var Is=_e(),UT;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Is.MessageDirection.clientToServer,t.type=new Is.ProtocolRequestType(t.method)})(UT||(Nn.TypeHierarchyPrepareRequest=UT={}));var qT;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Is.MessageDirection.clientToServer,t.type=new Is.ProtocolRequestType(t.method)})(qT||(Nn.TypeHierarchySupertypesRequest=qT={}));var zT;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Is.MessageDirection.clientToServer,t.type=new Is.ProtocolRequestType(t.method)})(zT||(Nn.TypeHierarchySubtypesRequest=zT={}))});var VT=X(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.InlineValueRefreshRequest=_s.InlineValueRequest=void 0;var Wl=_e(),BT;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Wl.MessageDirection.clientToServer,t.type=new Wl.ProtocolRequestType(t.method)})(BT||(_s.InlineValueRequest=BT={}));var WT;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Wl.MessageDirection.serverToClient,t.type=new Wl.ProtocolRequestType0(t.method)})(WT||(_s.InlineValueRefreshRequest=WT={}))});var XT=X(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.InlayHintRefreshRequest=wn.InlayHintResolveRequest=wn.InlayHintRequest=void 0;var bs=_e(),KT;(function(t){t.method="textDocument/inlayHint",t.messageDirection=bs.MessageDirection.clientToServer,t.type=new bs.ProtocolRequestType(t.method)})(KT||(wn.InlayHintRequest=KT={}));var HT;(function(t){t.method="inlayHint/resolve",t.messageDirection=bs.MessageDirection.clientToServer,t.type=new bs.ProtocolRequestType(t.method)})(HT||(wn.InlayHintResolveRequest=HT={}));var YT;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=bs.MessageDirection.serverToClient,t.type=new bs.ProtocolRequestType0(t.method)})(YT||(wn.InlayHintRefreshRequest=YT={}))});var nR=X(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DiagnosticRefreshRequest=Jt.WorkspaceDiagnosticRequest=Jt.DocumentDiagnosticRequest=Jt.DocumentDiagnosticReportKind=Jt.DiagnosticServerCancellationData=void 0;var rR=gi(),$$=Pl(),Ps=_e(),JT;(function(t){function e(r){let n=r;return n&&$$.boolean(n.retriggerRequest)}s(e,"is"),t.is=e})(JT||(Jt.DiagnosticServerCancellationData=JT={}));var QT;(function(t){t.Full="full",t.Unchanged="unchanged"})(QT||(Jt.DocumentDiagnosticReportKind=QT={}));var ZT;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolRequestType(t.method),t.partialResult=new rR.ProgressType})(ZT||(Jt.DocumentDiagnosticRequest=ZT={}));var eR;(function(t){t.method="workspace/diagnostic",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolRequestType(t.method),t.partialResult=new rR.ProgressType})(eR||(Jt.WorkspaceDiagnosticRequest=eR={}));var tR;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Ps.MessageDirection.serverToClient,t.type=new Ps.ProtocolRequestType0(t.method)})(tR||(Jt.DiagnosticRefreshRequest=tR={}))});var uR=X(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.DidCloseNotebookDocumentNotification=qe.DidSaveNotebookDocumentNotification=qe.DidChangeNotebookDocumentNotification=qe.NotebookCellArrayChange=qe.DidOpenNotebookDocumentNotification=qe.NotebookDocumentSyncRegistrationType=qe.NotebookDocument=qe.NotebookCell=qe.ExecutionSummary=qe.NotebookCellKind=void 0;var Eo=(ls(),pu(sl)),ur=Pl(),Nr=_e(),ph;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}s(e,"is"),t.is=e})(ph||(qe.NotebookCellKind=ph={}));var hh;(function(t){function e(i,a){let o={executionOrder:i};return(a===!0||a===!1)&&(o.success=a),o}s(e,"create"),t.create=e;function r(i){let a=i;return ur.objectLiteral(a)&&Eo.uinteger.is(a.executionOrder)&&(a.success===void 0||ur.boolean(a.success))}s(r,"is"),t.is=r;function n(i,a){return i===a?!0:i==null||a===null||a===void 0?!1:i.executionOrder===a.executionOrder&&i.success===a.success}s(n,"equals"),t.equals=n})(hh||(qe.ExecutionSummary=hh={}));var Vl;(function(t){function e(a,o){return{kind:a,document:o}}s(e,"create"),t.create=e;function r(a){let o=a;return ur.objectLiteral(o)&&ph.is(o.kind)&&Eo.DocumentUri.is(o.document)&&(o.metadata===void 0||ur.objectLiteral(o.metadata))}s(r,"is"),t.is=r;function n(a,o){let c=new Set;return a.document!==o.document&&c.add("document"),a.kind!==o.kind&&c.add("kind"),a.executionSummary!==o.executionSummary&&c.add("executionSummary"),(a.metadata!==void 0||o.metadata!==void 0)&&!i(a.metadata,o.metadata)&&c.add("metadata"),(a.executionSummary!==void 0||o.executionSummary!==void 0)&&!hh.equals(a.executionSummary,o.executionSummary)&&c.add("executionSummary"),c}s(n,"diff"),t.diff=n;function i(a,o){if(a===o)return!0;if(a==null||o===null||o===void 0||typeof a!=typeof o||typeof a!="object")return!1;let c=Array.isArray(a),l=Array.isArray(o);if(c!==l)return!1;if(c&&l){if(a.length!==o.length)return!1;for(let u=0;u<a.length;u++)if(!i(a[u],o[u]))return!1}if(ur.objectLiteral(a)&&ur.objectLiteral(o)){let u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length||(u.sort(),d.sort(),!i(u,d)))return!1;for(let h=0;h<u.length;h++){let m=u[h];if(!i(a[m],o[m]))return!1}}return!0}s(i,"equalsMetadata")})(Vl||(qe.NotebookCell=Vl={}));var iR;(function(t){function e(n,i,a,o){return{uri:n,notebookType:i,version:a,cells:o}}s(e,"create"),t.create=e;function r(n){let i=n;return ur.objectLiteral(i)&&ur.string(i.uri)&&Eo.integer.is(i.version)&&ur.typedArray(i.cells,Vl.is)}s(r,"is"),t.is=r})(iR||(qe.NotebookDocument=iR={}));var Os;(function(t){t.method="notebookDocument/sync",t.messageDirection=Nr.MessageDirection.clientToServer,t.type=new Nr.RegistrationType(t.method)})(Os||(qe.NotebookDocumentSyncRegistrationType=Os={}));var sR;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Nr.MessageDirection.clientToServer,t.type=new Nr.ProtocolNotificationType(t.method),t.registrationMethod=Os.method})(sR||(qe.DidOpenNotebookDocumentNotification=sR={}));var aR;(function(t){function e(n){let i=n;return ur.objectLiteral(i)&&Eo.uinteger.is(i.start)&&Eo.uinteger.is(i.deleteCount)&&(i.cells===void 0||ur.typedArray(i.cells,Vl.is))}s(e,"is"),t.is=e;function r(n,i,a){let o={start:n,deleteCount:i};return a!==void 0&&(o.cells=a),o}s(r,"create"),t.create=r})(aR||(qe.NotebookCellArrayChange=aR={}));var oR;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Nr.MessageDirection.clientToServer,t.type=new Nr.ProtocolNotificationType(t.method),t.registrationMethod=Os.method})(oR||(qe.DidChangeNotebookDocumentNotification=oR={}));var cR;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Nr.MessageDirection.clientToServer,t.type=new Nr.ProtocolNotificationType(t.method),t.registrationMethod=Os.method})(cR||(qe.DidSaveNotebookDocumentNotification=cR={}));var lR;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Nr.MessageDirection.clientToServer,t.type=new Nr.ProtocolNotificationType(t.method),t.registrationMethod=Os.method})(lR||(qe.DidCloseNotebookDocumentNotification=lR={}))});var pR=X(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.InlineCompletionRequest=void 0;var fR=_e(),dR;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=fR.MessageDirection.clientToServer,t.type=new fR.ProtocolRequestType(t.method)})(dR||(Kl.InlineCompletionRequest=dR={}))});var kx=X(f=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});f.WorkspaceSymbolRequest=f.CodeActionResolveRequest=f.CodeActionRequest=f.DocumentSymbolRequest=f.DocumentHighlightRequest=f.ReferencesRequest=f.DefinitionRequest=f.SignatureHelpRequest=f.SignatureHelpTriggerKind=f.HoverRequest=f.CompletionResolveRequest=f.CompletionRequest=f.CompletionTriggerKind=f.PublishDiagnosticsNotification=f.WatchKind=f.RelativePattern=f.FileChangeType=f.DidChangeWatchedFilesNotification=f.WillSaveTextDocumentWaitUntilRequest=f.WillSaveTextDocumentNotification=f.TextDocumentSaveReason=f.DidSaveTextDocumentNotification=f.DidCloseTextDocumentNotification=f.DidChangeTextDocumentNotification=f.TextDocumentContentChangeEvent=f.DidOpenTextDocumentNotification=f.TextDocumentSyncKind=f.TelemetryEventNotification=f.LogMessageNotification=f.ShowMessageRequest=f.ShowMessageNotification=f.MessageType=f.DidChangeConfigurationNotification=f.ExitNotification=f.ShutdownRequest=f.InitializedNotification=f.InitializeErrorCodes=f.InitializeRequest=f.WorkDoneProgressOptions=f.TextDocumentRegistrationOptions=f.StaticRegistrationOptions=f.PositionEncodingKind=f.FailureHandlingKind=f.ResourceOperationKind=f.UnregistrationRequest=f.RegistrationRequest=f.DocumentSelector=f.NotebookCellTextDocumentFilter=f.NotebookDocumentFilter=f.TextDocumentFilter=void 0;f.MonikerRequest=f.MonikerKind=f.UniquenessLevel=f.WillDeleteFilesRequest=f.DidDeleteFilesNotification=f.WillRenameFilesRequest=f.DidRenameFilesNotification=f.WillCreateFilesRequest=f.DidCreateFilesNotification=f.FileOperationPatternKind=f.LinkedEditingRangeRequest=f.ShowDocumentRequest=f.SemanticTokensRegistrationType=f.SemanticTokensRefreshRequest=f.SemanticTokensRangeRequest=f.SemanticTokensDeltaRequest=f.SemanticTokensRequest=f.TokenFormat=f.CallHierarchyPrepareRequest=f.CallHierarchyOutgoingCallsRequest=f.CallHierarchyIncomingCallsRequest=f.WorkDoneProgressCancelNotification=f.WorkDoneProgressCreateRequest=f.WorkDoneProgress=f.SelectionRangeRequest=f.DeclarationRequest=f.FoldingRangeRefreshRequest=f.FoldingRangeRequest=f.ColorPresentationRequest=f.DocumentColorRequest=f.ConfigurationRequest=f.DidChangeWorkspaceFoldersNotification=f.WorkspaceFoldersRequest=f.TypeDefinitionRequest=f.ImplementationRequest=f.ApplyWorkspaceEditRequest=f.ExecuteCommandRequest=f.PrepareRenameRequest=f.RenameRequest=f.PrepareSupportDefaultBehavior=f.DocumentOnTypeFormattingRequest=f.DocumentRangesFormattingRequest=f.DocumentRangeFormattingRequest=f.DocumentFormattingRequest=f.DocumentLinkResolveRequest=f.DocumentLinkRequest=f.CodeLensRefreshRequest=f.CodeLensResolveRequest=f.CodeLensRequest=f.WorkspaceSymbolResolveRequest=void 0;f.InlineCompletionRequest=f.DidCloseNotebookDocumentNotification=f.DidSaveNotebookDocumentNotification=f.DidChangeNotebookDocumentNotification=f.NotebookCellArrayChange=f.DidOpenNotebookDocumentNotification=f.NotebookDocumentSyncRegistrationType=f.NotebookDocument=f.NotebookCell=f.ExecutionSummary=f.NotebookCellKind=f.DiagnosticRefreshRequest=f.WorkspaceDiagnosticRequest=f.DocumentDiagnosticRequest=f.DocumentDiagnosticReportKind=f.DiagnosticServerCancellationData=f.InlayHintRefreshRequest=f.InlayHintResolveRequest=f.InlayHintRequest=f.InlineValueRefreshRequest=f.InlineValueRequest=f.TypeHierarchySupertypesRequest=f.TypeHierarchySubtypesRequest=f.TypeHierarchyPrepareRequest=void 0;var k=_e(),hR=(ls(),pu(sl)),st=Pl(),S$=Gy();Object.defineProperty(f,"ImplementationRequest",{enumerable:!0,get:s(function(){return S$.ImplementationRequest},"get")});var k$=zy();Object.defineProperty(f,"TypeDefinitionRequest",{enumerable:!0,get:s(function(){return k$.TypeDefinitionRequest},"get")});var vx=Wy();Object.defineProperty(f,"WorkspaceFoldersRequest",{enumerable:!0,get:s(function(){return vx.WorkspaceFoldersRequest},"get")});Object.defineProperty(f,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:s(function(){return vx.DidChangeWorkspaceFoldersNotification},"get")});var C$=Hy();Object.defineProperty(f,"ConfigurationRequest",{enumerable:!0,get:s(function(){return C$.ConfigurationRequest},"get")});var Ax=Jy();Object.defineProperty(f,"DocumentColorRequest",{enumerable:!0,get:s(function(){return Ax.DocumentColorRequest},"get")});Object.defineProperty(f,"ColorPresentationRequest",{enumerable:!0,get:s(function(){return Ax.ColorPresentationRequest},"get")});var $x=eT();Object.defineProperty(f,"FoldingRangeRequest",{enumerable:!0,get:s(function(){return $x.FoldingRangeRequest},"get")});Object.defineProperty(f,"FoldingRangeRefreshRequest",{enumerable:!0,get:s(function(){return $x.FoldingRangeRefreshRequest},"get")});var N$=nT();Object.defineProperty(f,"DeclarationRequest",{enumerable:!0,get:s(function(){return N$.DeclarationRequest},"get")});var w$=aT();Object.defineProperty(f,"SelectionRangeRequest",{enumerable:!0,get:s(function(){return w$.SelectionRangeRequest},"get")});var Rh=uT();Object.defineProperty(f,"WorkDoneProgress",{enumerable:!0,get:s(function(){return Rh.WorkDoneProgress},"get")});Object.defineProperty(f,"WorkDoneProgressCreateRequest",{enumerable:!0,get:s(function(){return Rh.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(f,"WorkDoneProgressCancelNotification",{enumerable:!0,get:s(function(){return Rh.WorkDoneProgressCancelNotification},"get")});var xh=hT();Object.defineProperty(f,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:s(function(){return xh.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(f,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:s(function(){return xh.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(f,"CallHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return xh.CallHierarchyPrepareRequest},"get")});var Ls=xT();Object.defineProperty(f,"TokenFormat",{enumerable:!0,get:s(function(){return Ls.TokenFormat},"get")});Object.defineProperty(f,"SemanticTokensRequest",{enumerable:!0,get:s(function(){return Ls.SemanticTokensRequest},"get")});Object.defineProperty(f,"SemanticTokensDeltaRequest",{enumerable:!0,get:s(function(){return Ls.SemanticTokensDeltaRequest},"get")});Object.defineProperty(f,"SemanticTokensRangeRequest",{enumerable:!0,get:s(function(){return Ls.SemanticTokensRangeRequest},"get")});Object.defineProperty(f,"SemanticTokensRefreshRequest",{enumerable:!0,get:s(function(){return Ls.SemanticTokensRefreshRequest},"get")});Object.defineProperty(f,"SemanticTokensRegistrationType",{enumerable:!0,get:s(function(){return Ls.SemanticTokensRegistrationType},"get")});var I$=AT();Object.defineProperty(f,"ShowDocumentRequest",{enumerable:!0,get:s(function(){return I$.ShowDocumentRequest},"get")});var _$=kT();Object.defineProperty(f,"LinkedEditingRangeRequest",{enumerable:!0,get:s(function(){return _$.LinkedEditingRangeRequest},"get")});var yi=OT();Object.defineProperty(f,"FileOperationPatternKind",{enumerable:!0,get:s(function(){return yi.FileOperationPatternKind},"get")});Object.defineProperty(f,"DidCreateFilesNotification",{enumerable:!0,get:s(function(){return yi.DidCreateFilesNotification},"get")});Object.defineProperty(f,"WillCreateFilesRequest",{enumerable:!0,get:s(function(){return yi.WillCreateFilesRequest},"get")});Object.defineProperty(f,"DidRenameFilesNotification",{enumerable:!0,get:s(function(){return yi.DidRenameFilesNotification},"get")});Object.defineProperty(f,"WillRenameFilesRequest",{enumerable:!0,get:s(function(){return yi.WillRenameFilesRequest},"get")});Object.defineProperty(f,"DidDeleteFilesNotification",{enumerable:!0,get:s(function(){return yi.DidDeleteFilesNotification},"get")});Object.defineProperty(f,"WillDeleteFilesRequest",{enumerable:!0,get:s(function(){return yi.WillDeleteFilesRequest},"get")});var Eh=GT();Object.defineProperty(f,"UniquenessLevel",{enumerable:!0,get:s(function(){return Eh.UniquenessLevel},"get")});Object.defineProperty(f,"MonikerKind",{enumerable:!0,get:s(function(){return Eh.MonikerKind},"get")});Object.defineProperty(f,"MonikerRequest",{enumerable:!0,get:s(function(){return Eh.MonikerRequest},"get")});var vh=jT();Object.defineProperty(f,"TypeHierarchyPrepareRequest",{enumerable:!0,get:s(function(){return vh.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(f,"TypeHierarchySubtypesRequest",{enumerable:!0,get:s(function(){return vh.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(f,"TypeHierarchySupertypesRequest",{enumerable:!0,get:s(function(){return vh.TypeHierarchySupertypesRequest},"get")});var Sx=VT();Object.defineProperty(f,"InlineValueRequest",{enumerable:!0,get:s(function(){return Sx.InlineValueRequest},"get")});Object.defineProperty(f,"InlineValueRefreshRequest",{enumerable:!0,get:s(function(){return Sx.InlineValueRefreshRequest},"get")});var Ah=XT();Object.defineProperty(f,"InlayHintRequest",{enumerable:!0,get:s(function(){return Ah.InlayHintRequest},"get")});Object.defineProperty(f,"InlayHintResolveRequest",{enumerable:!0,get:s(function(){return Ah.InlayHintResolveRequest},"get")});Object.defineProperty(f,"InlayHintRefreshRequest",{enumerable:!0,get:s(function(){return Ah.InlayHintRefreshRequest},"get")});var vo=nR();Object.defineProperty(f,"DiagnosticServerCancellationData",{enumerable:!0,get:s(function(){return vo.DiagnosticServerCancellationData},"get")});Object.defineProperty(f,"DocumentDiagnosticReportKind",{enumerable:!0,get:s(function(){return vo.DocumentDiagnosticReportKind},"get")});Object.defineProperty(f,"DocumentDiagnosticRequest",{enumerable:!0,get:s(function(){return vo.DocumentDiagnosticRequest},"get")});Object.defineProperty(f,"WorkspaceDiagnosticRequest",{enumerable:!0,get:s(function(){return vo.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(f,"DiagnosticRefreshRequest",{enumerable:!0,get:s(function(){return vo.DiagnosticRefreshRequest},"get")});var wr=uR();Object.defineProperty(f,"NotebookCellKind",{enumerable:!0,get:s(function(){return wr.NotebookCellKind},"get")});Object.defineProperty(f,"ExecutionSummary",{enumerable:!0,get:s(function(){return wr.ExecutionSummary},"get")});Object.defineProperty(f,"NotebookCell",{enumerable:!0,get:s(function(){return wr.NotebookCell},"get")});Object.defineProperty(f,"NotebookDocument",{enumerable:!0,get:s(function(){return wr.NotebookDocument},"get")});Object.defineProperty(f,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:s(function(){return wr.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(f,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:s(function(){return wr.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(f,"NotebookCellArrayChange",{enumerable:!0,get:s(function(){return wr.NotebookCellArrayChange},"get")});Object.defineProperty(f,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:s(function(){return wr.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(f,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:s(function(){return wr.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(f,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:s(function(){return wr.DidCloseNotebookDocumentNotification},"get")});var b$=pR();Object.defineProperty(f,"InlineCompletionRequest",{enumerable:!0,get:s(function(){return b$.InlineCompletionRequest},"get")});var mh;(function(t){function e(r){let n=r;return st.string(n)||st.string(n.language)||st.string(n.scheme)||st.string(n.pattern)}s(e,"is"),t.is=e})(mh||(f.TextDocumentFilter=mh={}));var gh;(function(t){function e(r){let n=r;return st.objectLiteral(n)&&(st.string(n.notebookType)||st.string(n.scheme)||st.string(n.pattern))}s(e,"is"),t.is=e})(gh||(f.NotebookDocumentFilter=gh={}));var yh;(function(t){function e(r){let n=r;return st.objectLiteral(n)&&(st.string(n.notebook)||gh.is(n.notebook))&&(n.language===void 0||st.string(n.language))}s(e,"is"),t.is=e})(yh||(f.NotebookCellTextDocumentFilter=yh={}));var Th;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!st.string(n)&&!mh.is(n)&&!yh.is(n))return!1;return!0}s(e,"is"),t.is=e})(Th||(f.DocumentSelector=Th={}));var mR;(function(t){t.method="client/registerCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(mR||(f.RegistrationRequest=mR={}));var gR;(function(t){t.method="client/unregisterCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(gR||(f.UnregistrationRequest=gR={}));var yR;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(yR||(f.ResourceOperationKind=yR={}));var TR;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(TR||(f.FailureHandlingKind=TR={}));var RR;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(RR||(f.PositionEncodingKind=RR={}));var xR;(function(t){function e(r){let n=r;return n&&st.string(n.id)&&n.id.length>0}s(e,"hasId"),t.hasId=e})(xR||(f.StaticRegistrationOptions=xR={}));var ER;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||Th.is(n.documentSelector))}s(e,"is"),t.is=e})(ER||(f.TextDocumentRegistrationOptions=ER={}));var vR;(function(t){function e(n){let i=n;return st.objectLiteral(i)&&(i.workDoneProgress===void 0||st.boolean(i.workDoneProgress))}s(e,"is"),t.is=e;function r(n){let i=n;return i&&st.boolean(i.workDoneProgress)}s(r,"hasWorkDoneProgress"),t.hasWorkDoneProgress=r})(vR||(f.WorkDoneProgressOptions=vR={}));var AR;(function(t){t.method="initialize",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(AR||(f.InitializeRequest=AR={}));var $R;(function(t){t.unknownProtocolVersion=1})($R||(f.InitializeErrorCodes=$R={}));var SR;(function(t){t.method="initialized",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(SR||(f.InitializedNotification=SR={}));var kR;(function(t){t.method="shutdown",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType0(t.method)})(kR||(f.ShutdownRequest=kR={}));var CR;(function(t){t.method="exit",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType0(t.method)})(CR||(f.ExitNotification=CR={}));var NR;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(NR||(f.DidChangeConfigurationNotification=NR={}));var wR;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(wR||(f.MessageType=wR={}));var IR;(function(t){t.method="window/showMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(IR||(f.ShowMessageNotification=IR={}));var _R;(function(t){t.method="window/showMessageRequest",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(_R||(f.ShowMessageRequest=_R={}));var bR;(function(t){t.method="window/logMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(bR||(f.LogMessageNotification=bR={}));var PR;(function(t){t.method="telemetry/event",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(PR||(f.TelemetryEventNotification=PR={}));var OR;(function(t){t.None=0,t.Full=1,t.Incremental=2})(OR||(f.TextDocumentSyncKind=OR={}));var LR;(function(t){t.method="textDocument/didOpen",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(LR||(f.DidOpenTextDocumentNotification=LR={}));var DR;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}s(e,"isIncremental"),t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}s(r,"isFull"),t.isFull=r})(DR||(f.TextDocumentContentChangeEvent=DR={}));var MR;(function(t){t.method="textDocument/didChange",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(MR||(f.DidChangeTextDocumentNotification=MR={}));var FR;(function(t){t.method="textDocument/didClose",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(FR||(f.DidCloseTextDocumentNotification=FR={}));var GR;(function(t){t.method="textDocument/didSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(GR||(f.DidSaveTextDocumentNotification=GR={}));var UR;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(UR||(f.TextDocumentSaveReason=UR={}));var qR;(function(t){t.method="textDocument/willSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(qR||(f.WillSaveTextDocumentNotification=qR={}));var zR;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(zR||(f.WillSaveTextDocumentWaitUntilRequest=zR={}));var jR;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(jR||(f.DidChangeWatchedFilesNotification=jR={}));var BR;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(BR||(f.FileChangeType=BR={}));var WR;(function(t){function e(r){let n=r;return st.objectLiteral(n)&&(hR.URI.is(n.baseUri)||hR.WorkspaceFolder.is(n.baseUri))&&st.string(n.pattern)}s(e,"is"),t.is=e})(WR||(f.RelativePattern=WR={}));var VR;(function(t){t.Create=1,t.Change=2,t.Delete=4})(VR||(f.WatchKind=VR={}));var KR;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(KR||(f.PublishDiagnosticsNotification=KR={}));var HR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(HR||(f.CompletionTriggerKind=HR={}));var YR;(function(t){t.method="textDocument/completion",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(YR||(f.CompletionRequest=YR={}));var XR;(function(t){t.method="completionItem/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(XR||(f.CompletionResolveRequest=XR={}));var JR;(function(t){t.method="textDocument/hover",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(JR||(f.HoverRequest=JR={}));var QR;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(QR||(f.SignatureHelpTriggerKind=QR={}));var ZR;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ZR||(f.SignatureHelpRequest=ZR={}));var ex;(function(t){t.method="textDocument/definition",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ex||(f.DefinitionRequest=ex={}));var tx;(function(t){t.method="textDocument/references",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(tx||(f.ReferencesRequest=tx={}));var rx;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(rx||(f.DocumentHighlightRequest=rx={}));var nx;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(nx||(f.DocumentSymbolRequest=nx={}));var ix;(function(t){t.method="textDocument/codeAction",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ix||(f.CodeActionRequest=ix={}));var sx;(function(t){t.method="codeAction/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(sx||(f.CodeActionResolveRequest=sx={}));var ax;(function(t){t.method="workspace/symbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ax||(f.WorkspaceSymbolRequest=ax={}));var ox;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(ox||(f.WorkspaceSymbolResolveRequest=ox={}));var cx;(function(t){t.method="textDocument/codeLens",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(cx||(f.CodeLensRequest=cx={}));var lx;(function(t){t.method="codeLens/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(lx||(f.CodeLensResolveRequest=lx={}));var ux;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType0(t.method)})(ux||(f.CodeLensRefreshRequest=ux={}));var fx;(function(t){t.method="textDocument/documentLink",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(fx||(f.DocumentLinkRequest=fx={}));var dx;(function(t){t.method="documentLink/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(dx||(f.DocumentLinkResolveRequest=dx={}));var px;(function(t){t.method="textDocument/formatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(px||(f.DocumentFormattingRequest=px={}));var hx;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(hx||(f.DocumentRangeFormattingRequest=hx={}));var mx;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(mx||(f.DocumentRangesFormattingRequest=mx={}));var gx;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(gx||(f.DocumentOnTypeFormattingRequest=gx={}));var yx;(function(t){t.Identifier=1})(yx||(f.PrepareSupportDefaultBehavior=yx={}));var Tx;(function(t){t.method="textDocument/rename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Tx||(f.RenameRequest=Tx={}));var Rx;(function(t){t.method="textDocument/prepareRename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Rx||(f.PrepareRenameRequest=Rx={}));var xx;(function(t){t.method="workspace/executeCommand",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(xx||(f.ExecuteCommandRequest=xx={}));var Ex;(function(t){t.method="workspace/applyEdit",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType("workspace/applyEdit")})(Ex||(f.ApplyWorkspaceEditRequest=Ex={}))});var Nx=X(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.createProtocolConnection=void 0;var Cx=gi();function P$(t,e,r,n){return Cx.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Cx.createMessageConnection)(t,e,r,n)}s(P$,"createProtocolConnection");Hl.createProtocolConnection=P$});var Ix=X(Mt=>{"use strict";var O$=Mt&&Mt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Yl=Mt&&Mt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O$(e,t,r)};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.LSPErrorCodes=Mt.createProtocolConnection=void 0;Yl(gi(),Mt);Yl((ls(),pu(sl)),Mt);Yl(_e(),Mt);Yl(kx(),Mt);var L$=Nx();Object.defineProperty(Mt,"createProtocolConnection",{enumerable:!0,get:s(function(){return L$.createProtocolConnection},"get")});var wx;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(wx||(Mt.LSPErrorCodes=wx={}))});var bx=X(Ir=>{"use strict";var D$=Ir&&Ir.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:s(function(){return e[r]},"get")}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),_x=Ir&&Ir.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&D$(e,t,r)};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.createProtocolConnection=void 0;var M$=oh();_x(oh(),Ir);_x(Ix(),Ir);function F$(t,e,r,n){return(0,M$.createMessageConnection)(t,e,r,n)}s(F$,"createProtocolConnection");Ir.createProtocolConnection=F$});var Ue={};rn(Ue,{AbstractAstReflection:()=>Pn,AbstractCstNode:()=>Ba,AbstractLangiumParser:()=>Wa,AbstractParserErrorMessageProvider:()=>ol,AbstractThreadedAsyncParser:()=>_h,AstUtils:()=>zo,BiMap:()=>di,Cancellation:()=>W,CompositeCstNodeImpl:()=>oi,ContextCache:()=>pi,CstNodeBuilder:()=>ja,CstUtils:()=>cc,DEFAULT_TOKENIZE_OPTIONS:()=>Xl,DONE_RESULT:()=>ht,DatatypeSymbol:()=>al,DefaultAstNodeDescriptionProvider:()=>lo,DefaultAstNodeLocator:()=>fo,DefaultAsyncParser:()=>_o,DefaultCommentProvider:()=>Io,DefaultConfigurationProvider:()=>po,DefaultDocumentBuilder:()=>Ao,DefaultDocumentValidator:()=>co,DefaultHydrator:()=>Po,DefaultIndexManager:()=>$o,DefaultJsonSerializer:()=>so,DefaultLangiumDocumentFactory:()=>Xa,DefaultLangiumDocuments:()=>Ja,DefaultLangiumProfiler:()=>Gh,DefaultLexer:()=>Ti,DefaultLexerErrorMessageProvider:()=>ko,DefaultLinker:()=>Qa,DefaultNameProvider:()=>Za,DefaultReferenceDescriptionProvider:()=>uo,DefaultReferences:()=>eo,DefaultScopeComputation:()=>to,DefaultScopeProvider:()=>io,DefaultServiceRegistry:()=>ao,DefaultTokenBuilder:()=>Jr,DefaultValueConverter:()=>li,DefaultWorkspaceLock:()=>bo,DefaultWorkspaceManager:()=>So,Deferred:()=>wt,Disposable:()=>In,DisposableCache:()=>Rs,DocumentCache:()=>gl,DocumentState:()=>Z,DocumentValidator:()=>Yt,EMPTY_SCOPE:()=>QA,EMPTY_STREAM:()=>an,EmptyFileSystem:()=>Fh,EmptyFileSystemProvider:()=>ru,ErrorWithLocation:()=>Hn,GrammarAST:()=>oa,GrammarUtils:()=>hc,IndentationAwareLexer:()=>Mh,IndentationAwareTokenBuilder:()=>tu,JSDocDocumentationProvider:()=>wo,LangiumCompletionParser:()=>Ka,LangiumParser:()=>Va,LangiumParserErrorMessageProvider:()=>fs,LeafCstNodeImpl:()=>ai,LexingMode:()=>Ri,MapScope:()=>np,Module:()=>Lh,MultiMap:()=>yt,MultiMapScope:()=>ro,OperationCancelled:()=>Ht,ParserWorker:()=>bh,ProfilingTask:()=>nu,Reduction:()=>Si,RefResolving:()=>fi,RegExpUtils:()=>fc,RootCstNodeImpl:()=>us,SimpleCache:()=>no,StreamImpl:()=>Ut,StreamScope:()=>Ts,TextDocument:()=>ms,TreeStreamImpl:()=>yr,URI:()=>tt,UriTrie:()=>ys,UriUtils:()=>je,VALIDATE_EACH_NODE:()=>oy,ValidationCategory:()=>yl,ValidationRegistry:()=>oo,ValueConverter:()=>Sr,WorkspaceCache:()=>xs,assertCondition:()=>dm,assertUnreachable:()=>xr,createCompletionParser:()=>Kd,createDefaultCoreModule:()=>Ph,createDefaultSharedCoreModule:()=>Oh,createGrammarConfig:()=>of,createLangiumParser:()=>Hd,createParser:()=>Ha,delayNextTick:()=>tp,diagnosticData:()=>hi,eagerLoad:()=>zx,getDiagnosticRange:()=>cy,indentationBuilderDefaultOptions:()=>Dh,inject:()=>eu,interruptAndCheck:()=>De,isAstNode:()=>Le,isAstNodeDescription:()=>gu,isAstNodeWithComment:()=>ip,isCompositeCstNode:()=>rr,isIMultiModeLexerDefinition:()=>Sh,isJSDoc:()=>wh,isLeafCstNode:()=>sn,isLinkingError:()=>On,isMultiReference:()=>Gt,isNamed:()=>sy,isOperationCancelled:()=>kr,isReference:()=>Ze,isRootCstNode:()=>Ys,isTokenTypeArray:()=>Jl,isTokenTypeDictionary:()=>$h,loadGrammarFromJson:()=>_r,parseJSDoc:()=>Nh,prepareLangiumParser:()=>Yg,setInterruptionPeriod:()=>ey,startCancelableOperation:()=>hl,stream:()=>te,toDiagnosticData:()=>ly,toDiagnosticSeverity:()=>Tl});var cc={};rn(cc,{DefaultNameRegexp:()=>oc,RangeComparison:()=>Rr,compareRange:()=>cm,findCommentNode:()=>qu,findDeclarationNodeAtOffset:()=>kE,findLeafNodeAtOffset:()=>zu,findLeafNodeBeforeOffset:()=>lm,flattenCst:()=>SE,getDatatypeNode:()=>$E,getInteriorNodes:()=>wE,getNextNode:()=>CE,getPreviousNode:()=>fm,getStartlineNode:()=>NE,inRange:()=>xu,isChildNode:()=>Uu,isCommentNode:()=>Gu,streamCst:()=>Vn,toDocumentSegment:()=>Kn,tokenToRange:()=>Di});function Le(t){return typeof t=="object"&&t!==null&&typeof t.$type=="string"}s(Le,"isAstNode");function Ze(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"&&"ref"in t}s(Ze,"isReference");function Gt(t){return typeof t=="object"&&t!==null&&typeof t.$refText=="string"&&"items"in t}s(Gt,"isMultiReference");function gu(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.type=="string"&&typeof t.path=="string"}s(gu,"isAstNodeDescription");function On(t){return typeof t=="object"&&t!==null&&typeof t.info=="object"&&typeof t.message=="string"}s(On,"isLinkingError");var Pn=class{static{s(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}getAllTypes(){return Object.keys(this.types)}getReferenceType(e){let r=this.types[e.container.$type];if(!r)throw new Error(`Type ${e.container.$type||"undefined"} not found.`);let n=r.properties[e.property]?.referenceType;if(!n)throw new Error(`Property ${e.property||"undefined"} of type ${e.container.$type} is not a reference.`);return n}getTypeMetaData(e){let r=this.types[e];return r||{name:e,properties:{},superTypes:[]}}isInstance(e,r){return Le(e)&&this.isSubtype(e.$type,r)}isSubtype(e,r){if(e===r)return!0;let n=this.subtypes[e];n||(n=this.subtypes[e]={});let i=n[r];if(i!==void 0)return i;{let a=this.types[e],o=a?a.superTypes.some(c=>this.isSubtype(c,r)):!1;return n[r]=o,o}}getAllSubTypes(e){let r=this.allSubtypes[e];if(r)return r;{let n=this.getAllTypes(),i=[];for(let a of n)this.isSubtype(a,e)&&i.push(a);return this.allSubtypes[e]=i,i}}};function rr(t){return typeof t=="object"&&t!==null&&Array.isArray(t.content)}s(rr,"isCompositeCstNode");function sn(t){return typeof t=="object"&&t!==null&&typeof t.tokenType=="object"}s(sn,"isLeafCstNode");function Ys(t){return rr(t)&&typeof t.fullText=="string"}s(Ys,"isRootCstNode");var Ut=class t{static{s(this,"StreamImpl")}constructor(e,r){this.startFn=e,this.nextFn=r}iterator(){let e={state:this.startFn(),next:s(()=>this.nextFn(e.state),"next"),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let e=this.iterator(),r=0,n=e.next();for(;!n.done;)r++,n=e.next();return r}toArray(){let e=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&e.push(n.value);while(!n.done);return e}toSet(){return new Set(this)}toMap(e,r){let n=this.map(i=>[e?e(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(e){return new t(()=>({first:this.startFn(),firstDone:!1,iterator:e[Symbol.iterator]()}),r=>{let n;if(!r.firstDone){do if(n=this.nextFn(r.first),!n.done)return n;while(!n.done);r.firstDone=!0}do if(n=r.iterator.next(),!n.done)return n;while(!n.done);return ht})}join(e=","){let r=this.iterator(),n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=e),n+=sE(i.value)),a=!0;while(!i.done);return n}indexOf(e,r=0){let n=this.iterator(),i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===e)return i;a=n.next(),i++}return-1}every(e){let r=this.iterator(),n=r.next();for(;!n.done;){if(!e(n.value))return!1;n=r.next()}return!0}some(e){let r=this.iterator(),n=r.next();for(;!n.done;){if(e(n.value))return!0;n=r.next()}return!1}forEach(e){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)e(i.value,n),i=r.next(),n++}map(e){return new t(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?ht:{done:!1,value:e(i)}})}filter(e){return new t(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&e(n.value))return n;while(!n.done);return ht})}nonNullable(){return this.filter(e=>e!=null)}reduce(e,r){let n=this.iterator(),i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=e(i,a.value),a=n.next();return i}reduceRight(e,r){return this.recursiveReduce(this.iterator(),e,r)}recursiveReduce(e,r,n){let i=e.next();if(i.done)return n;let a=this.recursiveReduce(e,r,n);return a===void 0?i.value:r(a,i.value)}find(e){let r=this.iterator(),n=r.next();for(;!n.done;){if(e(n.value))return n.value;n=r.next()}}findIndex(e){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(e(i.value))return n;i=r.next(),n++}return-1}includes(e){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===e)return!0;n=r.next()}return!1}flatMap(e){return new t(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}let{done:n,value:i}=this.nextFn(r.this);if(!n){let a=e(i);if(Uo(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return ht})}flat(e){if(e===void 0&&(e=1),e<=0)return this;let r=e>1?this.flat(e-1):this;return new t(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let o=n.iterator.next();if(o.done)n.iterator=void 0;else return o}let{done:i,value:a}=r.nextFn(n.this);if(!i)if(Uo(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return ht})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(e=1){return new t(()=>{let r=this.startFn();for(let n=0;n<e;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(e){return new t(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>e?ht:this.nextFn(r.state)))}distinct(e){return new t(()=>({set:new Set,internalState:this.startFn()}),r=>{let n;do if(n=this.nextFn(r.internalState),!n.done){let i=e?e(n.value):n.value;if(!r.set.has(i))return r.set.add(i),n}while(!n.done);return ht})}exclude(e,r){let n=new Set;for(let i of e){let a=r?r(i):i;n.add(a)}return this.filter(i=>{let a=r?r(i):i;return!n.has(a)})}};function sE(t){return typeof t=="string"?t:typeof t>"u"?"undefined":typeof t.toString=="function"?t.toString():Object.prototype.toString.call(t)}s(sE,"toString");function Uo(t){return!!t&&typeof t[Symbol.iterator]=="function"}s(Uo,"isIterable");var an=new Ut(()=>{},()=>ht),ht=Object.freeze({done:!0,value:void 0});function te(...t){if(t.length===1){let e=t[0];if(e instanceof Ut)return e;if(Uo(e))return new Ut(()=>e[Symbol.iterator](),r=>r.next());if(typeof e.length=="number")return new Ut(()=>({index:0}),r=>r.index<e.length?{done:!1,value:e[r.index++]}:ht)}return t.length>1?new Ut(()=>({collIndex:0,arrIndex:0}),e=>{do{if(e.iterator){let r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){let r=t[e.collIndex++];Uo(r)?e.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(e.array=r)}}while(e.iterator||e.array||e.collIndex<t.length);return ht}):an}s(te,"stream");var yr=class extends Ut{static{s(this,"TreeStreamImpl")}constructor(e,r,n){super(()=>({iterators:n?.includeRoot?[[e][Symbol.iterator]()]:[r(e)[Symbol.iterator]()],pruned:!1}),i=>{for(i.pruned&&(i.iterators.pop(),i.pruned=!1);i.iterators.length>0;){let o=i.iterators[i.iterators.length-1].next();if(o.done)i.iterators.pop();else return i.iterators.push(r(o.value)[Symbol.iterator]()),o}return ht})}iterator(){let e={state:this.startFn(),next:s(()=>this.nextFn(e.state),"next"),prune:s(()=>{e.state.pruned=!0},"prune"),[Symbol.iterator]:()=>e};return e}},Si;(function(t){function e(a){return a.reduce((o,c)=>o+c,0)}s(e,"sum"),t.sum=e;function r(a){return a.reduce((o,c)=>o*c,0)}s(r,"product"),t.product=r;function n(a){return a.reduce((o,c)=>Math.min(o,c))}s(n,"min"),t.min=n;function i(a){return a.reduce((o,c)=>Math.max(o,c))}s(i,"max"),t.max=i})(Si||(Si={}));var zo={};rn(zo,{assignMandatoryProperties:()=>Ru,copyAstNode:()=>Tu,findRootNode:()=>Ci,getContainerOfType:()=>Mr,getDocument:()=>mt,getReferenceNodes:()=>qo,hasContainerOfType:()=>aE,linkContentToContainer:()=>ki,streamAllContents:()=>nr,streamAst:()=>$t,streamContents:()=>Xs,streamReferences:()=>on});function ki(t,e={}){for(let[r,n]of Object.entries(t))r.startsWith("$")||(Array.isArray(n)?n.forEach((i,a)=>{Le(i)&&(i.$container=t,i.$containerProperty=r,i.$containerIndex=a,e.deep&&ki(i,e))}):Le(n)&&(n.$container=t,n.$containerProperty=r,e.deep&&ki(n,e)))}s(ki,"linkContentToContainer");function Mr(t,e){let r=t;for(;r;){if(e(r))return r;r=r.$container}}s(Mr,"getContainerOfType");function aE(t,e){let r=t;for(;r;){if(e(r))return!0;r=r.$container}return!1}s(aE,"hasContainerOfType");function mt(t){let r=Ci(t).$document;if(!r)throw new Error("AST node has no document.");return r}s(mt,"getDocument");function Ci(t){for(;t.$container;)t=t.$container;return t}s(Ci,"findRootNode");function qo(t){return Ze(t)?t.ref?[t.ref]:[]:Gt(t)?t.items.map(e=>e.ref):[]}s(qo,"getReferenceNodes");function Xs(t,e){if(!t)throw new Error("Node must be an AstNode.");let r=e?.range;return new Ut(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let i=n.keys[n.keyIndex];if(!i.startsWith("$")){let a=t[i];if(Le(a)){if(n.keyIndex++,yu(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){let o=n.arrayIndex++,c=a[o];if(Le(c)&&yu(c,r))return{done:!1,value:c}}n.arrayIndex=0}}n.keyIndex++}return ht})}s(Xs,"streamContents");function nr(t,e){if(!t)throw new Error("Root node must be an AstNode.");return new yr(t,r=>Xs(r,e))}s(nr,"streamAllContents");function $t(t,e){if(t){if(e?.range&&!yu(t,e.range))return new yr(t,()=>[])}else throw new Error("Root node must be an AstNode.");return new yr(t,r=>Xs(r,e),{includeRoot:!0})}s($t,"streamAst");function yu(t,e){if(!e)return!0;let r=t.$cstNode?.range;return r?xu(r,e):!1}s(yu,"isAstNodeInRange");function on(t){return new Ut(()=>({keys:Object.keys(t),keyIndex:0,arrayIndex:0}),e=>{for(;e.keyIndex<e.keys.length;){let r=e.keys[e.keyIndex];if(!r.startsWith("$")){let n=t[r];if(Ze(n)||Gt(n))return e.keyIndex++,{done:!1,value:{reference:n,container:t,property:r}};if(Array.isArray(n)){for(;e.arrayIndex<n.length;){let i=e.arrayIndex++,a=n[i];if(Ze(a)||Gt(n))return{done:!1,value:{reference:a,container:t,property:r,index:i}}}e.arrayIndex=0}}e.keyIndex++}return ht})}s(on,"streamReferences");function Ru(t,e){let r=t.getTypeMetaData(e.$type),n=e;for(let i of Object.values(r.properties))i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=am(i.defaultValue))}s(Ru,"assignMandatoryProperties");function am(t){return Array.isArray(t)?[...t.map(am)]:t}s(am,"copyDefaultValue");function Tu(t,e,r){let n={$type:t.$type};r&&(r.set(t,n),r.set(n,t));for(let[i,a]of Object.entries(t))if(!i.startsWith("$"))if(Le(a))n[i]=Tu(a,e,r);else if(Ze(a))n[i]=e(n,i,a.$refNode,a.$refText,a);else if(Array.isArray(a)){let o=[];for(let c of a)Le(c)?o.push(Tu(c,e,r)):Ze(c)?o.push(e(n,i,c.$refNode,c.$refText,c)):o.push(c);n[i]=o}else n[i]=a;return ki(n,{deep:!0}),n}s(Tu,"copyAstNode");var oa={};rn(oa,{AbstractElement:()=>_t,AbstractParserRule:()=>Js,AbstractRule:()=>Ni,AbstractType:()=>qt,Action:()=>cn,Alternatives:()=>Qs,ArrayLiteral:()=>jo,ArrayType:()=>Bo,Assignment:()=>ln,BooleanLiteral:()=>Wo,CharacterRange:()=>un,Condition:()=>fn,Conjunction:()=>Zs,CrossReference:()=>dn,Disjunction:()=>ea,EndOfFile:()=>Vo,Grammar:()=>Fr,GrammarImport:()=>Ko,Group:()=>Ln,InferredType:()=>Ho,InfixRule:()=>Tr,InfixRuleOperatorList:()=>ta,InfixRuleOperators:()=>Yo,Interface:()=>wi,Keyword:()=>Ii,LangiumGrammarAstReflection:()=>Li,LangiumGrammarTerminals:()=>oE,NamedArgument:()=>_i,NegatedToken:()=>Dn,Negation:()=>Xo,NumberLiteral:()=>Jo,Parameter:()=>bi,ParameterReference:()=>Qo,ParserRule:()=>ir,ReferenceType:()=>ra,RegexToken:()=>Mn,ReturnType:()=>Zo,RuleCall:()=>Fn,SimpleType:()=>Pi,StringLiteral:()=>ec,TerminalAlternatives:()=>Gn,TerminalElement:()=>bt,TerminalGroup:()=>Un,TerminalRule:()=>Gr,TerminalRuleCall:()=>qn,Type:()=>na,TypeAttribute:()=>zn,TypeDefinition:()=>jn,UnionType:()=>tc,UnorderedGroup:()=>ia,UntilToken:()=>Bn,ValueLiteral:()=>Wn,Wildcard:()=>Oi,isAbstractElement:()=>sa,isAbstractParserRule:()=>Ur,isAbstractRule:()=>cE,isAbstractType:()=>lE,isAction:()=>qr,isAlternatives:()=>rc,isArrayLiteral:()=>uE,isArrayType:()=>Eu,isAssignment:()=>sr,isBooleanLiteral:()=>vu,isCharacterRange:()=>Au,isCondition:()=>fE,isConjunction:()=>$u,isCrossReference:()=>ar,isDisjunction:()=>Su,isEndOfFile:()=>ku,isGrammar:()=>dE,isGrammarImport:()=>pE,isGroup:()=>pn,isInferredType:()=>aa,isInfixRule:()=>hn,isInfixRuleOperatorList:()=>hE,isInfixRuleOperators:()=>mE,isInterface:()=>Cu,isKeyword:()=>Kt,isNamedArgument:()=>gE,isNegatedToken:()=>Nu,isNegation:()=>wu,isNumberLiteral:()=>yE,isParameter:()=>TE,isParameterReference:()=>Iu,isParserRule:()=>nt,isReferenceType:()=>_u,isRegexToken:()=>bu,isReturnType:()=>Pu,isRuleCall:()=>or,isSimpleType:()=>nc,isStringLiteral:()=>RE,isTerminalAlternatives:()=>Ou,isTerminalElement:()=>xE,isTerminalGroup:()=>Lu,isTerminalRule:()=>St,isTerminalRuleCall:()=>ic,isType:()=>sc,isTypeAttribute:()=>EE,isTypeDefinition:()=>vE,isUnionType:()=>Du,isUnorderedGroup:()=>ac,isUntilToken:()=>Mu,isValueLiteral:()=>AE,isWildcard:()=>Fu,reflection:()=>B});var oE={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},_t={$type:"AbstractElement",cardinality:"cardinality"};function sa(t){return B.isInstance(t,_t.$type)}s(sa,"isAbstractElement");var Js={$type:"AbstractParserRule"};function Ur(t){return B.isInstance(t,Js.$type)}s(Ur,"isAbstractParserRule");var Ni={$type:"AbstractRule"};function cE(t){return B.isInstance(t,Ni.$type)}s(cE,"isAbstractRule");var qt={$type:"AbstractType"};function lE(t){return B.isInstance(t,qt.$type)}s(lE,"isAbstractType");var cn={$type:"Action",cardinality:"cardinality",feature:"feature",inferredType:"inferredType",operator:"operator",type:"type"};function qr(t){return B.isInstance(t,cn.$type)}s(qr,"isAction");var Qs={$type:"Alternatives",cardinality:"cardinality",elements:"elements"};function rc(t){return B.isInstance(t,Qs.$type)}s(rc,"isAlternatives");var jo={$type:"ArrayLiteral",elements:"elements"};function uE(t){return B.isInstance(t,jo.$type)}s(uE,"isArrayLiteral");var Bo={$type:"ArrayType",elementType:"elementType"};function Eu(t){return B.isInstance(t,Bo.$type)}s(Eu,"isArrayType");var ln={$type:"Assignment",cardinality:"cardinality",feature:"feature",operator:"operator",predicate:"predicate",terminal:"terminal"};function sr(t){return B.isInstance(t,ln.$type)}s(sr,"isAssignment");var Wo={$type:"BooleanLiteral",true:"true"};function vu(t){return B.isInstance(t,Wo.$type)}s(vu,"isBooleanLiteral");var un={$type:"CharacterRange",cardinality:"cardinality",left:"left",lookahead:"lookahead",parenthesized:"parenthesized",right:"right"};function Au(t){return B.isInstance(t,un.$type)}s(Au,"isCharacterRange");var fn={$type:"Condition"};function fE(t){return B.isInstance(t,fn.$type)}s(fE,"isCondition");var Zs={$type:"Conjunction",left:"left",right:"right"};function $u(t){return B.isInstance(t,Zs.$type)}s($u,"isConjunction");var dn={$type:"CrossReference",cardinality:"cardinality",deprecatedSyntax:"deprecatedSyntax",isMulti:"isMulti",terminal:"terminal",type:"type"};function ar(t){return B.isInstance(t,dn.$type)}s(ar,"isCrossReference");var ea={$type:"Disjunction",left:"left",right:"right"};function Su(t){return B.isInstance(t,ea.$type)}s(Su,"isDisjunction");var Vo={$type:"EndOfFile",cardinality:"cardinality"};function ku(t){return B.isInstance(t,Vo.$type)}s(ku,"isEndOfFile");var Fr={$type:"Grammar",imports:"imports",interfaces:"interfaces",isDeclared:"isDeclared",name:"name",rules:"rules",types:"types"};function dE(t){return B.isInstance(t,Fr.$type)}s(dE,"isGrammar");var Ko={$type:"GrammarImport",path:"path"};function pE(t){return B.isInstance(t,Ko.$type)}s(pE,"isGrammarImport");var Ln={$type:"Group",cardinality:"cardinality",elements:"elements",guardCondition:"guardCondition",predicate:"predicate"};function pn(t){return B.isInstance(t,Ln.$type)}s(pn,"isGroup");var Ho={$type:"InferredType",name:"name"};function aa(t){return B.isInstance(t,Ho.$type)}s(aa,"isInferredType");var Tr={$type:"InfixRule",call:"call",dataType:"dataType",inferredType:"inferredType",name:"name",operators:"operators",parameters:"parameters",returnType:"returnType"};function hn(t){return B.isInstance(t,Tr.$type)}s(hn,"isInfixRule");var ta={$type:"InfixRuleOperatorList",associativity:"associativity",operators:"operators"};function hE(t){return B.isInstance(t,ta.$type)}s(hE,"isInfixRuleOperatorList");var Yo={$type:"InfixRuleOperators",precedences:"precedences"};function mE(t){return B.isInstance(t,Yo.$type)}s(mE,"isInfixRuleOperators");var wi={$type:"Interface",attributes:"attributes",name:"name",superTypes:"superTypes"};function Cu(t){return B.isInstance(t,wi.$type)}s(Cu,"isInterface");var Ii={$type:"Keyword",cardinality:"cardinality",predicate:"predicate",value:"value"};function Kt(t){return B.isInstance(t,Ii.$type)}s(Kt,"isKeyword");var _i={$type:"NamedArgument",calledByName:"calledByName",parameter:"parameter",value:"value"};function gE(t){return B.isInstance(t,_i.$type)}s(gE,"isNamedArgument");var Dn={$type:"NegatedToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",terminal:"terminal"};function Nu(t){return B.isInstance(t,Dn.$type)}s(Nu,"isNegatedToken");var Xo={$type:"Negation",value:"value"};function wu(t){return B.isInstance(t,Xo.$type)}s(wu,"isNegation");var Jo={$type:"NumberLiteral",value:"value"};function yE(t){return B.isInstance(t,Jo.$type)}s(yE,"isNumberLiteral");var bi={$type:"Parameter",name:"name"};function TE(t){return B.isInstance(t,bi.$type)}s(TE,"isParameter");var Qo={$type:"ParameterReference",parameter:"parameter"};function Iu(t){return B.isInstance(t,Qo.$type)}s(Iu,"isParameterReference");var ir={$type:"ParserRule",dataType:"dataType",definition:"definition",entry:"entry",fragment:"fragment",inferredType:"inferredType",name:"name",parameters:"parameters",returnType:"returnType"};function nt(t){return B.isInstance(t,ir.$type)}s(nt,"isParserRule");var ra={$type:"ReferenceType",isMulti:"isMulti",referenceType:"referenceType"};function _u(t){return B.isInstance(t,ra.$type)}s(_u,"isReferenceType");var Mn={$type:"RegexToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",regex:"regex"};function bu(t){return B.isInstance(t,Mn.$type)}s(bu,"isRegexToken");var Zo={$type:"ReturnType",name:"name"};function Pu(t){return B.isInstance(t,Zo.$type)}s(Pu,"isReturnType");var Fn={$type:"RuleCall",arguments:"arguments",cardinality:"cardinality",predicate:"predicate",rule:"rule"};function or(t){return B.isInstance(t,Fn.$type)}s(or,"isRuleCall");var Pi={$type:"SimpleType",primitiveType:"primitiveType",stringType:"stringType",typeRef:"typeRef"};function nc(t){return B.isInstance(t,Pi.$type)}s(nc,"isSimpleType");var ec={$type:"StringLiteral",value:"value"};function RE(t){return B.isInstance(t,ec.$type)}s(RE,"isStringLiteral");var Gn={$type:"TerminalAlternatives",cardinality:"cardinality",elements:"elements",lookahead:"lookahead",parenthesized:"parenthesized"};function Ou(t){return B.isInstance(t,Gn.$type)}s(Ou,"isTerminalAlternatives");var bt={$type:"TerminalElement",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized"};function xE(t){return B.isInstance(t,bt.$type)}s(xE,"isTerminalElement");var Un={$type:"TerminalGroup",cardinality:"cardinality",elements:"elements",lookahead:"lookahead",parenthesized:"parenthesized"};function Lu(t){return B.isInstance(t,Un.$type)}s(Lu,"isTerminalGroup");var Gr={$type:"TerminalRule",definition:"definition",fragment:"fragment",hidden:"hidden",name:"name",type:"type"};function St(t){return B.isInstance(t,Gr.$type)}s(St,"isTerminalRule");var qn={$type:"TerminalRuleCall",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",rule:"rule"};function ic(t){return B.isInstance(t,qn.$type)}s(ic,"isTerminalRuleCall");var na={$type:"Type",name:"name",type:"type"};function sc(t){return B.isInstance(t,na.$type)}s(sc,"isType");var zn={$type:"TypeAttribute",defaultValue:"defaultValue",isOptional:"isOptional",name:"name",type:"type"};function EE(t){return B.isInstance(t,zn.$type)}s(EE,"isTypeAttribute");var jn={$type:"TypeDefinition"};function vE(t){return B.isInstance(t,jn.$type)}s(vE,"isTypeDefinition");var tc={$type:"UnionType",types:"types"};function Du(t){return B.isInstance(t,tc.$type)}s(Du,"isUnionType");var ia={$type:"UnorderedGroup",cardinality:"cardinality",elements:"elements"};function ac(t){return B.isInstance(t,ia.$type)}s(ac,"isUnorderedGroup");var Bn={$type:"UntilToken",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized",terminal:"terminal"};function Mu(t){return B.isInstance(t,Bn.$type)}s(Mu,"isUntilToken");var Wn={$type:"ValueLiteral"};function AE(t){return B.isInstance(t,Wn.$type)}s(AE,"isValueLiteral");var Oi={$type:"Wildcard",cardinality:"cardinality",lookahead:"lookahead",parenthesized:"parenthesized"};function Fu(t){return B.isInstance(t,Oi.$type)}s(Fu,"isWildcard");var Li=class extends Pn{static{s(this,"LangiumGrammarAstReflection")}constructor(){super(...arguments),this.types={AbstractElement:{name:_t.$type,properties:{cardinality:{name:_t.cardinality}},superTypes:[]},AbstractParserRule:{name:Js.$type,properties:{},superTypes:[Ni.$type,qt.$type]},AbstractRule:{name:Ni.$type,properties:{},superTypes:[]},AbstractType:{name:qt.$type,properties:{},superTypes:[]},Action:{name:cn.$type,properties:{cardinality:{name:cn.cardinality},feature:{name:cn.feature},inferredType:{name:cn.inferredType},operator:{name:cn.operator},type:{name:cn.type,referenceType:qt.$type}},superTypes:[_t.$type]},Alternatives:{name:Qs.$type,properties:{cardinality:{name:Qs.cardinality},elements:{name:Qs.elements,defaultValue:[]}},superTypes:[_t.$type]},ArrayLiteral:{name:jo.$type,properties:{elements:{name:jo.elements,defaultValue:[]}},superTypes:[Wn.$type]},ArrayType:{name:Bo.$type,properties:{elementType:{name:Bo.elementType}},superTypes:[jn.$type]},Assignment:{name:ln.$type,properties:{cardinality:{name:ln.cardinality},feature:{name:ln.feature},operator:{name:ln.operator},predicate:{name:ln.predicate},terminal:{name:ln.terminal}},superTypes:[_t.$type]},BooleanLiteral:{name:Wo.$type,properties:{true:{name:Wo.true,defaultValue:!1}},superTypes:[fn.$type,Wn.$type]},CharacterRange:{name:un.$type,properties:{cardinality:{name:un.cardinality},left:{name:un.left},lookahead:{name:un.lookahead},parenthesized:{name:un.parenthesized,defaultValue:!1},right:{name:un.right}},superTypes:[bt.$type]},Condition:{name:fn.$type,properties:{},superTypes:[]},Conjunction:{name:Zs.$type,properties:{left:{name:Zs.left},right:{name:Zs.right}},superTypes:[fn.$type]},CrossReference:{name:dn.$type,properties:{cardinality:{name:dn.cardinality},deprecatedSyntax:{name:dn.deprecatedSyntax,defaultValue:!1},isMulti:{name:dn.isMulti,defaultValue:!1},terminal:{name:dn.terminal},type:{name:dn.type,referenceType:qt.$type}},superTypes:[_t.$type]},Disjunction:{name:ea.$type,properties:{left:{name:ea.left},right:{name:ea.right}},superTypes:[fn.$type]},EndOfFile:{name:Vo.$type,properties:{cardinality:{name:Vo.cardinality}},superTypes:[_t.$type]},Grammar:{name:Fr.$type,properties:{imports:{name:Fr.imports,defaultValue:[]},interfaces:{name:Fr.interfaces,defaultValue:[]},isDeclared:{name:Fr.isDeclared,defaultValue:!1},name:{name:Fr.name},rules:{name:Fr.rules,defaultValue:[]},types:{name:Fr.types,defaultValue:[]}},superTypes:[]},GrammarImport:{name:Ko.$type,properties:{path:{name:Ko.path}},superTypes:[]},Group:{name:Ln.$type,properties:{cardinality:{name:Ln.cardinality},elements:{name:Ln.elements,defaultValue:[]},guardCondition:{name:Ln.guardCondition},predicate:{name:Ln.predicate}},superTypes:[_t.$type]},InferredType:{name:Ho.$type,properties:{name:{name:Ho.name}},superTypes:[qt.$type]},InfixRule:{name:Tr.$type,properties:{call:{name:Tr.call},dataType:{name:Tr.dataType},inferredType:{name:Tr.inferredType},name:{name:Tr.name},operators:{name:Tr.operators},parameters:{name:Tr.parameters,defaultValue:[]},returnType:{name:Tr.returnType,referenceType:qt.$type}},superTypes:[Js.$type]},InfixRuleOperatorList:{name:ta.$type,properties:{associativity:{name:ta.associativity},operators:{name:ta.operators,defaultValue:[]}},superTypes:[]},InfixRuleOperators:{name:Yo.$type,properties:{precedences:{name:Yo.precedences,defaultValue:[]}},superTypes:[]},Interface:{name:wi.$type,properties:{attributes:{name:wi.attributes,defaultValue:[]},name:{name:wi.name},superTypes:{name:wi.superTypes,defaultValue:[],referenceType:qt.$type}},superTypes:[qt.$type]},Keyword:{name:Ii.$type,properties:{cardinality:{name:Ii.cardinality},predicate:{name:Ii.predicate},value:{name:Ii.value}},superTypes:[_t.$type]},NamedArgument:{name:_i.$type,properties:{calledByName:{name:_i.calledByName,defaultValue:!1},parameter:{name:_i.parameter,referenceType:bi.$type},value:{name:_i.value}},superTypes:[]},NegatedToken:{name:Dn.$type,properties:{cardinality:{name:Dn.cardinality},lookahead:{name:Dn.lookahead},parenthesized:{name:Dn.parenthesized,defaultValue:!1},terminal:{name:Dn.terminal}},superTypes:[bt.$type]},Negation:{name:Xo.$type,properties:{value:{name:Xo.value}},superTypes:[fn.$type]},NumberLiteral:{name:Jo.$type,properties:{value:{name:Jo.value}},superTypes:[Wn.$type]},Parameter:{name:bi.$type,properties:{name:{name:bi.name}},superTypes:[]},ParameterReference:{name:Qo.$type,properties:{parameter:{name:Qo.parameter,referenceType:bi.$type}},superTypes:[fn.$type]},ParserRule:{name:ir.$type,properties:{dataType:{name:ir.dataType},definition:{name:ir.definition},entry:{name:ir.entry,defaultValue:!1},fragment:{name:ir.fragment,defaultValue:!1},inferredType:{name:ir.inferredType},name:{name:ir.name},parameters:{name:ir.parameters,defaultValue:[]},returnType:{name:ir.returnType,referenceType:qt.$type}},superTypes:[Js.$type]},ReferenceType:{name:ra.$type,properties:{isMulti:{name:ra.isMulti,defaultValue:!1},referenceType:{name:ra.referenceType}},superTypes:[jn.$type]},RegexToken:{name:Mn.$type,properties:{cardinality:{name:Mn.cardinality},lookahead:{name:Mn.lookahead},parenthesized:{name:Mn.parenthesized,defaultValue:!1},regex:{name:Mn.regex}},superTypes:[bt.$type]},ReturnType:{name:Zo.$type,properties:{name:{name:Zo.name}},superTypes:[]},RuleCall:{name:Fn.$type,properties:{arguments:{name:Fn.arguments,defaultValue:[]},cardinality:{name:Fn.cardinality},predicate:{name:Fn.predicate},rule:{name:Fn.rule,referenceType:Ni.$type}},superTypes:[_t.$type]},SimpleType:{name:Pi.$type,properties:{primitiveType:{name:Pi.primitiveType},stringType:{name:Pi.stringType},typeRef:{name:Pi.typeRef,referenceType:qt.$type}},superTypes:[jn.$type]},StringLiteral:{name:ec.$type,properties:{value:{name:ec.value}},superTypes:[Wn.$type]},TerminalAlternatives:{name:Gn.$type,properties:{cardinality:{name:Gn.cardinality},elements:{name:Gn.elements,defaultValue:[]},lookahead:{name:Gn.lookahead},parenthesized:{name:Gn.parenthesized,defaultValue:!1}},superTypes:[bt.$type]},TerminalElement:{name:bt.$type,properties:{cardinality:{name:bt.cardinality},lookahead:{name:bt.lookahead},parenthesized:{name:bt.parenthesized,defaultValue:!1}},superTypes:[_t.$type]},TerminalGroup:{name:Un.$type,properties:{cardinality:{name:Un.cardinality},elements:{name:Un.elements,defaultValue:[]},lookahead:{name:Un.lookahead},parenthesized:{name:Un.parenthesized,defaultValue:!1}},superTypes:[bt.$type]},TerminalRule:{name:Gr.$type,properties:{definition:{name:Gr.definition},fragment:{name:Gr.fragment,defaultValue:!1},hidden:{name:Gr.hidden,defaultValue:!1},name:{name:Gr.name},type:{name:Gr.type}},superTypes:[Ni.$type]},TerminalRuleCall:{name:qn.$type,properties:{cardinality:{name:qn.cardinality},lookahead:{name:qn.lookahead},parenthesized:{name:qn.parenthesized,defaultValue:!1},rule:{name:qn.rule,referenceType:Gr.$type}},superTypes:[bt.$type]},Type:{name:na.$type,properties:{name:{name:na.name},type:{name:na.type}},superTypes:[qt.$type]},TypeAttribute:{name:zn.$type,properties:{defaultValue:{name:zn.defaultValue},isOptional:{name:zn.isOptional,defaultValue:!1},name:{name:zn.name},type:{name:zn.type}},superTypes:[]},TypeDefinition:{name:jn.$type,properties:{},superTypes:[]},UnionType:{name:tc.$type,properties:{types:{name:tc.types,defaultValue:[]}},superTypes:[jn.$type]},UnorderedGroup:{name:ia.$type,properties:{cardinality:{name:ia.cardinality},elements:{name:ia.elements,defaultValue:[]}},superTypes:[_t.$type]},UntilToken:{name:Bn.$type,properties:{cardinality:{name:Bn.cardinality},lookahead:{name:Bn.lookahead},parenthesized:{name:Bn.parenthesized,defaultValue:!1},terminal:{name:Bn.terminal}},superTypes:[bt.$type]},ValueLiteral:{name:Wn.$type,properties:{},superTypes:[]},Wildcard:{name:Oi.$type,properties:{cardinality:{name:Oi.cardinality},lookahead:{name:Oi.lookahead},parenthesized:{name:Oi.parenthesized,defaultValue:!1}},superTypes:[bt.$type]}}}},B=new Li;function $E(t){let e=t,r=!1;for(;e;){let n=Mr(e.grammarSource,nt);if(n&&n.dataType)e=e.container,r=!0;else return r?e:void 0}}s($E,"getDatatypeNode");function Vn(t){return new yr(t,e=>rr(e)?e.content:[],{includeRoot:!0})}s(Vn,"streamCst");function SE(t){return Vn(t).filter(sn)}s(SE,"flattenCst");function Uu(t,e){for(;t.container;)if(t=t.container,t===e)return!0;return!1}s(Uu,"isChildNode");function Di(t){return{start:{character:t.startColumn-1,line:t.startLine-1},end:{character:t.endColumn,line:t.endLine-1}}}s(Di,"tokenToRange");function Kn(t){if(!t)return;let{offset:e,end:r,range:n}=t;return{range:n,offset:e,end:r,length:r-e}}s(Kn,"toDocumentSegment");var Rr;(function(t){t[t.Before=0]="Before",t[t.After=1]="After",t[t.OverlapFront=2]="OverlapFront",t[t.OverlapBack=3]="OverlapBack",t[t.Inside=4]="Inside",t[t.Outside=5]="Outside"})(Rr||(Rr={}));function cm(t,e){if(t.end.line<e.start.line||t.end.line===e.start.line&&t.end.character<=e.start.character)return Rr.Before;if(t.start.line>e.end.line||t.start.line===e.end.line&&t.start.character>=e.end.character)return Rr.After;let r=t.start.line>e.start.line||t.start.line===e.start.line&&t.start.character>=e.start.character,n=t.end.line<e.end.line||t.end.line===e.end.line&&t.end.character<=e.end.character;return r&&n?Rr.Inside:r?Rr.OverlapBack:n?Rr.OverlapFront:Rr.Outside}s(cm,"compareRange");function xu(t,e){return cm(t,e)>Rr.After}s(xu,"inRange");var oc=/^[\w\p{L}]$/u;function kE(t,e,r=oc){if(t){if(e>0){let n=e-t.offset,i=t.text.charAt(n);r.test(i)||e--}return zu(t,e)}}s(kE,"findDeclarationNodeAtOffset");function qu(t,e){if(t){let r=fm(t,!0);if(r&&Gu(r,e))return r;if(Ys(t)){let n=t.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){let a=t.content[i];if(Gu(a,e))return a}}}}s(qu,"findCommentNode");function Gu(t,e){return sn(t)&&e.includes(t.tokenType.name)}s(Gu,"isCommentNode");function zu(t,e){if(sn(t))return t;if(rr(t)){let r=um(t,e,!1);if(r)return zu(r,e)}}s(zu,"findLeafNodeAtOffset");function lm(t,e){if(sn(t))return t;if(rr(t)){let r=um(t,e,!0);if(r)return lm(r,e)}}s(lm,"findLeafNodeBeforeOffset");function um(t,e,r){let n=0,i=t.content.length-1,a;for(;n<=i;){let o=Math.floor((n+i)/2),c=t.content[o];if(c.offset<=e&&c.end>e)return c;c.end<=e?(a=r?c:void 0,n=o+1):i=o-1}return a}s(um,"binarySearch");function fm(t,e=!0){for(;t.container;){let r=t.container,n=r.content.indexOf(t);for(;n>0;){n--;let i=r.content[n];if(e||!i.hidden)return i}t=r}}s(fm,"getPreviousNode");function CE(t,e=!0){for(;t.container;){let r=t.container,n=r.content.indexOf(t),i=r.content.length-1;for(;n<i;){n++;let a=r.content[n];if(e||!a.hidden)return a}t=r}}s(CE,"getNextNode");function NE(t){if(t.range.start.character===0)return t;let e=t.range.start.line,r=t,n;for(;t.container;){let i=t.container,a=n??i.content.indexOf(t);if(a===0?(t=i,n=void 0):(n=a-1,t=i.content[n]),t.range.start.line!==e)break;r=t}return r}s(NE,"getStartlineNode");function wE(t,e){let r=IE(t,e);return r?r.parent.content.slice(r.a+1,r.b):[]}s(wE,"getInteriorNodes");function IE(t,e){let r=om(t),n=om(e),i;for(let a=0;a<r.length&&a<n.length;a++){let o=r[a],c=n[a];if(o.parent===c.parent)i={parent:o.parent,a:o.index,b:c.index};else break}return i}s(IE,"getCommonParent");function om(t){let e=[];for(;t.container;){let r=t.container,n=r.content.indexOf(t);e.push({parent:r,index:n}),t=r}return e.reverse()}s(om,"getParentChain");var hc={};rn(hc,{findAssignment:()=>nf,findNameAssignment:()=>dc,findNodeForKeyword:()=>tf,findNodeForProperty:()=>pa,findNodesForKeyword:()=>LE,findNodesForKeywordInternal:()=>rf,findNodesForProperty:()=>Zu,getActionAtElement:()=>xm,getActionType:()=>vm,getAllReachableRules:()=>da,getAllRulesUsedForCrossReferences:()=>OE,getCrossReferenceTerminal:()=>Ju,getEntryRule:()=>gm,getExplicitRuleType:()=>pc,getHiddenRules:()=>ym,getRuleType:()=>sf,getRuleTypeName:()=>UE,getTypeName:()=>gn,isArrayCardinality:()=>ME,isArrayOperator:()=>FE,isCommentTerminal:()=>Qu,isDataType:()=>GE,isDataTypeRule:()=>ha,isOptionalCardinality:()=>DE,terminalRegex:()=>Fi});var Hn=class extends Error{static{s(this,"ErrorWithLocation")}constructor(e,r){super(e?`${r} at ${e.range.start.line}:${e.range.start.character}`:r)}};function xr(t,e="Error: Got unexpected value."){throw new Error(e)}s(xr,"assertUnreachable");function dm(t,e="Error: Condition is violated."){if(!t)throw new Error(e)}s(dm,"assertCondition");var fc={};rn(fc,{NEWLINE_REGEXP:()=>Vu,escapeRegExp:()=>mn,getTerminalParts:()=>PE,isMultilineComment:()=>Ku,isWhitespace:()=>fa,partialMatches:()=>Hu,partialRegExp:()=>mm,whitespaceCharacters:()=>hm});function V(t){return t.charCodeAt(0)}s(V,"cc");function lc(t,e){Array.isArray(t)?t.forEach(function(r){e.push(r)}):e.push(t)}s(lc,"insertToSet");function Mi(t,e){if(t[e]===!0)throw"duplicate flag "+e;let r=t[e];t[e]=!0}s(Mi,"addFlag");function Yn(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}s(Yn,"ASSERT_EXISTS");function ca(){throw Error("Internal Error - Should never get here!")}s(ca,"ASSERT_NEVER_REACH_HERE");function ju(t){return t.type==="Character"}s(ju,"isCharacter");var la=[];for(let t=V("0");t<=V("9");t++)la.push(t);var ua=[V("_")].concat(la);for(let t=V("a");t<=V("z");t++)ua.push(t);for(let t=V("A");t<=V("Z");t++)ua.push(t);var Bu=[V(" "),V("\f"),V(`
`),V("\r"),V("	"),V("\v"),V("	"),V("\xA0"),V("\u1680"),V("\u2000"),V("\u2001"),V("\u2002"),V("\u2003"),V("\u2004"),V("\u2005"),V("\u2006"),V("\u2007"),V("\u2008"),V("\u2009"),V("\u200A"),V("\u2028"),V("\u2029"),V("\u202F"),V("\u205F"),V("\u3000"),V("\uFEFF")];var _E=/[0-9a-fA-F]/,uc=/[0-9]/,bE=/[1-9]/,Xn=class{static{s(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Mi(n,"global");break;case"i":Mi(n,"ignoreCase");break;case"m":Mi(n,"multiLine");break;case"u":Mi(n,"unicode");break;case"y":Mi(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let e=[],r=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(r)}}alternative(){let e=[],r=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break;case"<":{switch(this.popChar()){case"=":r="Lookbehind";break;case"!":r="NegativeLookbehind"}break}}Yn(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(e)}}return ca()}quantifier(e=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let a;this.isDigit()?(a=this.integerIncludingZero(),r={atLeast:i,atMost:a}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&r===void 0)return;Yn(r);break}if(!(e===!0&&r===void 0)&&Yn(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let e,r=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Yn(e)?(e.loc=this.loc(r),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):ca()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[V(`
`),V("\r"),V("\u2028"),V("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,r=!1;switch(this.popChar()){case"d":e=la;break;case"D":e=la,r=!0;break;case"s":e=Bu;break;case"S":e=Bu,r=!0;break;case"w":e=ua;break;case"W":e=ua,r=!0;break}return Yn(e)?{type:"Set",value:e,complement:r}:ca()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=V("\f");break;case"n":e=V(`
`);break;case"r":e=V("\r");break;case"t":e=V("	");break;case"v":e=V("\v");break}return Yn(e)?{type:"Character",value:e}:ca()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:V("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:V(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:V(e)}}}characterClass(){let e=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom(),i=n.type==="Character";if(ju(n)&&this.isRangeDash()){this.consumeChar("-");let a=this.classAtom(),o=a.type==="Character";if(ju(a)){if(a.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:a.value})}else lc(n.value,e),e.push(V("-")),lc(a.value,e)}else lc(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:r,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:V("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:e,value:r};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(bE.test(e)===!1)throw Error("Expecting a positive integer");for(;uc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(uc.test(e)===!1)throw Error("Expecting an integer");for(;uc.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:V(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return uc.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!"||this.peekChar(2)==="<"&&(this.peekChar(3)==="="||this.peekChar(3)==="!"));default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let r="";for(let i=0;i<e;i++){let a=this.popChar();if(_E.test(a)===!1)throw Error("Expecting a HexDecimal digits");r+=a}return{type:"Character",value:parseInt(r,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}};var Er=class{static{s(this,"BaseRegExpVisitor")}visitChildren(e){for(let r in e){let n=e[r];e.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Lookbehind":this.visitLookbehind(e);break;case"NegativeLookbehind":this.visitNegativeLookbehind(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitLookbehind(e){}visitNegativeLookbehind(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}};var Vu=/\r?\n/gm,pm=new Xn,Wu=class extends Er{static{s(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let r=String.fromCharCode(e.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let n=mn(r);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(e){if(!this.multiline){let r=this.regex.substring(e.loc.begin,e.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},Jn=new Wu;function PE(t){try{typeof t!="string"&&(t=t.source),t=`/${t}/`;let e=pm.pattern(t),r=[];for(let n of e.value.value)Jn.reset(t),Jn.visit(n),r.push({start:Jn.startRegexp,end:Jn.endRegex});return r}catch{return[]}}s(PE,"getTerminalParts");function Ku(t){try{return typeof t=="string"&&(t=new RegExp(t)),t=t.toString(),Jn.reset(t),Jn.visit(pm.pattern(t)),Jn.multiline}catch{return!1}}s(Ku,"isMultilineComment");var hm=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split("");function fa(t){let e=typeof t=="string"?new RegExp(t):t;return hm.some(r=>e.test(r))}s(fa,"isWhitespace");function mn(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}s(mn,"escapeRegExp");function Hu(t,e){let r=mm(t),n=e.match(r);return!!n&&n[0].length>0}s(Hu,"partialMatches");function mm(t){typeof t=="string"&&(t=new RegExp(t));let e=t,r=t.source,n=0;function i(){let a="",o;function c(u){a+=r.substr(n,u),n+=u}s(c,"appendRaw");function l(u){a+="(?:"+r.substr(n,u)+"|$)",n+=u}for(s(l,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":l(3);break;case"x":l(4);break;case"u":e.unicode?r[n+2]==="{"?l(r.indexOf("}",n)-n+1):l(6):l(2);break;case"p":case"P":e.unicode?l(r.indexOf("}",n)-n+1):l(2);break;case"k":l(r.indexOf(">",n)-n+1);break;default:l(2);break}break;case"[":o=/\[(?:\\.|.)*?\]/g,o.lastIndex=n,o=o.exec(r)||[],l(o[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":c(1);break;case"{":o=/\{\d+,?\d*\}/g,o.lastIndex=n,o=o.exec(r),o?c(o[0].length):l(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":o=n,n+=3,i(),a+=r.substr(o,n-o);break;case"<":switch(r[n+3]){case"=":case"!":o=n,n+=4,i(),a+=r.substr(o,n-o);break;default:c(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else c(1),a+=i()+"|$)";break;case")":return++n,a;default:l(1);break}return a}return s(i,"process"),new RegExp(i(),t.flags)}s(mm,"partialRegExp");function gm(t){return t.rules.find(e=>nt(e)&&e.entry)}s(gm,"getEntryRule");function ym(t){return t.rules.filter(e=>St(e)&&e.hidden)}s(ym,"getHiddenRules");function da(t,e){let r=new Set,n=gm(t);if(!n)return new Set(t.rules);let i=[n].concat(ym(t));for(let o of i)Tm(o,r,e);let a=new Set;for(let o of t.rules)(r.has(o.name)||St(o)&&o.hidden)&&a.add(o);return a}s(da,"getAllReachableRules");function Tm(t,e,r){e.add(t.name),nr(t).forEach(n=>{if(or(n)||r&&ic(n)){let i=n.rule.ref;i&&!e.has(i.name)&&Tm(i,e,r)}})}s(Tm,"ruleDfs");function OE(t){let e=new Set;return nr(t).forEach(r=>{ar(r)&&(nt(r.type.ref)&&e.add(r.type.ref),aa(r.type.ref)&&nt(r.type.ref.$container)&&e.add(r.type.ref.$container))}),e}s(OE,"getAllRulesUsedForCrossReferences");function Ju(t){if(t.terminal)return t.terminal;if(t.type.ref)return dc(t.type.ref)?.terminal}s(Ju,"getCrossReferenceTerminal");function Qu(t){return t.hidden&&!fa(Fi(t))}s(Qu,"isCommentTerminal");function Zu(t,e){return!t||!e?[]:ef(t,e,t.astNode,!0)}s(Zu,"findNodesForProperty");function pa(t,e,r){if(!t||!e)return;let n=ef(t,e,t.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}s(pa,"findNodeForProperty");function ef(t,e,r,n){if(!n){let i=Mr(t.grammarSource,sr);if(i&&i.feature===e)return[t]}return rr(t)&&t.astNode===r?t.content.flatMap(i=>ef(i,e,r,!1)):[]}s(ef,"findNodesForPropertyInternal");function LE(t,e){return t?rf(t,e,t?.astNode):[]}s(LE,"findNodesForKeyword");function tf(t,e,r){if(!t)return;let n=rf(t,e,t?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}s(tf,"findNodeForKeyword");function rf(t,e,r){if(t.astNode!==r)return[];if(Kt(t.grammarSource)&&t.grammarSource.value===e)return[t];let n=Vn(t).iterator(),i,a=[];do if(i=n.next(),!i.done){let o=i.value;o.astNode===r?Kt(o.grammarSource)&&o.grammarSource.value===e&&a.push(o):n.prune()}while(!i.done);return a}s(rf,"findNodesForKeywordInternal");function nf(t){let e=t.astNode;for(;e===t.container?.astNode;){let r=Mr(t.grammarSource,sr);if(r)return r;t=t.container}}s(nf,"findAssignment");function dc(t){let e=t;return aa(e)&&(qr(e.$container)?e=e.$container.$container:Ur(e.$container)?e=e.$container:xr(e.$container)),Rm(t,e,new Map)}s(dc,"findNameAssignment");function Rm(t,e,r){function n(i,a){let o;return Mr(i,sr)||(o=Rm(a,a,r)),r.set(t,o),o}if(s(n,"go"),r.has(t))return r.get(t);r.set(t,void 0);for(let i of nr(e)){if(sr(i)&&i.feature.toLowerCase()==="name")return r.set(t,i),i;if(or(i)&&nt(i.rule.ref))return n(i,i.rule.ref);if(nc(i)&&i.typeRef?.ref)return n(i,i.typeRef.ref)}}s(Rm,"findNameAssignmentInternal");function xm(t){let e=t.$container;if(pn(e)){let r=e.elements,n=r.indexOf(t);for(let i=n-1;i>=0;i--){let a=r[i];if(qr(a))return a;{let o=nr(r[i]).find(qr);if(o)return o}}}if(sa(e))return xm(e)}s(xm,"getActionAtElement");function DE(t,e){return t==="?"||t==="*"||pn(e)&&!!e.guardCondition}s(DE,"isOptionalCardinality");function ME(t){return t==="*"||t==="+"}s(ME,"isArrayCardinality");function FE(t){return t==="+="}s(FE,"isArrayOperator");function ha(t){return Em(t,new Set)}s(ha,"isDataTypeRule");function Em(t,e){if(e.has(t))return!0;e.add(t);for(let r of nr(t))if(or(r)){if(!r.rule.ref||nt(r.rule.ref)&&!Em(r.rule.ref,e)||hn(r.rule.ref))return!1}else{if(sr(r))return!1;if(qr(r))return!1}return!!t.definition}s(Em,"isDataTypeRuleInternal");function GE(t){return Xu(t.type,new Set)}s(GE,"isDataType");function Xu(t,e){if(e.has(t))return!0;if(e.add(t),Eu(t))return!1;if(_u(t))return!1;if(Du(t))return t.types.every(r=>Xu(r,e));if(nc(t)){if(t.primitiveType!==void 0)return!0;if(t.stringType!==void 0)return!0;if(t.typeRef!==void 0){let r=t.typeRef.ref;return sc(r)?Xu(r.type,e):!1}else return!1}else return!1}s(Xu,"isDataTypeInternal");function pc(t){if(!St(t)){if(t.inferredType)return t.inferredType.name;if(t.dataType)return t.dataType;if(t.returnType){let e=t.returnType.ref;if(e)return e.name}}}s(pc,"getExplicitRuleType");function gn(t){if(Ur(t))return nt(t)&&ha(t)?t.name:pc(t)??t.name;if(Cu(t)||sc(t)||Pu(t))return t.name;if(qr(t)){let e=vm(t);if(e)return e}else if(aa(t))return t.name;throw new Error("Cannot get name of Unknown Type")}s(gn,"getTypeName");function vm(t){if(t.inferredType)return t.inferredType.name;if(t.type?.ref)return gn(t.type.ref)}s(vm,"getActionType");function UE(t){return St(t)?t.type?.name??"string":nt(t)&&ha(t)?t.name:pc(t)??t.name}s(UE,"getRuleTypeName");function sf(t){return St(t)?t.type?.name??"string":pc(t)??t.name}s(sf,"getRuleType");function Fi(t){let e={s:!1,i:!1,u:!1},r=Gi(t.definition,e),n=Object.entries(e).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}s(Fi,"terminalRegex");var af=/[\s\S]/.source;function Gi(t,e){if(Ou(t))return qE(t);if(Lu(t))return zE(t);if(Au(t))return WE(t);if(ic(t)){let r=t.rule.ref;if(!r)throw new Error("Missing rule reference.");return zr(Gi(r.definition),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}else{if(Nu(t))return BE(t);if(Mu(t))return jE(t);if(bu(t)){let r=t.regex.lastIndexOf("/"),n=t.regex.substring(1,r),i=t.regex.substring(r+1);return e&&(e.i=i.includes("i"),e.s=i.includes("s"),e.u=i.includes("u")),zr(n,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}else{if(Fu(t))return zr(af,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized});throw new Error(`Invalid terminal element: ${t?.$type}, ${t?.$cstNode?.text}`)}}}s(Gi,"abstractElementToRegex");function qE(t){return zr(t.elements.map(e=>Gi(e)).join("|"),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}s(qE,"terminalAlternativesToRegex");function zE(t){return zr(t.elements.map(e=>Gi(e)).join(""),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}s(zE,"terminalGroupToRegex");function jE(t){return zr(`${af}*?${Gi(t.terminal)}`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}s(jE,"untilTokenToRegex");function BE(t){return zr(`(?!${Gi(t.terminal)})${af}*?`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized})}s(BE,"negateTokenToRegex");function WE(t){return t.right?zr(`[${Yu(t.left)}-${Yu(t.right)}]`,{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1}):zr(Yu(t.left),{cardinality:t.cardinality,lookahead:t.lookahead,parenthesized:t.parenthesized,wrap:!1})}s(WE,"characterRangeToRegex");function Yu(t){return mn(t.value)}s(Yu,"keywordToRegex");function zr(t,e){return(e.parenthesized||e.lookahead||e.wrap!==!1)&&(t=`(${e.lookahead??(e.parenthesized?"":"?:")}${t})`),e.cardinality?`${t}${e.cardinality}`:t}s(zr,"withCardinality");function of(t){let e=[],r=t.Grammar;for(let n of r.rules)St(n)&&Qu(n)&&Ku(Fi(n))&&e.push(n.name);return{multilineCommentRules:e,nameRegexp:oc}}s(of,"createGrammarConfig");function Ui(t){console&&console.error&&console.error(`Error: ${t}`)}s(Ui,"PRINT_ERROR");function ma(t){console&&console.warn&&console.warn(`Warning: ${t}`)}s(ma,"PRINT_WARNING");function ga(t){let e=new Date().getTime(),r=t();return{time:new Date().getTime()-e,value:r}}s(ga,"timer");function ya(t){function e(){}s(e,"FakeConstructor"),e.prototype=t;let r=new e;function n(){return typeof r.bar}return s(n,"fakeAccess"),n(),n(),t;(0,eval)(t)}s(ya,"toFastProperties");function VE(t){return KE(t)?t.LABEL:t.name}s(VE,"tokenLabel");function KE(t){return pt(t.LABEL)&&t.LABEL!==""}s(KE,"hasTokenLabel");var zt=class{static{s(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),D(this.definition,r=>{r.accept(e)})}},de=class extends zt{static{s(this,"NonTerminal")}constructor(e){super([]),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},kt=class extends zt{static{s(this,"Rule")}constructor(e){super(e.definition),this.orgText="",ut(this,Ft(e,r=>r!==void 0))}},Re=class extends zt{static{s(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,ut(this,Ft(e,r=>r!==void 0))}},pe=class extends zt{static{s(this,"Option")}constructor(e){super(e.definition),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}},xe=class extends zt{static{s(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}},Ee=class extends zt{static{s(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}},se=class extends zt{static{s(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}},ye=class extends zt{static{s(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,ut(this,Ft(e,r=>r!==void 0))}},Te=class extends zt{static{s(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,ut(this,Ft(e,r=>r!==void 0))}},re=class{static{s(this,"Terminal")}constructor(e){this.idx=1,ut(this,Ft(e,r=>r!==void 0))}accept(e){e.visit(this)}};function mc(t){return _(t,qi)}s(mc,"serializeGrammar");function qi(t){function e(r){return _(r,qi)}if(s(e,"convertDefinition"),t instanceof de){let r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return pt(t.label)&&(r.label=t.label),r}else{if(t instanceof Re)return{type:"Alternative",definition:e(t.definition)};if(t instanceof pe)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof xe)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Ee)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:qi(new re({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ye)return{type:"RepetitionWithSeparator",idx:t.idx,separator:qi(new re({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof se)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Te)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof re){let r={type:"Terminal",name:t.terminalType.name,label:VE(t.terminalType),idx:t.idx};pt(t.label)&&(r.terminalLabel=t.label);let n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(r.pattern=tr(n)?n.source:n),r}else{if(t instanceof kt)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}s(qi,"serializeProduction");var Ct=class{static{s(this,"GAstVisitor")}visit(e){let r=e;switch(r.constructor){case de:return this.visitNonTerminal(r);case Re:return this.visitAlternative(r);case pe:return this.visitOption(r);case xe:return this.visitRepetitionMandatory(r);case Ee:return this.visitRepetitionMandatoryWithSeparator(r);case ye:return this.visitRepetitionWithSeparator(r);case se:return this.visitRepetition(r);case Te:return this.visitAlternation(r);case re:return this.visitTerminal(r);case kt:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};function cf(t){return t instanceof Re||t instanceof pe||t instanceof se||t instanceof xe||t instanceof Ee||t instanceof ye||t instanceof re||t instanceof kt}s(cf,"isSequenceProd");function Qn(t,e=[]){return t instanceof pe||t instanceof se||t instanceof ye?!0:t instanceof Te?Go(t.definition,n=>Qn(n,e)):t instanceof de&&Oe(e,t)?!1:t instanceof zt?(t instanceof de&&e.push(t),vt(t.definition,n=>Qn(n,e))):!1}s(Qn,"isOptionalProd");function lf(t){return t instanceof Te}s(lf,"isBranchingProd");function Pt(t){if(t instanceof de)return"SUBRULE";if(t instanceof pe)return"OPTION";if(t instanceof Te)return"OR";if(t instanceof xe)return"AT_LEAST_ONE";if(t instanceof Ee)return"AT_LEAST_ONE_SEP";if(t instanceof ye)return"MANY_SEP";if(t instanceof se)return"MANY";if(t instanceof re)return"CONSUME";throw Error("non exhaustive match")}s(Pt,"getProductionDslName");var jr=class{static{s(this,"RestWalker")}walk(e,r=[]){D(e.definition,(n,i)=>{let a=Ke(e.definition,i+1);if(n instanceof de)this.walkProdRef(n,a,r);else if(n instanceof re)this.walkTerminal(n,a,r);else if(n instanceof Re)this.walkFlat(n,a,r);else if(n instanceof pe)this.walkOption(n,a,r);else if(n instanceof xe)this.walkAtLeastOne(n,a,r);else if(n instanceof Ee)this.walkAtLeastOneSep(n,a,r);else if(n instanceof ye)this.walkManySep(n,a,r);else if(n instanceof se)this.walkMany(n,a,r);else if(n instanceof Te)this.walkOr(n,a,r);else throw Error("non exhaustive match")})}walkTerminal(e,r,n){}walkProdRef(e,r,n){}walkFlat(e,r,n){let i=r.concat(n);this.walk(e,i)}walkOption(e,r,n){let i=r.concat(n);this.walk(e,i)}walkAtLeastOne(e,r,n){let i=[new pe({definition:e.definition})].concat(r,n);this.walk(e,i)}walkAtLeastOneSep(e,r,n){let i=Am(e,r,n);this.walk(e,i)}walkMany(e,r,n){let i=[new pe({definition:e.definition})].concat(r,n);this.walk(e,i)}walkManySep(e,r,n){let i=Am(e,r,n);this.walk(e,i)}walkOr(e,r,n){let i=r.concat(n);D(e.definition,a=>{let o=new Re({definition:[a]});this.walk(o,i)})}};function Am(t,e,r){return[new pe({definition:[new re({terminalType:t.separator})].concat(t.definition)})].concat(e,r)}s(Am,"restForRepetitionWithSeparator");function Zn(t){if(t instanceof de)return Zn(t.referencedRule);if(t instanceof re)return XE(t);if(cf(t))return HE(t);if(lf(t))return YE(t);throw Error("non exhaustive match")}s(Zn,"first");function HE(t){let e=[],r=t.definition,n=0,i=r.length>n,a,o=!0;for(;i&&o;)a=r[n],o=Qn(a),e=e.concat(Zn(a)),n=n+1,i=r.length>n;return Hs(e)}s(HE,"firstForSequence");function YE(t){let e=_(t.definition,r=>Zn(r));return Hs(Ve(e))}s(YE,"firstForBranching");function XE(t){return[t.terminalType]}s(XE,"firstForTerminal");var gc="_~IN~_";var uf=class extends jr{static{s(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,r,n){}walkProdRef(e,r,n){let i=JE(e.referencedRule,e.idx)+this.topProd.name,a=r.concat(n),o=new Re({definition:a}),c=Zn(o);this.follows[i]=c}};function $m(t){let e={};return D(t,r=>{let n=new uf(r).startWalking();ut(e,n)}),e}s($m,"computeAllProdsFollows");function JE(t,e){return t.name+e+gc}s(JE,"buildBetweenProdsFollowPrefix");var yc={},QE=new Xn;function zi(t){let e=t.toString();if(yc.hasOwnProperty(e))return yc[e];{let r=QE.pattern(e);return yc[e]=r,r}}s(zi,"getRegExpAst");function Sm(){yc={}}s(Sm,"clearRegExpParserCache");var Cm="Complement Sets are not supported for first char optimization",Ta=`Unable to use "first char" lexer optimizations:
`;function Nm(t,e=!1){try{let r=zi(t);return ff(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Cm)e&&ma(`${Ta}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Ui(`${Ta}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}s(Nm,"getOptimizedStartCodesIndices");function ff(t,e,r){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)ff(t.value[i],e,r);break;case"Alternative":let n=t.value;for(let i=0;i<n.length;i++){let a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let o=a;switch(o.type){case"Character":Tc(o.value,e,r);break;case"Set":if(o.complement===!0)throw Error(Cm);D(o.value,l=>{if(typeof l=="number")Tc(l,e,r);else{let u=l;if(r===!0)for(let d=u.from;d<=u.to;d++)Tc(d,e,r);else{for(let d=u.from;d<=u.to&&d<ji;d++)Tc(d,e,r);if(u.to>=ji){let d=u.from>=ji?u.from:ji,h=u.to,m=vr(d),y=vr(h);for(let C=m;C<=y;C++)e[C]=C}}}});break;case"Group":ff(o.value,e,r);break;default:throw Error("Non Exhaustive Match")}let c=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&df(o)===!1||o.type!=="Group"&&c===!1)break}break;default:throw Error("non exhaustive match!")}return Se(e)}s(ff,"firstCharOptimizedIndices");function Tc(t,e,r){let n=vr(t);e[n]=n,r===!0&&ZE(t,e)}s(Tc,"addOptimizedIdxToResult");function ZE(t,e){let r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){let i=vr(n.charCodeAt(0));e[i]=i}else{let i=r.toLowerCase();if(i!==r){let a=vr(i.charCodeAt(0));e[a]=a}}}s(ZE,"handleIgnoreCase");function km(t,e){return Dr(t.value,r=>{if(typeof r=="number")return Oe(e,r);{let n=r;return Dr(e,i=>n.from<=i&&i<=n.to)!==void 0}})}s(km,"findCode");function df(t){let e=t.quantifier;return e&&e.atLeast===0?!0:t.value?Qe(t.value)?vt(t.value,df):df(t.value):!1}s(df,"isWholeOptional");var pf=class extends Er{static{s(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return;case"Lookbehind":this.visitLookbehind(e);return;case"NegativeLookbehind":this.visitNegativeLookbehind(e);return}super.visitChildren(e)}}visitCharacter(e){Oe(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?km(e,this.targetCharCodes)===void 0&&(this.found=!0):km(e,this.targetCharCodes)!==void 0&&(this.found=!0)}};function Rc(t,e){if(e instanceof RegExp){let r=zi(e),n=new pf(t);return n.visit(r),n.found}else return Dr(e,r=>Oe(t,r.charCodeAt(0)))!==void 0}s(Rc,"canMatchCharCode");var ei="PATTERN",Bi="defaultMode",xc="modes",mf=typeof new RegExp("(?:)").sticky=="boolean";function _m(t,e){e=Ks(e,{useSticky:mf,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:s((P,A)=>A(),"tracer")});let r=e.tracer;r("initCharCodeToOptimizedIndexMap",()=>{Tv()});let n;r("Reject Lexer.NA",()=>{n=bn(t,P=>P[ei]===we.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=_(n,P=>{let A=P[ei];if(tr(A)){let H=A.source;return H.length===1&&H!=="^"&&H!=="$"&&H!=="."&&!A.ignoreCase?H:H.length===2&&H[0]==="\\"&&!Oe(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],H[1])?H[1]:e.useSticky?Im(A):wm(A)}else{if(mr(A))return i=!0,{exec:A};if(typeof A=="object")return i=!0,A;if(typeof A=="string"){if(A.length===1)return A;{let H=A.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),U=new RegExp(H);return e.useSticky?Im(U):wm(U)}}else throw Error("non exhaustive match")}})});let o,c,l,u,d;r("misc mapping",()=>{o=_(n,P=>P.tokenTypeIdx),c=_(n,P=>{let A=P.GROUP;if(A!==we.SKIPPED){if(pt(A))return A;if(At(A))return!1;throw Error("non exhaustive match")}}),l=_(n,P=>{let A=P.LONGER_ALT;if(A)return Qe(A)?_(A,U=>mu(n,U)):[mu(n,A)]}),u=_(n,P=>P.PUSH_MODE),d=_(n,P=>G(P,"POP_MODE"))});let h;r("Line Terminator Handling",()=>{let P=Gm(e.lineTerminatorCharacters);h=_(n,A=>!1),e.positionTracking!=="onlyOffset"&&(h=_(n,A=>G(A,"LINE_BREAKS")?!!A.LINE_BREAKS:Fm(A,P)===!1&&Rc(P,A.PATTERN)))});let m,y,C,w;r("Misc Mapping #2",()=>{m=_(n,Dm),y=_(a,gv),C=Ge(n,(P,A)=>{let H=A.GROUP;return pt(H)&&H!==we.SKIPPED&&(P[H]=[]),P},{}),w=_(a,(P,A)=>({pattern:a[A],longerAlt:l[A],canLineTerminator:h[A],isCustom:m[A],short:y[A],group:c[A],push:u[A],pop:d[A],tokenTypeIdx:o[A],tokenType:n[A]}))});let z=!0,M=[];return e.safeMode||r("First Char Optimization",()=>{M=Ge(n,(P,A,H)=>{if(typeof A.PATTERN=="string"){let U=A.PATTERN.charCodeAt(0),me=vr(U);hf(P,me,w[H])}else if(Qe(A.START_CHARS_HINT)){let U;D(A.START_CHARS_HINT,me=>{let dr=typeof me=="string"?me.charCodeAt(0):me,Xe=vr(dr);U!==Xe&&(U=Xe,hf(P,Xe,w[H]))})}else if(tr(A.PATTERN))if(A.PATTERN.unicode)z=!1,e.ensureOptimizations&&Ui(`${Ta}	Unable to analyze < ${A.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let U=Nm(A.PATTERN,e.ensureOptimizations);ee(U)&&(z=!1),D(U,me=>{hf(P,me,w[H])})}else e.ensureOptimizations&&Ui(`${Ta}	TokenType: <${A.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),z=!1;return P},[])}),{emptyGroups:C,patternIdxToConfig:w,charCodeToPatternIdxToConfig:M,hasCustom:i,canBeOptimized:z}}s(_m,"analyzeTokenTypes");function bm(t,e){let r=[],n=tv(t);r=r.concat(n.errors);let i=rv(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(ev(a)),r=r.concat(uv(a)),r=r.concat(fv(a,e)),r=r.concat(dv(a)),r}s(bm,"validatePatterns");function ev(t){let e=[],r=ot(t,n=>tr(n[ei]));return e=e.concat(iv(r)),e=e.concat(ov(r)),e=e.concat(cv(r)),e=e.concat(lv(r)),e=e.concat(sv(r)),e}s(ev,"validateRegExpPattern");function tv(t){let e=ot(t,i=>!G(i,ei)),r=_(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Ne.MISSING_PATTERN,tokenTypes:[i]})),n=_n(t,e);return{errors:r,valid:n}}s(tv,"findMissingPatterns");function rv(t){let e=ot(t,i=>{let a=i[ei];return!tr(a)&&!mr(a)&&!G(a,"exec")&&!pt(a)}),r=_(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ne.INVALID_PATTERN,tokenTypes:[i]})),n=_n(t,e);return{errors:r,valid:n}}s(rv,"findInvalidPatterns");var nv=/[^\\][$]/;function iv(t){class e extends Er{static{s(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}}let r=ot(t,i=>{let a=i.PATTERN;try{let o=zi(a),c=new e;return c.visit(o),c.found}catch{return nv.test(a.source)}});return _(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ne.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}s(iv,"findEndOfInputAnchor");function sv(t){let e=ot(t,n=>n.PATTERN.test(""));return _(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Ne.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}s(sv,"findEmptyMatchRegExps");var av=/[^\\[][\^]|^\^/;function ov(t){class e extends Er{static{s(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}}let r=ot(t,i=>{let a=i.PATTERN;try{let o=zi(a),c=new e;return c.visit(o),c.found}catch{return av.test(a.source)}});return _(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ne.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}s(ov,"findStartOfInputAnchor");function cv(t){let e=ot(t,n=>{let i=n[ei];return i instanceof RegExp&&(i.multiline||i.global)});return _(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ne.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}s(cv,"findUnsupportedFlags");function lv(t){let e=[],r=_(t,a=>Ge(t,(o,c)=>(a.PATTERN.source===c.PATTERN.source&&!Oe(e,c)&&c.PATTERN!==we.NA&&(e.push(c),o.push(c)),o),[]));r=Lr(r);let n=ot(r,a=>a.length>1);return _(n,a=>{let o=_(a,l=>l.name);return{message:`The same RegExp pattern ->${ft(a).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Ne.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}})}s(lv,"findDuplicatePatterns");function uv(t){let e=ot(t,n=>{if(!G(n,"GROUP"))return!1;let i=n.GROUP;return i!==we.SKIPPED&&i!==we.NA&&!pt(i)});return _(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ne.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}s(uv,"findInvalidGroupType");function fv(t,e){let r=ot(t,i=>i.PUSH_MODE!==void 0&&!Oe(e,i.PUSH_MODE));return _(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Ne.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}s(fv,"findModesThatDoNotExist");function dv(t){let e=[],r=Ge(t,(n,i,a)=>{let o=i.PATTERN;return o===we.NA||(pt(o)?n.push({str:o,idx:a,tokenType:i}):tr(o)&&hv(o)&&n.push({str:o.source,idx:a,tokenType:i})),n},[]);return D(t,(n,i)=>{D(r,({str:a,idx:o,tokenType:c})=>{if(i<o&&pv(a,n.PATTERN)){let l=`Token: ->${c.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Ne.UNREACHABLE_PATTERN,tokenTypes:[n,c]})}})}),e}s(dv,"findUnreachablePatterns");function pv(t,e){if(tr(e)){if(mv(e))return!1;let r=e.exec(t);return r!==null&&r.index===0}else{if(mr(e))return e(t,0,[],{});if(G(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}s(pv,"tryToMatchStrToPattern");function hv(t){return Dr([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>t.source.indexOf(r)!==-1)===void 0}s(hv,"noMetaChar");function mv(t){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(t.source)}s(mv,"usesLookAheadOrBehind");function wm(t){let e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}s(wm,"addStartOfInput");function Im(t){let e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}s(Im,"addStickyFlag");function Pm(t,e,r){let n=[];return G(t,Bi)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Bi+`> property in its definition
`,type:Ne.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),G(t,xc)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+xc+`> property in its definition
`,type:Ne.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),G(t,xc)&&G(t,Bi)&&!G(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Bi}: <${t.defaultMode}>which does not exist
`,type:Ne.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),G(t,xc)&&D(t.modes,(i,a)=>{D(i,(o,c)=>{if(At(o))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${c}>
`,type:Ne.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(G(o,"LONGER_ALT")){let l=Qe(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];D(l,u=>{!At(u)&&!Oe(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${o.name}> outside of mode <${a}>
`,type:Ne.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}s(Pm,"performRuntimeChecks");function Om(t,e,r){let n=[],i=!1,a=Lr(Ve(Se(t.modes))),o=bn(a,l=>l[ei]===we.NA),c=Gm(r);return e&&D(o,l=>{let u=Fm(l,c);if(u!==!1){let h={message:yv(l,u),type:u.issue,tokenType:l};n.push(h)}else G(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):Rc(c,l.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Ne.NO_LINE_BREAKS_FLAGS}),n}s(Om,"performWarningRuntimeChecks");function Lm(t){let e={},r=Or(t);return D(r,n=>{let i=t[n];if(Qe(i))e[n]=[];else throw Error("non exhaustive match")}),e}s(Lm,"cloneEmptyGroups");function Dm(t){let e=t.PATTERN;if(tr(e))return!1;if(mr(e))return!0;if(G(e,"exec"))return!0;if(pt(e))return!1;throw Error("non exhaustive match")}s(Dm,"isCustomPattern");function gv(t){return pt(t)&&t.length===1?t.charCodeAt(0):!1}s(gv,"isShortPattern");var Mm={test:s(function(t){let e=t.length;for(let r=this.lastIndex;r<e;r++){let n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0};function Fm(t,e){if(G(t,"LINE_BREAKS"))return!1;if(tr(t.PATTERN)){try{Rc(e,t.PATTERN)}catch(r){return{issue:Ne.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(pt(t.PATTERN))return!1;if(Dm(t))return{issue:Ne.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}s(Fm,"checkLineBreaksIssues");function yv(t,e){if(e.issue===Ne.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Ne.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}s(yv,"buildLineBreakIssueMessage");function Gm(t){return _(t,r=>pt(r)?r.charCodeAt(0):r)}s(Gm,"getCharCodes");function hf(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}s(hf,"addToMapOfArrays");var ji=256,Ec=[];function vr(t){return t<ji?t:Ec[t]}s(vr,"charCodeToOptimizedIndex");function Tv(){if(ee(Ec)){Ec=new Array(65536);for(let t=0;t<65536;t++)Ec[t]=t>255?255+~~(t/255):t}}s(Tv,"initCharCodeToOptimizedIndexMap");function Br(t,e){let r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}s(Br,"tokenStructuredMatcher");function Wi(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}s(Wi,"tokenStructuredMatcherNoCategories");var Um=1,zm={};function Wr(t){let e=Rv(t);xv(e),vv(e),Ev(e),D(e,r=>{r.isParent=r.categoryMatches.length>0})}s(Wr,"augmentTokenTypes");function Rv(t){let e=$e(t),r=t,n=!0;for(;n;){r=Lr(Ve(_(r,a=>a.CATEGORIES)));let i=_n(r,e);e=e.concat(i),ee(i)?n=!1:r=i}return e}s(Rv,"expandCategories");function xv(t){D(t,e=>{gf(e)||(zm[Um]=e,e.tokenTypeIdx=Um++),qm(e)&&!Qe(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),qm(e)||(e.CATEGORIES=[]),Av(e)||(e.categoryMatches=[]),$v(e)||(e.categoryMatchesMap={})})}s(xv,"assignTokenDefaultProps");function Ev(t){D(t,e=>{e.categoryMatches=[],D(e.categoryMatchesMap,(r,n)=>{e.categoryMatches.push(zm[n].tokenTypeIdx)})})}s(Ev,"assignCategoriesTokensProp");function vv(t){D(t,e=>{jm([],e)})}s(vv,"assignCategoriesMapProp");function jm(t,e){D(t,r=>{e.categoryMatchesMap[r.tokenTypeIdx]=!0}),D(e.CATEGORIES,r=>{let n=t.concat(e);Oe(n,r)||jm(n,r)})}s(jm,"singleAssignCategoriesToksMap");function gf(t){return G(t,"tokenTypeIdx")}s(gf,"hasShortKeyProperty");function qm(t){return G(t,"CATEGORIES")}s(qm,"hasCategoriesProperty");function Av(t){return G(t,"categoryMatches")}s(Av,"hasExtendingTokensTypesProperty");function $v(t){return G(t,"categoryMatchesMap")}s($v,"hasExtendingTokensTypesMapProperty");function Bm(t){return G(t,"tokenTypeIdx")}s(Bm,"isTokenType");var Vi={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,r,n,i,a){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${r} characters.`}};var Ne;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Ne||(Ne={}));var Ra={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Vi,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Ra);var we=class{static{s(this,"Lexer")}constructor(e,r=Ra){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,a)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);let{time:c,value:l}=ga(a),u=c>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${o}<-- <${i}> time: ${c}ms`),this.traceInitIndent--,l}else return a()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=ut({},Ra,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,a=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Ra.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Mm;else if(this.config.lineTerminatorCharacters===Ra.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),Qe(e)?i={modes:{defaultMode:$e(e)},defaultMode:Bi}:(a=!1,i=$e(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Pm(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Om(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},D(i.modes,(c,l)=>{i.modes[l]=bn(c,u=>At(u))});let o=Or(i.modes);if(D(i.modes,(c,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(bm(c,o))}),ee(this.lexerDefinitionErrors)){Wr(c);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=_m(c,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=ut({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!ee(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let l=_(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}D(this.lexerDefinitionWarning,c=>{ma(c.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(mf?(this.chopInput=hu,this.match=this.matchWithTest):(this.updateLastIndex=We,this.match=this.matchWithExec),a&&(this.handleModes=We),this.trackStartLines===!1&&(this.computeNewColumn=hu),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=We),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let c=Ge(this.canModeBeOptimized,(l,u,d)=>(u===!1&&l.push(d),l),[]);if(r.ensureOptimizations&&!ee(c))throw Error(`Lexer Modes: < ${c.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Sm()}),this.TRACE_INIT("toFastProperties",()=>{ya(this)})})}tokenize(e,r=this.defaultMode){if(!ee(this.lexerDefinitionErrors)){let i=_(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,r)}tokenizeInternal(e,r){let n,i,a,o,c,l,u,d,h,m,y,C,w,z,M,P,A=e,H=A.length,U=0,me=0,dr=this.hasCustom?0:Math.floor(e.length/10),Xe=new Array(dr),Qt=[],Vt=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0,T=Lm(this.emptyGroups),L=this.trackStartLines,O=this.config.lineTerminatorsPattern,R=0,E=[],$=[],b=[],F=[];Object.freeze(F);let N;function Y(){return E}s(Y,"getPossiblePatternsSlow");function Q(rt){let It=vr(rt),en=$[It];return en===void 0?F:en}s(Q,"getPossiblePatternsOptimized");let Be=s(rt=>{if(b.length===1&&rt.tokenType.PUSH_MODE===void 0){let It=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(rt);Qt.push({offset:rt.startOffset,line:rt.startLine,column:rt.startColumn,length:rt.image.length,message:It})}else{b.pop();let It=gr(b);E=this.patternIdxToConfig[It],$=this.charCodeToPatternIdxToConfig[It],R=E.length;let en=this.canModeBeOptimized[It]&&this.config.safeMode===!1;$&&en?N=Q:N=Y}},"pop_mode");function ue(rt){b.push(rt),$=this.charCodeToPatternIdxToConfig[rt],E=this.patternIdxToConfig[rt],R=E.length,R=E.length;let It=this.canModeBeOptimized[rt]&&this.config.safeMode===!1;$&&It?N=Q:N=Y}s(ue,"push_mode"),ue.call(this,r);let be,pr=this.config.recoveryEnabled;for(;U<H;){l=null;let rt=A.charCodeAt(U),It=N(rt),en=It.length;for(n=0;n<en;n++){be=It[n];let xt=be.pattern;u=null;let Zt=be.short;if(Zt!==!1?rt===Zt&&(l=xt):be.isCustom===!0?(P=xt.exec(A,U,Xe,T),P!==null?(l=P[0],P.payload!==void 0&&(u=P.payload)):l=null):(this.updateLastIndex(xt,U),l=this.match(xt,e,U)),l!==null){if(c=be.longerAlt,c!==void 0){let at=c.length;for(a=0;a<at;a++){let er=E[c[a]],Pr=er.pattern;if(d=null,er.isCustom===!0?(P=Pr.exec(A,U,Xe,T),P!==null?(o=P[0],P.payload!==void 0&&(d=P.payload)):o=null):(this.updateLastIndex(Pr,U),o=this.match(Pr,e,U)),o&&o.length>l.length){l=o,u=d,be=er;break}}}break}}if(l!==null){if(h=l.length,m=be.group,m!==void 0&&(y=be.tokenTypeIdx,C=this.createTokenInstance(l,U,y,be.tokenType,Vt,S,h),this.handlePayload(C,u),m===!1?me=this.addToken(Xe,me,C):T[m].push(C)),e=this.chopInput(e,h),U=U+h,S=this.computeNewColumn(S,h),L===!0&&be.canLineTerminator===!0){let xt=0,Zt,at;O.lastIndex=0;do Zt=O.test(l),Zt===!0&&(at=O.lastIndex-1,xt++);while(Zt===!0);xt!==0&&(Vt=Vt+xt,S=h-at,this.updateTokenEndLineColumnLocation(C,m,at,xt,Vt,S,h))}this.handleModes(be,Be,ue,C)}else{let xt=U,Zt=Vt,at=S,er=pr===!1;for(;er===!1&&U<H;)for(e=this.chopInput(e,1),U++,i=0;i<R;i++){let Pr=E[i],tn=Pr.pattern,Fo=Pr.short;if(Fo!==!1?A.charCodeAt(U)===Fo&&(er=!0):Pr.isCustom===!0?er=tn.exec(A,U,Xe,T)!==null:(this.updateLastIndex(tn,U),er=tn.exec(e)!==null),er===!0)break}if(w=U-xt,S=this.computeNewColumn(S,w),M=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(A,xt,w,Zt,at,gr(b)),Qt.push({offset:xt,line:Zt,column:at,length:w,message:M}),pr===!1)break}}return this.hasCustom||(Xe.length=me),{tokens:Xe,groups:T,errors:Qt}}handleModes(e,r,n,i){if(e.pop===!0){let a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,r){return e.substring(r)}updateLastIndex(e,r){e.lastIndex=r}updateTokenEndLineColumnLocation(e,r,n,i,a,o,c){let l,u;r!==void 0&&(l=n===c-1,u=l?-1:0,i===1&&l===!0||(e.endLine=a+u,e.endColumn=o-1+-u))}computeNewColumn(e,r){return e+r}createOffsetOnlyToken(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(e,r,n,i,a,o){return{image:e,startOffset:r,startLine:a,startColumn:o,tokenTypeIdx:n,tokenType:i}}createFullToken(e,r,n,i,a,o,c){return{image:e,startOffset:r,endOffset:r+c-1,startLine:a,endLine:a,startColumn:o,endColumn:o+c-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(e,r,n){return e.push(n),r}addTokenUsingMemberAccess(e,r,n){return e[r]=n,r++,r}handlePayloadNoCustom(e,r){}handlePayloadWithCustom(e,r){r!==null&&(e.payload=r)}matchWithTest(e,r,n){return e.test(r)===!0?r.substring(n,e.lastIndex):null}matchWithExec(e,r){let n=e.exec(r);return n!==null?n[0]:null}};we.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";we.NA=/NOT_APPLICABLE/;function Vr(t){return yf(t)?t.LABEL:t.name}s(Vr,"tokenLabel");function yf(t){return pt(t.LABEL)&&t.LABEL!==""}s(yf,"hasTokenLabel");var Sv="parent",Wm="categories",Vm="label",Km="group",Hm="push_mode",Ym="pop_mode",Xm="longer_alt",Jm="line_breaks",Qm="start_chars_hint";function yn(t){return kv(t)}s(yn,"createToken");function kv(t){let e=t.pattern,r={};if(r.name=t.name,At(e)||(r.PATTERN=e),G(t,Sv))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return G(t,Wm)&&(r.CATEGORIES=t[Wm]),Wr([r]),G(t,Vm)&&(r.LABEL=t[Vm]),G(t,Km)&&(r.GROUP=t[Km]),G(t,Ym)&&(r.POP_MODE=t[Ym]),G(t,Hm)&&(r.PUSH_MODE=t[Hm]),G(t,Xm)&&(r.LONGER_ALT=t[Xm]),G(t,Jm)&&(r.LINE_BREAKS=t[Jm]),G(t,Qm)&&(r.START_CHARS_HINT=t[Qm]),r}s(kv,"createTokenInternal");var jt=yn({name:"EOF",pattern:we.NA});Wr([jt]);function Kr(t,e,r,n,i,a,o,c){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:o,endColumn:c,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}s(Kr,"createTokenInstance");function xa(t,e){return Br(t,e)}s(xa,"tokenMatcher");var Hr={buildMismatchTokenMessage({expected:t,actual:e,previous:r,ruleName:n}){return`Expecting ${yf(t)?`--> ${Vr(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:r,customUserDescription:n,ruleName:i}){let a="Expecting: ",c=`
but found: '`+ft(e).image+"'";if(n)return a+n+c;{let l=Ge(t,(m,y)=>m.concat(y),[]),u=_(l,m=>`[${_(m,y=>Vr(y)).join(", ")}]`),h=`one of these possible Token sequences:
${_(u,(m,y)=>`  ${y+1}. ${m}`).join(`
`)}`;return a+h+c}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:r,ruleName:n}){let i="Expecting: ",o=`
but found: '`+ft(e).image+"'";if(r)return i+r+o;{let l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${_(t,u=>`[${_(u,d=>Vr(d)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(Hr);var Zm={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},cr={buildDuplicateFoundError(t,e){function r(d){return d instanceof re?d.terminalType.name:d instanceof de?d.nonTerminalName:""}s(r,"getExtraProductionArgument");let n=t.name,i=ft(e),a=i.idx,o=Pt(i),c=r(i),l=a>0,u=`->${o}${l?a:""}<- ${c?`with argument: ->${c}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){let e=_(t.prefixPath,i=>Vr(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){let e=_(t.prefixPath,i=>Vr(i)).join(", "),r=t.alternation.idx===0?"":t.alternation.idx,n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=Pt(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){let e=t.topLevelRule.name,r=_(t.leftRecursionPath,a=>a.name),n=`${e} --> ${r.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof kt?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function eg(t,e){let r=new Tf(t,e);return r.resolveRefs(),r.errors}s(eg,"resolveGrammar");var Tf=class extends Ct{static{s(this,"GastRefResolverVisitor")}constructor(e,r){super(),this.nameToTopRule=e,this.errMsgProvider=r,this.errors=[]}resolveRefs(){D(Se(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let r=this.nameToTopRule[e.nonTerminalName];if(r)e.referencedRule=r;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:et.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}};var Rf=class extends jr{static{s(this,"AbstractNextPossibleTokensWalker")}constructor(e,r){super(),this.topProd=e,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=$e(this.path.ruleStack).reverse(),this.occurrenceStack=$e(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,r=[]){this.found||super.walk(e,r)}walkProdRef(e,r,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let i=r.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){ee(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},vc=class extends Rf{static{s(this,"NextAfterTokenWalker")}constructor(e,r){super(e,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,r,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let i=r.concat(n),a=new Re({definition:i});this.possibleTokTypes=Zn(a),this.found=!0}}},Ki=class extends jr{static{s(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,r){super(),this.topRule=e,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},Ac=class extends Ki{static{s(this,"NextTerminalAfterManyWalker")}walkMany(e,r,n){if(e.idx===this.occurrence){let i=ft(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,r,n)}},Ea=class extends Ki{static{s(this,"NextTerminalAfterManySepWalker")}walkManySep(e,r,n){if(e.idx===this.occurrence){let i=ft(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,r,n)}},$c=class extends Ki{static{s(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,r,n){if(e.idx===this.occurrence){let i=ft(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,r,n)}},va=class extends Ki{static{s(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,r,n){if(e.idx===this.occurrence){let i=ft(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof re&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,r,n)}};function Sc(t,e,r=[]){r=$e(r);let n=[],i=0;function a(c){return c.concat(Ke(t,i+1))}s(a,"remainingPathWith");function o(c){let l=Sc(a(c),e,r);return n.concat(l)}for(s(o,"getAlternativesForProd");r.length<e&&i<t.length;){let c=t[i];if(c instanceof Re)return o(c.definition);if(c instanceof de)return o(c.definition);if(c instanceof pe)n=o(c.definition);else if(c instanceof xe){let l=c.definition.concat([new se({definition:c.definition})]);return o(l)}else if(c instanceof Ee){let l=[new Re({definition:c.definition}),new se({definition:[new re({terminalType:c.separator})].concat(c.definition)})];return o(l)}else if(c instanceof ye){let l=c.definition.concat([new se({definition:[new re({terminalType:c.separator})].concat(c.definition)})]);n=o(l)}else if(c instanceof se){let l=c.definition.concat([new se({definition:c.definition})]);n=o(l)}else{if(c instanceof Te)return D(c.definition,l=>{ee(l.definition)===!1&&(n=o(l.definition))}),n;if(c instanceof re)r.push(c.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Ke(t,i)}),n}s(Sc,"possiblePathsFrom");function kc(t,e,r,n){let i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",c=!1,l=e.length,u=l-n-1,d=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!ee(h);){let m=h.pop();if(m===o){c&&gr(h).idx<=u&&h.pop();continue}let y=m.def,C=m.idx,w=m.ruleStack,z=m.occurrenceStack;if(ee(y))continue;let M=y[0];if(M===i){let P={idx:C,def:Ke(y),ruleStack:nn(w),occurrenceStack:nn(z)};h.push(P)}else if(M instanceof re)if(C<l-1){let P=C+1,A=e[P];if(r(A,M.terminalType)){let H={idx:P,def:Ke(y),ruleStack:w,occurrenceStack:z};h.push(H)}}else if(C===l-1)d.push({nextTokenType:M.terminalType,nextTokenOccurrence:M.idx,ruleStack:w,occurrenceStack:z}),c=!0;else throw Error("non exhaustive match");else if(M instanceof de){let P=$e(w);P.push(M.nonTerminalName);let A=$e(z);A.push(M.idx);let H={idx:C,def:M.definition.concat(a,Ke(y)),ruleStack:P,occurrenceStack:A};h.push(H)}else if(M instanceof pe){let P={idx:C,def:Ke(y),ruleStack:w,occurrenceStack:z};h.push(P),h.push(o);let A={idx:C,def:M.definition.concat(Ke(y)),ruleStack:w,occurrenceStack:z};h.push(A)}else if(M instanceof xe){let P=new se({definition:M.definition,idx:M.idx}),A=M.definition.concat([P],Ke(y)),H={idx:C,def:A,ruleStack:w,occurrenceStack:z};h.push(H)}else if(M instanceof Ee){let P=new re({terminalType:M.separator}),A=new se({definition:[P].concat(M.definition),idx:M.idx}),H=M.definition.concat([A],Ke(y)),U={idx:C,def:H,ruleStack:w,occurrenceStack:z};h.push(U)}else if(M instanceof ye){let P={idx:C,def:Ke(y),ruleStack:w,occurrenceStack:z};h.push(P),h.push(o);let A=new re({terminalType:M.separator}),H=new se({definition:[A].concat(M.definition),idx:M.idx}),U=M.definition.concat([H],Ke(y)),me={idx:C,def:U,ruleStack:w,occurrenceStack:z};h.push(me)}else if(M instanceof se){let P={idx:C,def:Ke(y),ruleStack:w,occurrenceStack:z};h.push(P),h.push(o);let A=new se({definition:M.definition,idx:M.idx}),H=M.definition.concat([A],Ke(y)),U={idx:C,def:H,ruleStack:w,occurrenceStack:z};h.push(U)}else if(M instanceof Te)for(let P=M.definition.length-1;P>=0;P--){let A=M.definition[P],H={idx:C,def:A.definition.concat(Ke(y)),ruleStack:w,occurrenceStack:z};h.push(H),h.push(o)}else if(M instanceof Re)h.push({idx:C,def:M.definition.concat(Ke(y)),ruleStack:w,occurrenceStack:z});else if(M instanceof kt)h.push(Cv(M,C,w,z));else throw Error("non exhaustive match")}return d}s(kc,"nextPossibleTokensAfter");function Cv(t,e,r,n){let i=$e(r);i.push(t.name);let a=$e(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}s(Cv,"expandTopLevelRule");var Ie;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Ie||(Ie={}));function Aa(t){if(t instanceof pe||t==="Option")return Ie.OPTION;if(t instanceof se||t==="Repetition")return Ie.REPETITION;if(t instanceof xe||t==="RepetitionMandatory")return Ie.REPETITION_MANDATORY;if(t instanceof Ee||t==="RepetitionMandatoryWithSeparator")return Ie.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof ye||t==="RepetitionWithSeparator")return Ie.REPETITION_WITH_SEPARATOR;if(t instanceof Te||t==="Alternation")return Ie.ALTERNATION;throw Error("non exhaustive match")}s(Aa,"getProdType");function Nc(t){let{occurrence:e,rule:r,prodType:n,maxLookahead:i}=t,a=Aa(n);return a===Ie.ALTERNATION?Hi(e,r,i):Yi(e,r,a,i)}s(Nc,"getLookaheadPaths");function rg(t,e,r,n,i,a){let o=Hi(t,e,r),c=cg(o)?Wi:Br;return a(o,n,c,i)}s(rg,"buildLookaheadFuncForOr");function ng(t,e,r,n,i,a){let o=Yi(t,e,i,r),c=cg(o)?Wi:Br;return a(o[0],c,n)}s(ng,"buildLookaheadFuncForOptionalProd");function ig(t,e,r,n){let i=t.length,a=vt(t,o=>vt(o,c=>c.length===1));if(e)return function(o){let c=_(o,l=>l.GATE);for(let l=0;l<i;l++){let u=t[l],d=u.length,h=c[l];if(!(h!==void 0&&h.call(this)===!1))e:for(let m=0;m<d;m++){let y=u[m],C=y.length;for(let w=0;w<C;w++){let z=this.LA(w+1);if(r(z,y[w])===!1)continue e}return l}}};if(a&&!n){let o=_(t,l=>Ve(l)),c=Ge(o,(l,u,d)=>(D(u,h=>{G(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=d),D(h.categoryMatches,m=>{G(l,m)||(l[m]=d)})}),l),{});return function(){let l=this.LA(1);return c[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){let c=t[o],l=c.length;e:for(let u=0;u<l;u++){let d=c[u],h=d.length;for(let m=0;m<h;m++){let y=this.LA(m+1);if(r(y,d[m])===!1)continue e}return o}}}}s(ig,"buildAlternativesLookAheadFunc");function sg(t,e,r){let n=vt(t,a=>a.length===1),i=t.length;if(n&&!r){let a=Ve(t);if(a.length===1&&ee(a[0].categoryMatches)){let c=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===c}}else{let o=Ge(a,(c,l,u)=>(c[l.tokenTypeIdx]=!0,D(l.categoryMatches,d=>{c[d]=!0}),c),[]);return function(){let c=this.LA(1);return o[c.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){let o=t[a],c=o.length;for(let l=0;l<c;l++){let u=this.LA(l+1);if(e(u,o[l])===!1)continue e}return!0}return!1}}s(sg,"buildSingleAlternativeLookaheadFunction");var Ef=class extends jr{static{s(this,"RestDefinitionFinderWalker")}constructor(e,r,n){super(),this.topProd=e,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,r,n,i){return e.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(e,r,n){this.checkIsTarget(e,Ie.OPTION,r,n)||super.walkOption(e,r,n)}walkAtLeastOne(e,r,n){this.checkIsTarget(e,Ie.REPETITION_MANDATORY,r,n)||super.walkOption(e,r,n)}walkAtLeastOneSep(e,r,n){this.checkIsTarget(e,Ie.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}walkMany(e,r,n){this.checkIsTarget(e,Ie.REPETITION,r,n)||super.walkOption(e,r,n)}walkManySep(e,r,n){this.checkIsTarget(e,Ie.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(e,r,n)}},Cc=class extends Ct{static{s(this,"InsideDefinitionFinderVisitor")}constructor(e,r,n){super(),this.targetOccurrence=e,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(e,r){e.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Ie.OPTION)}visitRepetition(e){this.checkIsTarget(e,Ie.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Ie.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Ie.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Ie.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Ie.ALTERNATION)}};function tg(t){let e=new Array(t);for(let r=0;r<t;r++)e[r]=[];return e}s(tg,"initializeArrayOfArrays");function xf(t){let e=[""];for(let r=0;r<t.length;r++){let n=t[r],i=[];for(let a=0;a<e.length;a++){let o=e[a];i.push(o+"_"+n.tokenTypeIdx);for(let c=0;c<n.categoryMatches.length;c++){let l="_"+n.categoryMatches[c];i.push(o+l)}}e=i}return e}s(xf,"pathToHashKeys");function Nv(t,e,r){for(let n=0;n<t.length;n++){if(n===r)continue;let i=t[n];for(let a=0;a<e.length;a++){let o=e[a];if(i[o]===!0)return!1}}return!0}s(Nv,"isUniquePrefixHash");function ag(t,e){let r=_(t,o=>Sc([o],1)),n=tg(r.length),i=_(r,o=>{let c={};return D(o,l=>{let u=xf(l.partialPath);D(u,d=>{c[d]=!0})}),c}),a=r;for(let o=1;o<=e;o++){let c=a;a=tg(c.length);for(let l=0;l<c.length;l++){let u=c[l];for(let d=0;d<u.length;d++){let h=u[d].partialPath,m=u[d].suffixDef,y=xf(h);if(Nv(i,y,l)||ee(m)||h.length===e){let w=n[l];if(wc(w,h)===!1){w.push(h);for(let z=0;z<y.length;z++){let M=y[z];i[l][M]=!0}}}else{let w=Sc(m,o+1,h);a[l]=a[l].concat(w),D(w,z=>{let M=xf(z.partialPath);D(M,P=>{i[l][P]=!0})})}}}}return n}s(ag,"lookAheadSequenceFromAlternatives");function Hi(t,e,r,n){let i=new Cc(t,Ie.ALTERNATION,n);return e.accept(i),ag(i.result,r)}s(Hi,"getLookaheadPathsForOr");function Yi(t,e,r,n){let i=new Cc(t,r);e.accept(i);let a=i.result,c=new Ef(e,t,r).startWalking(),l=new Re({definition:a}),u=new Re({definition:c});return ag([l,u],n)}s(Yi,"getLookaheadPathsForOptionalProd");function wc(t,e){e:for(let r=0;r<t.length;r++){let n=t[r];if(n.length===e.length){for(let i=0;i<n.length;i++){let a=e[i],o=n[i];if((a===o||o.categoryMatchesMap[a.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}s(wc,"containsPath");function og(t,e){return t.length<e.length&&vt(t,(r,n)=>{let i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}s(og,"isStrictPrefixOfPath");function cg(t){return vt(t,e=>vt(e,r=>vt(r,n=>ee(n.categoryMatches))))}s(cg,"areTokenCategoriesNotUsed");function lg(t){let e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return _(e,r=>Object.assign({type:et.CUSTOM_LOOKAHEAD_VALIDATION},r))}s(lg,"validateLookahead");function ug(t,e,r,n){let i=dt(t,l=>wv(l,r)),a=Lv(t,e,r),o=dt(t,l=>bv(l,r)),c=dt(t,l=>_v(l,t,n,r));return i.concat(a,o,c)}s(ug,"validateGrammar");function wv(t,e){let r=new vf;t.accept(r);let n=r.allProductions,i=nm(n,Iv),a=Ft(i,c=>c.length>1);return _(Se(a),c=>{let l=ft(c),u=e.buildDuplicateFoundError(t,c),d=Pt(l),h={message:u,type:et.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:d,occurrence:l.idx},m=fg(l);return m&&(h.parameter=m),h})}s(wv,"validateDuplicateProductions");function Iv(t){return`${Pt(t)}_#_${t.idx}_#_${fg(t)}`}s(Iv,"identifyProductionForDuplicates");function fg(t){return t instanceof re?t.terminalType.name:t instanceof de?t.nonTerminalName:""}s(fg,"getExtraProductionArgument");var vf=class extends Ct{static{s(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}};function _v(t,e,r,n){let i=[];if(Ge(e,(o,c)=>c.name===t.name?o+1:o,0)>1){let o=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:o,type:et.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}s(_v,"validateRuleDoesNotAlreadyExist");function dg(t,e,r){let n=[],i;return Oe(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:et.INVALID_RULE_OVERRIDE,ruleName:t})),n}s(dg,"validateRuleIsOverridden");function $f(t,e,r,n=[]){let i=[],a=Ic(e.definition);if(ee(a))return[];{let o=t.name;Oe(a,t)&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:et.LEFT_RECURSION,ruleName:o});let l=_n(a,n.concat([t])),u=dt(l,d=>{let h=$e(n);return h.push(d),$f(t,d,r,h)});return i.concat(u)}}s($f,"validateNoLeftRecursion");function Ic(t){let e=[];if(ee(t))return e;let r=ft(t);if(r instanceof de)e.push(r.referencedRule);else if(r instanceof Re||r instanceof pe||r instanceof xe||r instanceof Ee||r instanceof ye||r instanceof se)e=e.concat(Ic(r.definition));else if(r instanceof Te)e=Ve(_(r.definition,a=>Ic(a.definition)));else if(!(r instanceof re))throw Error("non exhaustive match");let n=Qn(r),i=t.length>1;if(n&&i){let a=Ke(t);return e.concat(Ic(a))}else return e}s(Ic,"getFirstNoneTerminal");var $a=class extends Ct{static{s(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}};function pg(t,e){let r=new $a;t.accept(r);let n=r.alternations;return dt(n,a=>{let o=nn(a.definition);return dt(o,(c,l)=>{let u=kc([c],[],Br,1);return ee(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:a,emptyChoiceIdx:l}),type:et.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:a.idx,alternative:l+1}]:[]})})}s(pg,"validateEmptyOrAlternative");function hg(t,e,r){let n=new $a;t.accept(n);let i=n.alternations;return i=bn(i,o=>o.ignoreAmbiguities===!0),dt(i,o=>{let c=o.idx,l=o.maxLookahead||e,u=Hi(c,t,l,o),d=Pv(u,o,t,r),h=Ov(u,o,t,r);return d.concat(h)})}s(hg,"validateAmbiguousAlternationAlternatives");var Af=class extends Ct{static{s(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}};function bv(t,e){let r=new $a;t.accept(r);let n=r.alternations;return dt(n,a=>a.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:a}),type:et.TOO_MANY_ALTS,ruleName:t.name,occurrence:a.idx}]:[])}s(bv,"validateTooManyAlts");function mg(t,e,r){let n=[];return D(t,i=>{let a=new Af;i.accept(a);let o=a.allProductions;D(o,c=>{let l=Aa(c),u=c.maxLookahead||e,d=c.idx,m=Yi(d,i,l,u)[0];if(ee(Ve(m))){let y=r.buildEmptyRepetitionError({topLevelRule:i,repetition:c});n.push({message:y,type:et.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}s(mg,"validateSomeNonEmptyLookaheadPath");function Pv(t,e,r,n){let i=[],a=Ge(t,(c,l,u)=>(e.definition[u].ignoreAmbiguities===!0||D(l,d=>{let h=[u];D(t,(m,y)=>{u!==y&&wc(m,d)&&e.definition[y].ignoreAmbiguities!==!0&&h.push(y)}),h.length>1&&!wc(i,d)&&(i.push(d),c.push({alts:h,path:d}))}),c),[]);return _(a,c=>{let l=_(c.alts,d=>d+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:l,prefixPath:c.path}),type:et.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:c.alts}})}s(Pv,"checkAlternativesAmbiguities");function Ov(t,e,r,n){let i=Ge(t,(o,c,l)=>{let u=_(c,d=>({idx:l,path:d}));return o.concat(u)},[]);return Lr(dt(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];let l=o.idx,u=o.path,d=ot(i,m=>e.definition[m.idx].ignoreAmbiguities!==!0&&m.idx<l&&og(m.path,u));return _(d,m=>{let y=[m.idx+1,l+1],C=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:y,prefixPath:m.path}),type:et.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:C,alternatives:y}})}))}s(Ov,"checkPrefixAlternativesAmbiguities");function Lv(t,e,r){let n=[],i=_(e,a=>a.name);return D(t,a=>{let o=a.name;if(Oe(i,o)){let c=r.buildNamespaceConflictError(a);n.push({message:c,type:et.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),n}s(Lv,"checkTerminalAndNoneTerminalsNameSpace");function gg(t){let e=Ks(t,{errMsgProvider:Zm}),r={};return D(t.rules,n=>{r[n.name]=n}),eg(r,e.errMsgProvider)}s(gg,"resolveGrammar");function yg(t){return t=Ks(t,{errMsgProvider:cr}),ug(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}s(yg,"validateGrammar");var Tg="MismatchedTokenException",Rg="NoViableAltException",xg="EarlyExitException",Eg="NotAllInputParsedException",vg=[Tg,Rg,xg,Eg];Object.freeze(vg);function Tn(t){return Oe(vg,t.name)}s(Tn,"isRecognitionException");var Xi=class extends Error{static{s(this,"RecognitionException")}constructor(e,r){super(e),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},ti=class extends Xi{static{s(this,"MismatchedTokenException")}constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Tg}},Sa=class extends Xi{static{s(this,"NoViableAltException")}constructor(e,r,n){super(e,r),this.previousToken=n,this.name=Rg}},ka=class extends Xi{static{s(this,"NotAllInputParsedException")}constructor(e,r){super(e,r),this.name=Eg}},Ca=class extends Xi{static{s(this,"EarlyExitException")}constructor(e,r,n){super(e,r),this.previousToken=n,this.name=xg}};var Sf={},Cf="InRuleRecoveryException",kf=class extends Error{static{s(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=Cf}},_c=class{static{s(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=G(e,"recoveryEnabled")?e.recoveryEnabled:Nt.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Dv)}getTokenToInsert(e){let r=Kr(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,r,n,i){let a=this.findReSyncTokenType(),o=this.exportLexerState(),c=[],l=!1,u=this.LA(1),d=this.LA(1),h=s(()=>{let m=this.LA(0),y=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:m,ruleName:this.getCurrRuleFullName()}),C=new ti(y,u,this.LA(0));C.resyncedTokens=nn(c),this.SAVE_ERROR(C)},"generateErrorMessage");for(;!l;)if(this.tokenMatcher(d,i)){h();return}else if(n.call(this)){h(),e.apply(this,r);return}else this.tokenMatcher(d,a)?l=!0:(d=this.SKIP_TOKEN(),this.addToResyncTokens(d,c));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))}getFollowsForInRuleRecovery(e,r){let n=this.getCurrentGrammarPath(e,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new kf("sad sad panda")}canPerformInRuleRecovery(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,r){if(!this.canTokenTypeBeInsertedInRecovery(e)||ee(r))return!1;let n=this.LA(1);return Dr(r,a=>this.tokenMatcher(n,a))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Oe(n,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let i=Dr(e,a=>xa(r,a));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Sf;let e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return _(e,(n,i)=>i===0?Sf:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){let e=_(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Ve(e)}getFollowSetFromFollowKey(e){if(e===Sf)return[jt];let r=e.ruleName+e.idxInCallingRule+gc+e.inRule;return this.resyncFollows[r]}addToResyncTokens(e,r){return this.tokenMatcher(e,jt)||r.push(e),r}reSyncTo(e){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return nn(r)}attemptInRepetitionRecovery(e,r,n,i,a,o,c){}getCurrentGrammarPath(e,r){let n=this.getHumanReadableRuleStack(),i=$e(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r}}getHumanReadableRuleStack(){return _(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}};function Dv(t,e,r,n,i,a,o){let c=this.getKeyForAutomaticLookahead(n,i),l=this.firstAfterRepMap[c];if(l===void 0){let m=this.getCurrRuleFullName(),y=this.getGAstProductions()[m];l=new a(y,i).startWalking(),this.firstAfterRepMap[c]=l}let u=l.token,d=l.occurrence,h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&u===void 0&&(u=jt,d=1),!(u===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,d,o)&&this.tryInRepetitionRecovery(t,e,r,u)}s(Dv,"attemptInRepetitionRecovery");function bc(t,e,r){return r|e|t}s(bc,"getKeyForAutomaticLookahead");var Yr=class{static{s(this,"LLkLookaheadStrategy")}constructor(e){var r;this.maxLookahead=(r=e?.maxLookahead)!==null&&r!==void 0?r:Nt.maxLookahead}validate(e){let r=this.validateNoLeftRecursion(e.rules);if(ee(r)){let n=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),a=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...r,...n,...i,...a]}return r}validateNoLeftRecursion(e){return dt(e,r=>$f(r,r,cr))}validateEmptyOrAlternatives(e){return dt(e,r=>pg(r,cr))}validateAmbiguousAlternationAlternatives(e,r){return dt(e,n=>hg(n,r,cr))}validateSomeNonEmptyLookaheadPath(e,r){return mg(e,r,cr)}buildLookaheadForAlternation(e){return rg(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,ig)}buildLookaheadForOptional(e){return ng(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,Aa(e.prodType),sg)}};var Oc=class{static{s(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=G(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Nt.dynamicTokensEnabled,this.maxLookahead=G(e,"maxLookahead")?e.maxLookahead:Nt.maxLookahead,this.lookaheadStrategy=G(e,"lookaheadStrategy")?e.lookaheadStrategy:new Yr({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){D(e,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:i,option:a,repetitionMandatory:o,repetitionMandatoryWithSeparator:c,repetitionWithSeparator:l}=Mv(r);D(n,u=>{let d=u.idx===0?"":u.idx;this.TRACE_INIT(`${Pt(u)}${d}`,()=>{let h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),m=bc(this.fullRuleNameToShort[r.name],256,u.idx);this.setLaFuncCache(m,h)})}),D(i,u=>{this.computeLookaheadFunc(r,u.idx,768,"Repetition",u.maxLookahead,Pt(u))}),D(a,u=>{this.computeLookaheadFunc(r,u.idx,512,"Option",u.maxLookahead,Pt(u))}),D(o,u=>{this.computeLookaheadFunc(r,u.idx,1024,"RepetitionMandatory",u.maxLookahead,Pt(u))}),D(c,u=>{this.computeLookaheadFunc(r,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,Pt(u))}),D(l,u=>{this.computeLookaheadFunc(r,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,Pt(u))})})})}computeLookaheadFunc(e,r,n,i,a,o){this.TRACE_INIT(`${o}${r===0?"":r}`,()=>{let c=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:e,maxLookahead:a||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=bc(this.fullRuleNameToShort[e.name],n,r);this.setLaFuncCache(l,c)})}getKeyForAutomaticLookahead(e,r){let n=this.getLastExplicitRuleShortName();return bc(n,e,r)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,r){this.lookAheadFuncsCache.set(e,r)}},Nf=class extends Ct{static{s(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},Pc=new Nf;function Mv(t){Pc.reset(),t.accept(Pc);let e=Pc.dslMethods;return Pc.reset(),e}s(Mv,"collectMethods");function _f(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}s(_f,"setNodeLocationOnlyOffset");function bf(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}s(bf,"setNodeLocationFull");function Ag(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}s(Ag,"addTerminalToCst");function $g(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}s($g,"addNoneTerminalToCst");var Fv="name";function Pf(t,e){Object.defineProperty(t,Fv,{enumerable:!1,configurable:!0,writable:!1,value:e})}s(Pf,"defineNameProp");function Gv(t,e){let r=Or(t),n=r.length;for(let i=0;i<n;i++){let a=r[i],o=t[a],c=o.length;for(let l=0;l<c;l++){let u=o[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}s(Gv,"defaultVisit");function Sg(t,e){let r=s(function(){},"derivedConstructor");Pf(r,t+"BaseSemantics");let n={visit:s(function(i,a){if(Qe(i)&&(i=i[0]),!At(i))return this[i.name](i.children,a)},"visit"),validateVisitor:s(function(){let i=Uv(this,e);if(!ee(i)){let a=_(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}s(Sg,"createBaseSemanticVisitorConstructor");function kg(t,e,r){let n=s(function(){},"derivedConstructor");Pf(n,t+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return D(e,a=>{i[a]=Gv}),n.prototype=i,n.prototype.constructor=n,n}s(kg,"createBaseVisitorConstructorWithDefaults");var Of;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Of||(Of={}));function Uv(t,e){return qv(t,e)}s(Uv,"validateVisitor");function qv(t,e){let r=ot(e,i=>mr(t[i])===!1),n=_(r,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:Of.MISSING_METHOD,methodName:i}));return Lr(n)}s(qv,"validateMissingCstMethods");var Fc=class{static{s(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=G(e,"nodeLocationTracking")?e.nodeLocationTracking:Nt.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=We,this.cstFinallyStateUpdate=We,this.cstPostTerminal=We,this.cstPostNonTerminal=We,this.cstPostRule=We;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=bf,this.setNodeLocationFromNode=bf,this.cstPostRule=We,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=We,this.setNodeLocationFromNode=We,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=_f,this.setNodeLocationFromNode=_f,this.cstPostRule=We,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=We,this.setNodeLocationFromNode=We,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=We,this.setNodeLocationFromNode=We,this.cstPostRule=We,this.setInitialNodeLocation=We;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let r={name:e,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){let r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(e,r){let n=this.CST_STACK[this.CST_STACK.length-1];Ag(n,r,e),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(e,r){let n=this.CST_STACK[this.CST_STACK.length-1];$g(n,r,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(At(this.baseCstVisitorConstructor)){let e=Sg(this.className,Or(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(At(this.baseCstVisitorWithDefaultsConstructor)){let e=kg(this.className,Or(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}};var Gc=class{static{s(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ji}LA(e){let r=this.currIdx+e;return r<0||this.tokVectorLength<=r?Ji:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}};var Uc=class{static{s(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,r,n){return this.consumeInternal(r,e,n)}subrule(e,r,n){return this.subruleInternal(r,e,n)}option(e,r){return this.optionInternal(r,e)}or(e,r){return this.orInternal(r,e)}many(e,r){return this.manyInternal(e,r)}atLeastOne(e,r){return this.atLeastOneInternal(e,r)}CONSUME(e,r){return this.consumeInternal(e,0,r)}CONSUME1(e,r){return this.consumeInternal(e,1,r)}CONSUME2(e,r){return this.consumeInternal(e,2,r)}CONSUME3(e,r){return this.consumeInternal(e,3,r)}CONSUME4(e,r){return this.consumeInternal(e,4,r)}CONSUME5(e,r){return this.consumeInternal(e,5,r)}CONSUME6(e,r){return this.consumeInternal(e,6,r)}CONSUME7(e,r){return this.consumeInternal(e,7,r)}CONSUME8(e,r){return this.consumeInternal(e,8,r)}CONSUME9(e,r){return this.consumeInternal(e,9,r)}SUBRULE(e,r){return this.subruleInternal(e,0,r)}SUBRULE1(e,r){return this.subruleInternal(e,1,r)}SUBRULE2(e,r){return this.subruleInternal(e,2,r)}SUBRULE3(e,r){return this.subruleInternal(e,3,r)}SUBRULE4(e,r){return this.subruleInternal(e,4,r)}SUBRULE5(e,r){return this.subruleInternal(e,5,r)}SUBRULE6(e,r){return this.subruleInternal(e,6,r)}SUBRULE7(e,r){return this.subruleInternal(e,7,r)}SUBRULE8(e,r){return this.subruleInternal(e,8,r)}SUBRULE9(e,r){return this.subruleInternal(e,9,r)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,r,n=Qi){if(Oe(this.definedRulesNames,e)){let o={message:cr.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:et.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);let i=this.defineRule(e,r,n);return this[e]=i,i}OVERRIDE_RULE(e,r,n=Qi){let i=dg(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let a=this.defineRule(e,r,n);return this[e]=a,a}BACKTRACK(e,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if(Tn(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return mc(Se(this.gastProductionsCache))}};var qc=class{static{s(this,"RecognizerEngine")}initRecognizerEngine(e,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Wi,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},G(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(Qe(e)){if(ee(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(Qe(e))this.tokensMap=Ge(e,(a,o)=>(a[o.name]=o,a),{});else if(G(e,"modes")&&vt(Ve(Se(e.modes)),Bm)){let a=Ve(Se(e.modes)),o=Hs(a);this.tokensMap=Ge(o,(c,l)=>(c[l.name]=l,c),{})}else if(rm(e))this.tokensMap=$e(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=jt;let n=G(e,"modes")?Ve(Se(e.modes)):Se(e),i=vt(n,a=>ee(a.categoryMatches));this.tokenMatcher=i?Wi:Br,Wr(Se(this.tokensMap))}defineRule(e,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=G(n,"resyncEnabled")?n.resyncEnabled:Qi.resyncEnabled,a=G(n,"recoveryValueFunc")?n.recoveryValueFunc:Qi.recoveryValueFunc,o=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let c;return this.outputCst===!0?c=s(function(...d){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),r.apply(this,d);let h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):c=s(function(...d){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),r.apply(this,d)}catch(h){return this.invokeRuleCatch(h,i,a)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(c,{ruleName:e,originalGrammarAction:r})}invokeRuleCatch(e,r,n){let i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Tn(e)){let o=e;if(a){let c=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(c))if(o.resyncedTokens=this.reSyncTo(c),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return n(e);else{if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),n(e);throw o}}else throw e}optionInternal(e,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(e,r,n)}optionInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof e!="function"){a=e.DEF;let o=e.GATE;if(o!==void 0){let c=i;i=s(()=>o.call(this)&&c.call(this),"lookAheadFunc")}}else a=e;if(i.call(this)===!0)return a.call(this)}atLeastOneInternal(e,r){let n=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,r,n)}atLeastOneInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;let o=r.GATE;if(o!==void 0){let c=i;i=s(()=>o.call(this)&&c.call(this),"lookAheadFunc")}}else a=r;if(i.call(this)===!0){let o=this.doSingleRepetition(a);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(a)}else throw this.raiseEarlyExitException(e,Ie.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],i,1024,e,$c)}atLeastOneSepFirstInternal(e,r){let n=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,r,n)}atLeastOneSepFirstInternalLogic(e,r,n){let i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let c=s(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,c,i,va],c,1536,e,va)}else throw this.raiseEarlyExitException(e,Ie.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(e,r){let n=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,r,n)}manyInternalLogic(e,r,n){let i=this.getLaFuncFromCache(n),a;if(typeof r!="function"){a=r.DEF;let c=r.GATE;if(c!==void 0){let l=i;i=s(()=>c.call(this)&&l.call(this),"lookaheadFunction")}}else a=r;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(a);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],i,768,e,Ac,o)}manySepFirstInternal(e,r){let n=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,r,n)}manySepFirstInternalLogic(e,r,n){let i=r.DEF,a=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let c=s(()=>this.tokenMatcher(this.LA(1),a),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),a)===!0;)this.CONSUME(a),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,a,c,i,Ea],c,1280,e,Ea)}}repetitionSepSecondInternal(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,1536,e,a)}doSingleRepetition(e){let r=this.getLexerPosition();return e.call(this),this.getLexerPosition()>r}orInternal(e,r){let n=this.getKeyForAutomaticLookahead(256,r),i=Qe(e)?e:e.DEF,o=this.getLaFuncFromCache(n).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(r,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new ka(r,e))}}subruleInternal(e,r,n){let i;try{let a=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=e.apply(this,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(a){throw this.subruleInternalError(a,n,e.ruleName)}}subruleInternalError(e,r,n){throw Tn(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,r,n){let i;try{let a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(a){i=this.consumeInternalRecovery(e,r,a)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i}consumeInternalError(e,r,n){let i,a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new ti(i,r,a))}consumeInternalRecovery(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===Cf?n:a}}else throw n}saveRecogState(){let e=this.errors,r=$e(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),jt)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}};var zc=class{static{s(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=G(e,"errorMessageProvider")?e.errorMessageProvider:Nt.errorMessageProvider}SAVE_ERROR(e){if(Tn(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:$e(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return $e(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,r,n){let i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],c=Yi(e,a,r,this.maxLookahead)[0],l=[];for(let d=1;d<=this.maxLookahead;d++)l.push(this.LA(d));let u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:c,actual:l,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Ca(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=Hi(e,i,this.maxLookahead),o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));let c=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:o,previous:c,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Sa(l,this.LA(1),c))}};var jc=class{static{s(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,r){let n=this.gastProductionsCache[e];if(At(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return kc([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let r=ft(e.ruleStack),i=this.getGAstProductions()[r];return new vc(i,e).startWalking()}};var Vc={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Vc);var Cg=!0,Ng=Math.pow(2,8)-1,Ig=yn({name:"RECORDING_PHASE_TOKEN",pattern:we.NA});Wr([Ig]);var _g=Kr(Ig,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(_g);var jv={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},Bc=class{static{s(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let r=e>0?e:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,e,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,e,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${r}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,r,n){return this.consumeInternalRecord(r,e,n)},this.subrule=function(e,r,n){return this.subruleInternalRecord(r,e,n)},this.option=function(e,r){return this.optionInternalRecord(r,e)},this.or=function(e,r){return this.orInternalRecord(r,e)},this.many=function(e,r){this.manyInternalRecord(e,r)},this.atLeastOne=function(e,r){this.atLeastOneInternalRecord(e,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,r){return()=>!0}LA_RECORD(e){return Ji}topLevelRuleRecord(e,r){try{let n=new kt({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,r){return wa.call(this,pe,e,r)}atLeastOneInternalRecord(e,r){wa.call(this,xe,r,e)}atLeastOneSepFirstInternalRecord(e,r){wa.call(this,Ee,r,e,Cg)}manyInternalRecord(e,r){wa.call(this,se,r,e)}manySepFirstInternalRecord(e,r){wa.call(this,ye,r,e,Cg)}orInternalRecord(e,r){return Bv.call(this,e,r)}subruleInternalRecord(e,r,n){if(Wc(r),!e||G(e,"ruleName")===!1){let c=new Error(`<SUBRULE${wg(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw c.KNOWN_RECORDER_ERROR=!0,c}let i=gr(this.recordingProdStack),a=e.ruleName,o=new de({idx:r,nonTerminalName:a,label:n?.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?jv:Vc}consumeInternalRecord(e,r,n){if(Wc(r),!gf(e)){let o=new Error(`<CONSUME${wg(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let i=gr(this.recordingProdStack),a=new re({idx:r,terminalType:e,label:n?.LABEL});return i.definition.push(a),_g}};function wa(t,e,r,n=!1){Wc(r);let i=gr(this.recordingProdStack),a=mr(e)?e:e.DEF,o=new t({definition:[],idx:r});return n&&(o.separator=e.SEP),G(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),Vc}s(wa,"recordProd");function Bv(t,e){Wc(e);let r=gr(this.recordingProdStack),n=Qe(t)===!1,i=n===!1?t:t.DEF,a=new Te({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});G(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD);let o=Go(i,c=>mr(c.GATE));return a.hasPredicates=o,r.definition.push(a),D(i,c=>{let l=new Re({definition:[]});a.definition.push(l),G(c,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=c.IGNORE_AMBIGUITIES:G(c,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),c.ALT.call(this),this.recordingProdStack.pop()}),Vc}s(Bv,"recordOrProd");function wg(t){return t===0?"":`${t}`}s(wg,"getIdxSuffix");function Wc(t){if(t<0||t>Ng){let e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${Ng+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}s(Wc,"assertMethodIdxIsValid");var Kc=class{static{s(this,"PerformanceTracer")}initPerformanceTracer(e){if(G(e,"traceInitPerf")){let r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Nt.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);let{time:i,value:a}=ga(r),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,a}else return r()}};function bg(t,e){e.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]})})}s(bg,"applyMixins");var Ji=Kr(jt,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ji);var Nt=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Hr,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Qi=Object.freeze({recoveryValueFunc:s(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),et;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(et||(et={}));function Hc(t=void 0){return function(){return t}}s(Hc,"EMPTY_ALT");var Ia=class t{static{s(this,"Parser")}static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{ya(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),D(this.definedRulesNames,i=>{let o=this[i].originalGrammarAction,c;this.TRACE_INIT(`${i} Rule`,()=>{c=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=c})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=gg({rules:Se(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(ee(n)&&this.skipValidations===!1){let i=yg({rules:Se(this.gastProductionsCache),tokenTypes:Se(this.tokensMap),errMsgProvider:cr,grammarName:r}),a=lg({lookaheadStrategy:this.lookaheadStrategy,rules:Se(this.gastProductionsCache),tokenTypes:Se(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),ee(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=$m(Se(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:Se(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Se(this.gastProductionsCache))})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!ee(this.definitionErrors))throw e=_(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),G(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=G(r,"skipValidations")?r.skipValidations:Nt.skipValidations}};Ia.DEFER_DEFINITION_ERRORS_HANDLING=!1;bg(Ia,[_c,Oc,Fc,Gc,qc,Uc,zc,jc,Bc,Kc]);var _a=class extends Ia{static{s(this,"EmbeddedActionsParser")}constructor(e,r=Nt){let n=$e(r);n.outputCst=!1,super(e,n)}};function ri(t,e,r){return`${t.name}_${e}_${r}`}s(ri,"buildATNKey");var Rn=1,Vv=2,Pg=4,Og=5;var ts=7,Kv=8,Hv=9,Yv=10,Xv=11,Lg=12,ba=class{static{s(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},Zi=class extends ba{static{s(this,"AtomTransition")}constructor(e,r){super(e),this.tokenType=r}},Pa=class extends ba{static{s(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},es=class extends ba{static{s(this,"RuleTransition")}constructor(e,r,n){super(e),this.rule=r,this.followState=n}isEpsilon(){return!0}};function Dg(t){let e={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Jv(e,t);let r=t.length;for(let n=0;n<r;n++){let i=t[n],a=ni(e,i,i);a!==void 0&&cA(e,i,a)}return e}s(Dg,"createATN");function Jv(t,e){let r=e.length;for(let n=0;n<r;n++){let i=e[n],a=it(t,i,void 0,{type:Vv}),o=it(t,i,void 0,{type:ts});a.stop=o,t.ruleToStartState.set(i,a),t.ruleToStopState.set(i,o)}}s(Jv,"createRuleStartAndStopATNStates");function Mg(t,e,r){return r instanceof re?Df(t,e,r.terminalType,r):r instanceof de?oA(t,e,r):r instanceof Te?rA(t,e,r):r instanceof pe?nA(t,e,r):r instanceof se?Qv(t,e,r):r instanceof ye?Zv(t,e,r):r instanceof xe?eA(t,e,r):r instanceof Ee?tA(t,e,r):ni(t,e,r)}s(Mg,"atom");function Qv(t,e,r){let n=it(t,e,r,{type:Og});xn(t,n);let i=rs(t,e,n,r,ni(t,e,r));return Gg(t,e,r,i)}s(Qv,"repetition");function Zv(t,e,r){let n=it(t,e,r,{type:Og});xn(t,n);let i=rs(t,e,n,r,ni(t,e,r)),a=Df(t,e,r.separator,r);return Gg(t,e,r,i,a)}s(Zv,"repetitionSep");function eA(t,e,r){let n=it(t,e,r,{type:Pg});xn(t,n);let i=rs(t,e,n,r,ni(t,e,r));return Fg(t,e,r,i)}s(eA,"repetitionMandatory");function tA(t,e,r){let n=it(t,e,r,{type:Pg});xn(t,n);let i=rs(t,e,n,r,ni(t,e,r)),a=Df(t,e,r.separator,r);return Fg(t,e,r,i,a)}s(tA,"repetitionMandatorySep");function rA(t,e,r){let n=it(t,e,r,{type:Rn});xn(t,n);let i=_(r.definition,o=>Mg(t,e,o));return rs(t,e,n,r,...i)}s(rA,"alternation");function nA(t,e,r){let n=it(t,e,r,{type:Rn});xn(t,n);let i=rs(t,e,n,r,ni(t,e,r));return iA(t,e,r,i)}s(nA,"option");function ni(t,e,r){let n=ot(_(r.definition,i=>Mg(t,e,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:aA(t,n)}s(ni,"block");function Fg(t,e,r,n,i){let a=n.left,o=n.right,c=it(t,e,r,{type:Xv});xn(t,c);let l=it(t,e,r,{type:Lg});return a.loopback=c,l.loopback=c,t.decisionMap[ri(e,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=c,He(o,c),i===void 0?(He(c,a),He(c,l)):(He(c,l),He(c,i.left),He(i.right,a)),{left:a,right:l}}s(Fg,"plus");function Gg(t,e,r,n,i){let a=n.left,o=n.right,c=it(t,e,r,{type:Yv});xn(t,c);let l=it(t,e,r,{type:Lg}),u=it(t,e,r,{type:Hv});return c.loopback=u,l.loopback=u,He(c,a),He(c,l),He(o,u),i!==void 0?(He(u,l),He(u,i.left),He(i.right,a)):He(u,c),t.decisionMap[ri(e,i?"RepetitionWithSeparator":"Repetition",r.idx)]=c,{left:c,right:l}}s(Gg,"star");function iA(t,e,r,n){let i=n.left,a=n.right;return He(i,a),t.decisionMap[ri(e,"Option",r.idx)]=i,n}s(iA,"optional");function xn(t,e){return t.decisionStates.push(e),e.decision=t.decisionStates.length-1,e.decision}s(xn,"defineDecisionState");function rs(t,e,r,n,...i){let a=it(t,e,n,{type:Kv,start:r});r.end=a;for(let c of i)c!==void 0?(He(r,c.left),He(c.right,a)):He(r,a);let o={left:r,right:a};return t.decisionMap[ri(e,sA(n),n.idx)]=r,o}s(rs,"makeAlts");function sA(t){if(t instanceof Te)return"Alternation";if(t instanceof pe)return"Option";if(t instanceof se)return"Repetition";if(t instanceof ye)return"RepetitionWithSeparator";if(t instanceof xe)return"RepetitionMandatory";if(t instanceof Ee)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}s(sA,"getProdType");function aA(t,e){let r=e.length;for(let a=0;a<r-1;a++){let o=e[a],c;o.left.transitions.length===1&&(c=o.left.transitions[0]);let l=c instanceof es,u=c,d=e[a+1].left;o.left.type===Rn&&o.right.type===Rn&&c!==void 0&&(l&&u.followState===o.right||c.target===o.right)?(l?u.followState=d:c.target=d,lA(t,o.right)):He(o.right,d)}let n=e[0],i=e[r-1];return{left:n.left,right:i.right}}s(aA,"makeBlock");function Df(t,e,r,n){let i=it(t,e,n,{type:Rn}),a=it(t,e,n,{type:Rn});return Mf(i,new Zi(a,r)),{left:i,right:a}}s(Df,"tokenRef");function oA(t,e,r){let n=r.referencedRule,i=t.ruleToStartState.get(n),a=it(t,e,r,{type:Rn}),o=it(t,e,r,{type:Rn}),c=new es(i,n,o);return Mf(a,c),{left:a,right:o}}s(oA,"ruleRef");function cA(t,e,r){let n=t.ruleToStartState.get(e);He(n,r.left);let i=t.ruleToStopState.get(e);return He(r.right,i),{left:n,right:i}}s(cA,"buildRuleHandle");function He(t,e){let r=new Pa(e);Mf(t,r)}s(He,"epsilon");function it(t,e,r,n){let i=Object.assign({atn:t,production:r,epsilonOnlyTransitions:!1,rule:e,transitions:[],nextTokenWithinRule:[],stateNumber:t.states.length},n);return t.states.push(i),i}s(it,"newState");function Mf(t,e){t.transitions.length===0&&(t.epsilonOnlyTransitions=e.isEpsilon()),t.transitions.push(e)}s(Mf,"addTransition");function lA(t,e){t.states.splice(t.states.indexOf(e),1)}s(lA,"removeState");var Oa={},ns=class{static{s(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let r=Ff(e);r in this.map||(this.map[r]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return _(this.configs,e=>e.alt)}get key(){let e="";for(let r in this.map)e+=r+":";return e}};function Ff(t,e=!0){return`${e?`a${t.alt}`:""}s${t.state.stateNumber}:${t.stack.map(r=>r.stateNumber.toString()).join("_")}`}s(Ff,"getATNConfigKey");function uA(t,e){let r={};return n=>{let i=n.toString(),a=r[i];return a!==void 0||(a={atnStartState:t,decision:e,states:{}},r[i]=a),a}}s(uA,"createDFACache");var Yc=class{static{s(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,r){this.predicates[e]=r}toString(){let e="",r=this.predicates.length;for(let n=0;n<r;n++)e+=this.predicates[n]===!0?"1":"0";return e}},Ug=new Yc,La=class extends Yr{static{s(this,"LLStarLookaheadStrategy")}constructor(e){var r;super(),this.logging=(r=e?.logging)!==null&&r!==void 0?r:(n=>console.log(n))}initialize(e){this.atn=Dg(e.rules),this.dfas=fA(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:r,rule:n,hasPredicates:i,dynamicTokensEnabled:a}=e,o=this.dfas,c=this.logging,l=ri(n,"Alternation",r),d=this.atn.decisionMap[l].decision,h=_(Nc({maxLookahead:1,occurrence:r,prodType:"Alternation",rule:n}),m=>_(m,y=>y[0]));if(qg(h,!1)&&!a){let m=Ge(h,(y,C,w)=>(D(C,z=>{z&&(y[z.tokenTypeIdx]=w,D(z.categoryMatches,M=>{y[M]=w}))}),y),{});return i?function(y){var C;let w=this.LA(1),z=m[w.tokenTypeIdx];if(y!==void 0&&z!==void 0){let M=(C=y[z])===null||C===void 0?void 0:C.GATE;if(M!==void 0&&M.call(this)===!1)return}return z}:function(){let y=this.LA(1);return m[y.tokenTypeIdx]}}else return i?function(m){let y=new Yc,C=m===void 0?0:m.length;for(let z=0;z<C;z++){let M=m?.[z].GATE;y.set(z,M===void 0||M.call(this))}let w=Gf.call(this,o,d,y,c);return typeof w=="number"?w:void 0}:function(){let m=Gf.call(this,o,d,Ug,c);return typeof m=="number"?m:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:r,rule:n,prodType:i,dynamicTokensEnabled:a}=e,o=this.dfas,c=this.logging,l=ri(n,i,r),d=this.atn.decisionMap[l].decision,h=_(Nc({maxLookahead:1,occurrence:r,prodType:i,rule:n}),m=>_(m,y=>y[0]));if(qg(h)&&h[0][0]&&!a){let m=h[0],y=Ve(m);if(y.length===1&&ee(y[0].categoryMatches)){let w=y[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===w}}else{let C=Ge(y,(w,z)=>(z!==void 0&&(w[z.tokenTypeIdx]=!0,D(z.categoryMatches,M=>{w[M]=!0})),w),{});return function(){let w=this.LA(1);return C[w.tokenTypeIdx]===!0}}}return function(){let m=Gf.call(this,o,d,Ug,c);return typeof m=="object"?!1:m===0}}};function qg(t,e=!0){let r=new Set;for(let n of t){let i=new Set;for(let a of n){if(a===void 0){if(e)break;return!1}let o=[a.tokenTypeIdx].concat(a.categoryMatches);for(let c of o)if(r.has(c)){if(!i.has(c))return!1}else r.add(c),i.add(c)}}return!0}s(qg,"isLL1Sequence");function fA(t){let e=t.decisionStates.length,r=Array(e);for(let n=0;n<e;n++)r[n]=uA(t.decisionStates[n],n);return r}s(fA,"initATNSimulator");function Gf(t,e,r,n){let i=t[e](r),a=i.start;if(a===void 0){let c=vA(i.atnStartState);a=Bg(i,jg(c)),i.start=a}return dA.apply(this,[i,a,r,n])}s(Gf,"adaptivePredict");function dA(t,e,r,n){let i=e,a=1,o=[],c=this.LA(a++);for(;;){let l=TA(i,c);if(l===void 0&&(l=pA.apply(this,[t,i,c,a,r,n])),l===Oa)return yA(o,i,c);if(l.isAcceptState===!0)return l.prediction;i=l,o.push(c),c=this.LA(a++)}}s(dA,"performLookahead");function pA(t,e,r,n,i,a){let o=RA(e.configs,r,i);if(o.size===0)return zg(t,e,r,Oa),Oa;let c=jg(o),l=EA(o,i);if(l!==void 0)c.isAcceptState=!0,c.prediction=l,c.configs.uniqueAlt=l;else if(kA(o)){let u=im(o.alts);c.isAcceptState=!0,c.prediction=u,c.configs.uniqueAlt=u,hA.apply(this,[t,n,o.alts,a])}return c=zg(t,e,r,c),c}s(pA,"computeLookaheadTarget");function hA(t,e,r,n){let i=[];for(let u=1;u<=e;u++)i.push(this.LA(u).tokenType);let a=t.atnStartState,o=a.rule,c=a.production,l=mA({topLevelRule:o,ambiguityIndices:r,production:c,prefixPath:i});n(l)}s(hA,"reportLookaheadAmbiguity");function mA(t){let e=_(t.prefixPath,i=>Vr(i)).join(", "),r=t.production.idx===0?"":t.production.idx,n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(", ")}> in <${gA(t.production)}${r}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}s(mA,"buildAmbiguityError");function gA(t){if(t instanceof de)return"SUBRULE";if(t instanceof pe)return"OPTION";if(t instanceof Te)return"OR";if(t instanceof xe)return"AT_LEAST_ONE";if(t instanceof Ee)return"AT_LEAST_ONE_SEP";if(t instanceof ye)return"MANY_SEP";if(t instanceof se)return"MANY";if(t instanceof re)return"CONSUME";throw Error("non exhaustive match")}s(gA,"getProductionDslName");function yA(t,e,r){let n=dt(e.configs.elements,a=>a.state.transitions),i=sm(n.filter(a=>a instanceof Zi).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:t}}s(yA,"buildAdaptivePredictError");function TA(t,e){return t.edges[e.tokenTypeIdx]}s(TA,"getExistingTargetState");function RA(t,e,r){let n=new ns,i=[];for(let o of t.elements){if(r.is(o.alt)===!1)continue;if(o.state.type===ts){i.push(o);continue}let c=o.state.transitions.length;for(let l=0;l<c;l++){let u=o.state.transitions[l],d=xA(u,e);d!==void 0&&n.add({state:d,alt:o.alt,stack:o.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new ns;for(let o of n.elements)Xc(o,a)}if(i.length>0&&!$A(a))for(let o of i)a.add(o);return a}s(RA,"computeReachSet");function xA(t,e){if(t instanceof Zi&&xa(e,t.tokenType))return t.target}s(xA,"getReachableTarget");function EA(t,e){let r;for(let n of t.elements)if(e.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}s(EA,"getUniqueAlt");function jg(t){return{configs:t,edges:{},isAcceptState:!1,prediction:-1}}s(jg,"newDFAState");function zg(t,e,r,n){return n=Bg(t,n),e.edges[r.tokenTypeIdx]=n,n}s(zg,"addDFAEdge");function Bg(t,e){if(e===Oa)return e;let r=e.configs.key,n=t.states[r];return n!==void 0?n:(e.configs.finalize(),t.states[r]=e,e)}s(Bg,"addDFAState");function vA(t){let e=new ns,r=t.transitions.length;for(let n=0;n<r;n++){let a={state:t.transitions[n].target,alt:n,stack:[]};Xc(a,e)}return e}s(vA,"computeStartState");function Xc(t,e){let r=t.state;if(r.type===ts){if(t.stack.length>0){let i=[...t.stack],o={state:i.pop(),alt:t.alt,stack:i};Xc(o,e)}else e.add(t);return}r.epsilonOnlyTransitions||e.add(t);let n=r.transitions.length;for(let i=0;i<n;i++){let a=r.transitions[i],o=AA(t,a);o!==void 0&&Xc(o,e)}}s(Xc,"closure");function AA(t,e){if(e instanceof Pa)return{state:e.target,alt:t.alt,stack:t.stack};if(e instanceof es){let r=[...t.stack,e.followState];return{state:e.target,alt:t.alt,stack:r}}}s(AA,"getEpsilonTarget");function $A(t){for(let e of t.elements)if(e.state.type===ts)return!0;return!1}s($A,"hasConfigInRuleStopState");function SA(t){for(let e of t.elements)if(e.state.type!==ts)return!1;return!0}s(SA,"allConfigsInRuleStopStates");function kA(t){if(SA(t))return!0;let e=CA(t.elements);return NA(e)&&!wA(e)}s(kA,"hasConflictTerminatingPrediction");function CA(t){let e=new Map;for(let r of t){let n=Ff(r,!1),i=e.get(n);i===void 0&&(i={},e.set(n,i)),i[r.alt]=!0}return e}s(CA,"getConflictingAltSets");function NA(t){for(let e of Array.from(t.values()))if(Object.keys(e).length>1)return!0;return!1}s(NA,"hasConflictingAltSet");function wA(t){for(let e of Array.from(t.values()))if(Object.keys(e).length===1)return!0;return!1}s(wA,"hasStateAssociatedWithOneAlt");ls();var ja=class{static{s(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]??this.rootNode}buildRootNode(e){return this.rootNode=new us(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let r=new oi;return r.grammarSource=e,r.root=this.rootNode,this.current.content.push(r),this.nodeStack.push(r),r}buildLeafNode(e,r){let n=new ai(e.startOffset,e.image.length,Di(e),e.tokenType,!r);return n.grammarSource=r,n.root=this.rootNode,this.current.content.push(n),n}removeNode(e){let r=e.container;if(r){let n=r.content.indexOf(e);n>=0&&r.content.splice(n,1)}}addHiddenNodes(e){let r=[];for(let a of e){let o=new ai(a.startOffset,a.image.length,Di(a),a.tokenType,!0);o.root=this.rootNode,r.push(o)}let n=this.current,i=!1;if(n.content.length>0){n.content.push(...r);return}for(;n.container;){let a=n.container.content.indexOf(n);if(a>0){n.container.content.splice(a,0,...r),i=!0;break}n=n.container}i||this.rootNode.content.unshift(...r)}construct(e){let r=this.current;typeof e.$type=="string"&&!e.$infix&&(this.current.astNode=e),e.$cstNode=r;let n=this.nodeStack.pop();n?.content.length===0&&this.removeNode(n)}},Ba=class{static{s(this,"AbstractCstNode")}get hidden(){return!1}get astNode(){let e=typeof this._astNode?.$type=="string"?this._astNode:this.container?.astNode;if(!e)throw new Error("This node has no associated AST element");return e}set astNode(e){this._astNode=e}get text(){return this.root.fullText.substring(this.offset,this.end)}},ai=class extends Ba{static{s(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,r,n,i,a=!1){super(),this._hidden=a,this._offset=e,this._tokenType=i,this._length=r,this._range=n}},oi=class extends Ba{static{s(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new zd(this)}get offset(){return this.firstNonHiddenNode?.offset??0}get length(){return this.end-this.offset}get end(){return this.lastNonHiddenNode?.end??0}get range(){let e=this.firstNonHiddenNode,r=this.lastNonHiddenNode;if(e&&r){if(this._rangeCache===void 0){let{range:n}=e,{range:i}=r;this._rangeCache={start:n.start,end:i.end.line<n.start.line?n.start:i.end}}return this._rangeCache}else return{start:ce.create(0,0),end:ce.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let r=this.content[e];if(!r.hidden)return r}return this.content[this.content.length-1]}},zd=class t extends Array{static{s(this,"CstNodeContainer")}constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,t.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,r,...n){return this.addParents(n),super.splice(e,r,...n)}addParents(e){for(let r of e)r.container=this.parent}},us=class extends oi{static{s(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}};var al=Symbol("Datatype");function jd(t){return t.$type===al}s(jd,"isDataTypeNode");var Wg="\u200B",Vg=s(t=>t.endsWith(Wg)?t:t+Wg,"withRuleSuffix"),Wa=class{static{s(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let r=this.lexer.definition,n=e.LanguageMetaData.mode==="production";e.shared.profilers.LangiumProfiler?.isActive("parsing")?this.wrapper=new Bd(r,{...e.parser.ParserConfig,skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider},e.shared.profilers.LangiumProfiler.createTask("parsing",e.LanguageMetaData.languageId)):this.wrapper=new cl(r,{...e.parser.ParserConfig,skipValidations:n,errorMessageProvider:e.parser.ParserErrorMessageProvider})}alternatives(e,r){this.wrapper.wrapOr(e,r)}optional(e,r){this.wrapper.wrapOption(e,r)}many(e,r){this.wrapper.wrapMany(e,r)}atLeastOne(e,r){this.wrapper.wrapAtLeastOne(e,r)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},Va=class extends Wa{static{s(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new ja,this.stack=[],this.assignmentMap=new Map,this.operatorPrecedence=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,r){let n=this.computeRuleType(e),i;hn(e)&&(i=e.name,this.registerPrecedenceMap(e));let a=this.wrapper.DEFINE_RULE(Vg(e.name),this.startImplementation(n,i,r).bind(this));return this.allRules.set(e.name,a),nt(e)&&e.entry&&(this.mainRule=a),a}registerPrecedenceMap(e){let r=e.name,n=new Map;for(let i=0;i<e.operators.precedences.length;i++){let a=e.operators.precedences[i];for(let o of a.operators)n.set(o.value,{precedence:i,rightAssoc:a.associativity==="right"})}this.operatorPrecedence.set(r,n)}computeRuleType(e){return hn(e)?gn(e):e.fragment?void 0:ha(e)?al:gn(e)}parse(e,r={}){this.nodeBuilder.buildRootNode(e);let n=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=n.tokens;let i=r.rule?this.allRules.get(r.rule):this.mainRule;if(!i)throw new Error(r.rule?`No rule found with name '${r.rule}'`:"No main rule available.");let a=this.doParse(i);return this.nodeBuilder.addHiddenNodes(n.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,ki(a,{deep:!0}),{value:a,lexerErrors:n.errors,lexerReport:n.report,parserErrors:this.wrapper.errors}}doParse(e){let r=this.wrapper.rule(e);if(this.stack.length>0&&(r=this.construct()),r===void 0)throw new Error("No result from parser");if(this.stack.length>0)throw new Error("Parser stack is not empty after parsing");return r}startImplementation(e,r,n){return i=>{let a=!this.isRecording()&&e!==void 0;if(a){let o={$type:e};this.stack.push(o),e===al?o.value="":r!==void 0&&(o.$infixName=r)}return n(i),a?this.construct():void 0}}extractHiddenTokens(e){let r=this.lexerResult.hidden;if(!r.length)return[];let n=e.startOffset;for(let i=0;i<r.length;i++)if(r[i].startOffset>n)return r.splice(0,i);return r.splice(0,r.length)}consume(e,r,n){let i=this.wrapper.wrapConsume(e,r);if(!this.isRecording()&&this.isValidToken(i)){let a=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(a);let o=this.nodeBuilder.buildLeafNode(i,n),{assignment:c,crossRef:l}=this.getAssignment(n),u=this.current;if(c){let d=Kt(n)?i.image:this.converter.convert(i.image,o);this.assign(c.operator,c.feature,d,o,l)}else if(jd(u)){let d=i.image;Kt(n)||(d=this.converter.convert(d,o).toString()),u.value+=d}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,r,n,i,a){let o;!this.isRecording()&&!n&&(o=this.nodeBuilder.buildCompositeNode(i));let c;try{c=this.wrapper.wrapSubrule(e,r,a)}finally{this.isRecording()||(c===void 0&&!n&&(c=this.construct()),c!==void 0&&o&&o.length>0&&this.performSubruleAssignment(c,i,o))}}performSubruleAssignment(e,r,n){let{assignment:i,crossRef:a}=this.getAssignment(r);if(i)this.assign(i.operator,i.feature,e,n,a);else if(!i){let o=this.current;if(jd(o))o.value+=e.toString();else if(typeof e=="object"&&e){let l=this.assignWithoutOverride(e,o);this.stack.pop(),this.stack.push(l)}}}action(e,r){if(!this.isRecording()){let n=this.current;if(r.feature&&r.operator){n=this.construct(),this.nodeBuilder.removeNode(n.$cstNode),this.nodeBuilder.buildCompositeNode(r).content.push(n.$cstNode);let a={$type:e};this.stack.push(a),this.assign(r.operator,r.feature,n,n.$cstNode)}else n.$type=e}}construct(){if(this.isRecording())return;let e=this.stack.pop();return this.nodeBuilder.construct(e),"$infixName"in e?this.constructInfix(e,this.operatorPrecedence.get(e.$infixName)):jd(e)?this.converter.convert(e.value,e.$cstNode):(Ru(this.astReflection,e),e)}constructInfix(e,r){let n=e.parts;if(!Array.isArray(n)||n.length===0)return;let i=e.operators;if(!Array.isArray(i)||n.length<2)return n[0];let a=0,o=-1;for(let w=0;w<i.length;w++){let z=i[w],M=r.get(z)??{precedence:1/0,rightAssoc:!1};M.precedence>o?(o=M.precedence,a=w):M.precedence===o&&(M.rightAssoc||(a=w))}let c=i.slice(0,a),l=i.slice(a+1),u=n.slice(0,a+1),d=n.slice(a+1),h={$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:u,operators:c},m={$infixName:e.$infixName,$type:e.$type,$cstNode:e.$cstNode,parts:d,operators:l},y=this.constructInfix(h,r),C=this.constructInfix(m,r);return{$type:e.$type,$cstNode:e.$cstNode,left:y,operator:i[a],right:C}}getAssignment(e){if(!this.assignmentMap.has(e)){let r=Mr(e,sr);this.assignmentMap.set(e,{assignment:r,crossRef:r&&ar(r.terminal)?r.terminal.isMulti?"multi":"single":void 0})}return this.assignmentMap.get(e)}assign(e,r,n,i,a){let o=this.current,c;switch(a==="single"&&typeof n=="string"?c=this.linker.buildReference(o,r,i,n):a==="multi"&&typeof n=="string"?c=this.linker.buildMultiReference(o,r,i,n):c=n,e){case"=":{o[r]=c;break}case"?=":{o[r]=!0;break}case"+=":Array.isArray(o[r])||(o[r]=[]),o[r].push(c)}}assignWithoutOverride(e,r){for(let[i,a]of Object.entries(r)){let o=e[i];o===void 0?e[i]=a:Array.isArray(o)&&Array.isArray(a)&&(a.push(...o),e[i]=a)}let n=e.$cstNode;return n&&(n.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},ol=class{static{s(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return Hr.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Hr.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Hr.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Hr.buildEarlyExitMessage(e)}},fs=class extends ol{static{s(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:r}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},Ka=class extends Wa{static{s(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let r=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=r.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,r){let n=this.wrapper.DEFINE_RULE(Vg(e.name),this.startImplementation(r).bind(this));return this.allRules.set(e.name,n),e.entry&&(this.mainRule=n),n}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return r=>{let n=this.keepStackSize();try{e(r)}finally{this.resetStackSize(n)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,r,n){this.wrapper.wrapConsume(e,r),this.isRecording()||(this.lastElementStack=[...this.elementStack,n],this.nextTokenIndex=this.currIdx+1)}subrule(e,r,n,i,a){this.before(i),this.wrapper.wrapSubrule(e,r,a),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let r=this.elementStack.lastIndexOf(e);r>=0&&this.elementStack.splice(r)}}get currIdx(){return this.wrapper.currIdx}},_A={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new fs},cl=class extends _a{static{s(this,"ChevrotainWrapper")}constructor(e,r){let n=r&&"maxLookahead"in r;super(e,{..._A,lookaheadStrategy:n?new Yr({maxLookahead:r.maxLookahead}):new La({logging:r.skipValidations?()=>{}:void 0}),...r})}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,r,n){return this.RULE(e,r,n)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,r){return this.consume(e,r,void 0)}wrapSubrule(e,r,n){return this.subrule(e,r,{ARGS:[n]})}wrapOr(e,r){this.or(e,r)}wrapOption(e,r){this.option(e,r)}wrapMany(e,r){this.many(e,r)}wrapAtLeastOne(e,r){this.atLeastOne(e,r)}rule(e){return e.call(this,{})}},Bd=class extends cl{static{s(this,"ProfilerWrapper")}constructor(e,r,n){super(e,r),this.task=n}rule(e){this.task.start(),this.task.startSubTask(this.ruleName(e));try{return super.rule(e)}finally{this.task.stopSubTask(this.ruleName(e)),this.task.stop()}}ruleName(e){return e.ruleName}subrule(e,r,n){this.task.startSubTask(this.ruleName(r));try{return super.subrule(e,r,n)}finally{this.task.stopSubTask(this.ruleName(r))}}};function Ha(t,e,r){return bA({parser:e,tokens:r,ruleNames:new Map},t),e}s(Ha,"createParser");function bA(t,e){let r=da(e,!1),n=te(e.rules).filter(nt).filter(a=>r.has(a));for(let a of n){let o={...t,consume:1,optional:1,subrule:1,many:1,or:1};t.parser.rule(a,ci(o,a.definition))}let i=te(e.rules).filter(hn).filter(a=>r.has(a));for(let a of i)t.parser.rule(a,PA(t,a))}s(bA,"buildRules");function PA(t,e){let r=e.call.rule.ref;if(!r)throw new Error("Could not resolve reference to infix operator rule: "+e.call.rule.$refText);if(St(r))throw new Error("Cannot use terminal rule in infix expression");let n=e.operators.precedences.flatMap(y=>y.operators),i={$type:"Group",elements:[]},a={$container:i,$type:"Assignment",feature:"parts",operator:"+=",terminal:e.call},o={$container:i,$type:"Group",elements:[],cardinality:"*"};i.elements.push(a,o);let l={$container:o,$type:"Assignment",feature:"operators",operator:"+=",terminal:{$type:"Alternatives",elements:n}},u={...a,$container:o};o.elements.push(l,u);let h=n.map(y=>t.tokens[y.value]).map((y,C)=>({ALT:s(()=>t.parser.consume(C,y,l),"ALT")})),m;return y=>{m??(m=Vd(t,r)),t.parser.subrule(0,m,!1,a,y),t.parser.many(0,{DEF:s(()=>{t.parser.alternatives(0,h),t.parser.subrule(1,m,!1,u,y)},"DEF")})}}s(PA,"buildInfixRule");function ci(t,e,r=!1){let n;if(Kt(e))n=UA(t,e);else if(qr(e))n=OA(t,e);else if(sr(e))n=ci(t,e.terminal);else if(ar(e))n=Kg(t,e);else if(or(e))n=LA(t,e);else if(rc(e))n=MA(t,e);else if(ac(e))n=FA(t,e);else if(pn(e))n=GA(t,e);else if(ku(e)){let i=t.consume++;n=s(()=>t.parser.consume(i,jt,e),"method")}else throw new Hn(e.$cstNode,`Unexpected element type: ${e.$type}`);return Hg(t,r?void 0:ll(e),n,e.cardinality)}s(ci,"buildElement");function OA(t,e){let r=gn(e);return()=>t.parser.action(r,e)}s(OA,"buildAction");function LA(t,e){let r=e.rule.ref;if(Ur(r)){let n=t.subrule++,i=nt(r)&&r.fragment,a=e.arguments.length>0?DA(r,e.arguments):()=>({}),o;return c=>{o??(o=Vd(t,r)),t.parser.subrule(n,o,i,e,a(c))}}else if(St(r)){let n=t.consume++,i=Wd(t,r.name);return()=>t.parser.consume(n,i,e)}else if(r)xr(r);else throw new Hn(e.$cstNode,`Undefined rule: ${e.rule.$refText}`)}s(LA,"buildRuleCall");function DA(t,e){if(e.some(n=>n.calledByName)){let n=e.map(i=>({parameterName:i.parameter?.ref?.name,predicate:$r(i.value)}));return i=>{let a={};for(let{parameterName:o,predicate:c}of n)o&&(a[o]=c(i));return a}}else{let n=e.map(i=>$r(i.value));return i=>{let a={};for(let o=0;o<n.length;o++)if(o<t.parameters.length){let c=t.parameters[o].name,l=n[o];a[c]=l(i)}return a}}}s(DA,"buildRuleCallPredicate");function $r(t){if(Su(t)){let e=$r(t.left),r=$r(t.right);return n=>e(n)||r(n)}else if($u(t)){let e=$r(t.left),r=$r(t.right);return n=>e(n)&&r(n)}else if(wu(t)){let e=$r(t.value);return r=>!e(r)}else if(Iu(t)){let e=t.parameter.ref.name;return r=>r!==void 0&&r[e]===!0}else if(vu(t)){let e=!!t.true;return()=>e}xr(t)}s($r,"buildPredicate");function MA(t,e){if(e.elements.length===1)return ci(t,e.elements[0]);{let r=[];for(let i of e.elements){let a={ALT:ci(t,i,!0)},o=ll(i);o&&(a.GATE=$r(o)),r.push(a)}let n=t.or++;return i=>t.parser.alternatives(n,r.map(a=>{let o={ALT:s(()=>a.ALT(i),"ALT")},c=a.GATE;return c&&(o.GATE=()=>c(i)),o}))}}s(MA,"buildAlternatives");function FA(t,e){if(e.elements.length===1)return ci(t,e.elements[0]);let r=[];for(let c of e.elements){let l={ALT:ci(t,c,!0)},u=ll(c);u&&(l.GATE=$r(u)),r.push(l)}let n=t.or++,i=s((c,l)=>{let u=l.getRuleStack().join("-");return`uGroup_${c}_${u}`},"idFunc"),a=s(c=>t.parser.alternatives(n,r.map((l,u)=>{let d={ALT:s(()=>!0,"ALT")},h=t.parser;d.ALT=()=>{if(l.ALT(c),!h.isRecording()){let y=i(n,h);h.unorderedGroups.get(y)||h.unorderedGroups.set(y,[]);let C=h.unorderedGroups.get(y);typeof C?.[u]>"u"&&(C[u]=!0)}};let m=l.GATE;return m?d.GATE=()=>m(c):d.GATE=()=>!h.unorderedGroups.get(i(n,h))?.[u],d})),"alternatives"),o=Hg(t,ll(e),a,"*");return c=>{o(c),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(n,t.parser))}}s(FA,"buildUnorderedGroup");function GA(t,e){let r=e.elements.map(n=>ci(t,n));return n=>r.forEach(i=>i(n))}s(GA,"buildGroup");function ll(t){if(pn(t))return t.guardCondition}s(ll,"getGuardCondition");function Kg(t,e,r=e.terminal){if(r)if(or(r)&&nt(r.rule.ref)){let n=r.rule.ref,i=t.subrule++,a;return o=>{a??(a=Vd(t,n)),t.parser.subrule(i,a,!1,e,o)}}else if(or(r)&&St(r.rule.ref)){let n=t.consume++,i=Wd(t,r.rule.ref.name);return()=>t.parser.consume(n,i,e)}else if(Kt(r)){let n=t.consume++,i=Wd(t,r.value);return()=>t.parser.consume(n,i,e)}else throw new Error("Could not build cross reference parser");else{if(!e.type.ref)throw new Error("Could not resolve reference to type: "+e.type.$refText);let i=dc(e.type.ref)?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+gn(e.type.ref));return Kg(t,e,i)}}s(Kg,"buildCrossReference");function UA(t,e){let r=t.consume++,n=t.tokens[e.value];if(!n)throw new Error("Could not find token for keyword: "+e.value);return()=>t.parser.consume(r,n,e)}s(UA,"buildKeyword");function Hg(t,e,r,n){let i=e&&$r(e);if(!n)if(i){let a=t.or++;return o=>t.parser.alternatives(a,[{ALT:s(()=>r(o),"ALT"),GATE:s(()=>i(o),"GATE")},{ALT:Hc(),GATE:s(()=>!i(o),"GATE")}])}else return r;if(n==="*"){let a=t.many++;return o=>t.parser.many(a,{DEF:s(()=>r(o),"DEF"),GATE:i?()=>i(o):void 0})}else if(n==="+"){let a=t.many++;if(i){let o=t.or++;return c=>t.parser.alternatives(o,[{ALT:s(()=>t.parser.atLeastOne(a,{DEF:s(()=>r(c),"DEF")}),"ALT"),GATE:s(()=>i(c),"GATE")},{ALT:Hc(),GATE:s(()=>!i(c),"GATE")}])}else return o=>t.parser.atLeastOne(a,{DEF:s(()=>r(o),"DEF")})}else if(n==="?"){let a=t.optional++;return o=>t.parser.optional(a,{DEF:s(()=>r(o),"DEF"),GATE:i?()=>i(o):void 0})}else xr(n)}s(Hg,"wrap");function Vd(t,e){let r=qA(t,e),n=t.parser.getRule(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}s(Vd,"getRule");function qA(t,e){if(Ur(e))return e.name;if(t.ruleNames.has(e))return t.ruleNames.get(e);{let r=e,n=r.$container,i=e.$type;for(;!nt(n);)(pn(n)||rc(n)||ac(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,t.ruleNames.set(e,i),i}}s(qA,"getRuleName");function Wd(t,e){let r=t.tokens[e];if(!r)throw new Error(`Token "${e}" not found."`);return r}s(Wd,"getToken");function Kd(t){let e=t.Grammar,r=t.parser.Lexer,n=new Ka(t);return Ha(e,n,r.definition),n.finalize(),n}s(Kd,"createCompletionParser");function Hd(t){let e=Yg(t);return e.finalize(),e}s(Hd,"createLangiumParser");function Yg(t){let e=t.Grammar,r=t.parser.Lexer,n=new Va(t);return Ha(e,n,r.definition)}s(Yg,"prepareLangiumParser");var Jr=class{static{s(this,"DefaultTokenBuilder")}constructor(){this.diagnostics=[]}buildTokens(e,r){let n=te(da(e,!1)),i=this.buildTerminalTokens(n),a=this.buildKeywordTokens(n,i,r);return a.push(...i),a}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(St).filter(r=>!r.fragment).map(r=>this.buildTerminalToken(r)).toArray()}buildTerminalToken(e){let r=Fi(e),n=this.requiresCustomPattern(r)?this.regexPatternFunction(r):r,i={name:e.name,PATTERN:n};return typeof n=="function"&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=fa(r)?we.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!!(e.flags.includes("u")||e.flags.includes("s"))}regexPatternFunction(e){let r=new RegExp(e,e.flags+"y");return(n,i)=>(r.lastIndex=i,r.exec(n))}buildKeywordTokens(e,r,n){return e.filter(Ur).flatMap(i=>nr(i).filter(Kt)).distinct(i=>i.value).toArray().sort((i,a)=>a.value.length-i.value.length).map(i=>this.buildKeywordToken(i,r,!!n?.caseInsensitive))}buildKeywordToken(e,r,n){let i=this.buildKeywordPattern(e,n),a={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,r)};return typeof i=="function"&&(a.LINE_BREAKS=!0),a}buildKeywordPattern(e,r){return r?new RegExp(mn(e.value),"i"):e.value}findLongerAlt(e,r){return r.reduce((n,i)=>{let a=i?.PATTERN;return a?.source&&Hu("^"+a.source+"$",e.value)&&n.push(i),n},[])}};var li=class{static{s(this,"DefaultValueConverter")}convert(e,r){let n=r.grammarSource;if(ar(n)&&(n=Ju(n)),or(n)){let i=n.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,r)}return e}runConverter(e,r,n){switch(e.name.toUpperCase()){case"INT":return Sr.convertInt(r);case"STRING":return Sr.convertString(r);case"ID":return Sr.convertID(r)}switch(sf(e)?.toLowerCase()){case"number":return Sr.convertNumber(r);case"boolean":return Sr.convertBoolean(r);case"bigint":return Sr.convertBigint(r);case"date":return Sr.convertDate(r);default:return r}}},Sr;(function(t){function e(u){let d="";for(let h=1;h<u.length-1;h++){let m=u.charAt(h);if(m==="\\"){let y=u.charAt(++h);d+=r(y)}else d+=m}return d}s(e,"convertString"),t.convertString=e;function r(u){switch(u){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return u}}s(r,"convertEscapeCharacter");function n(u){return u.charAt(0)==="^"?u.substring(1):u}s(n,"convertID"),t.convertID=n;function i(u){return parseInt(u)}s(i,"convertInt"),t.convertInt=i;function a(u){return BigInt(u)}s(a,"convertBigint"),t.convertBigint=a;function o(u){return new Date(u)}s(o,"convertDate"),t.convertDate=o;function c(u){return Number(u)}s(c,"convertNumber"),t.convertNumber=c;function l(u){return u.toLowerCase()==="true"}s(l,"convertBoolean"),t.convertBoolean=l})(Sr||(Sr={}));var W={};ae(W,du(Ya(),1));function tp(){return new Promise(t=>{typeof setImmediate>"u"?setTimeout(t,0):setImmediate(t)})}s(tp,"delayNextTick");var pl=0,Zg=10;function hl(){return pl=performance.now(),new W.CancellationTokenSource}s(hl,"startCancelableOperation");function ey(t){Zg=t}s(ey,"setInterruptionPeriod");var Ht=Symbol("OperationCancelled");function kr(t){return t===Ht}s(kr,"isOperationCancelled");async function De(t){if(t===W.CancellationToken.None)return;let e=performance.now();if(e-pl>=Zg&&(pl=e,await tp(),pl=performance.now()),t.isCancellationRequested)throw Ht}s(De,"interruptAndCheck");var wt=class{static{s(this,"Deferred")}constructor(){this.promise=new Promise((e,r)=>{this.resolve=n=>(e(n),this),this.reject=n=>(r(n),this)})}};var ml=class t{static{s(this,"FullTextDocument")}constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let i=ny(n.range),a=this.offsetAt(i.start),o=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(o,this._content.length);let c=Math.max(i.start.line,0),l=Math.max(i.end.line,0),u=this._lineOffsets,d=ty(n.text,!1,a);if(l-c===d.length)for(let m=0,y=d.length;m<y;m++)u[m+c+1]=d[m];else d.length<1e4?u.splice(c+1,l-c,...d):this._lineOffsets=u=u.slice(0,c+1).concat(d,u.slice(l+1));let h=n.text.length-(o-a);if(h!==0)for(let m=c+1+d.length,y=u.length;m<y;m++)u[m]=u[m]+h}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=ty(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){let o=Math.floor((n+i)/2);r[o]>e?i=o:n=o+1}let a=n-1;return e=this.ensureBeforeEOL(e,r[a]),{line:a,character:e-r[a]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let i=e.line+1<r.length?r[e.line+1]:this._content.length,a=Math.min(n+e.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(e,r){for(;e>r&&ry(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},ms;(function(t){function e(i,a,o,c){return new ml(i,a,o,c)}s(e,"create"),t.create=e;function r(i,a,o){if(i instanceof ml)return i.update(a,o),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}s(r,"update"),t.update=r;function n(i,a){let o=i.getText(),c=rp(a.map(JA),(d,h)=>{let m=d.range.start.line-h.range.start.line;return m===0?d.range.start.character-h.range.start.character:m}),l=0,u=[];for(let d of c){let h=i.offsetAt(d.range.start);if(h<l)throw new Error("Overlapping edit");h>l&&u.push(o.substring(l,h)),d.newText.length&&u.push(d.newText),l=i.offsetAt(d.range.end)}return u.push(o.substr(l)),u.join("")}s(n,"applyEdits"),t.applyEdits=n})(ms||(ms={}));function rp(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);rp(n,e),rp(i,e);let a=0,o=0,c=0;for(;a<n.length&&o<i.length;)e(n[a],i[o])<=0?t[c++]=n[a++]:t[c++]=i[o++];for(;a<n.length;)t[c++]=n[a++];for(;o<i.length;)t[c++]=i[o++];return t}s(rp,"mergeSort");function ty(t,e,r=0){let n=e?[r]:[];for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);ry(a)&&(a===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}s(ty,"computeLineOffsets");function ry(t){return t===13||t===10}s(ry,"isEOL");function ny(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}s(ny,"getWellformedRange");function JA(t){let e=ny(t.range);return e!==t.range?{newText:t.newText,range:e}:t}s(JA,"getWellformedEdit");var iy;(()=>{"use strict";var t={975:S=>{function T(R){if(typeof R!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}s(T,"e");function L(R,E){for(var $,b="",F=0,N=-1,Y=0,Q=0;Q<=R.length;++Q){if(Q<R.length)$=R.charCodeAt(Q);else{if($===47)break;$=47}if($===47){if(!(N===Q-1||Y===1))if(N!==Q-1&&Y===2){if(b.length<2||F!==2||b.charCodeAt(b.length-1)!==46||b.charCodeAt(b.length-2)!==46){if(b.length>2){var Be=b.lastIndexOf("/");if(Be!==b.length-1){Be===-1?(b="",F=0):F=(b=b.slice(0,Be)).length-1-b.lastIndexOf("/"),N=Q,Y=0;continue}}else if(b.length===2||b.length===1){b="",F=0,N=Q,Y=0;continue}}E&&(b.length>0?b+="/..":b="..",F=2)}else b.length>0?b+="/"+R.slice(N+1,Q):b=R.slice(N+1,Q),F=Q-N-1;N=Q,Y=0}else $===46&&Y!==-1?++Y:Y=-1}return b}s(L,"r");var O={resolve:s(function(){for(var R,E="",$=!1,b=arguments.length-1;b>=-1&&!$;b--){var F;b>=0?F=arguments[b]:(R===void 0&&(R=process.cwd()),F=R),T(F),F.length!==0&&(E=F+"/"+E,$=F.charCodeAt(0)===47)}return E=L(E,!$),$?E.length>0?"/"+E:"/":E.length>0?E:"."},"resolve"),normalize:s(function(R){if(T(R),R.length===0)return".";var E=R.charCodeAt(0)===47,$=R.charCodeAt(R.length-1)===47;return(R=L(R,!E)).length!==0||E||(R="."),R.length>0&&$&&(R+="/"),E?"/"+R:R},"normalize"),isAbsolute:s(function(R){return T(R),R.length>0&&R.charCodeAt(0)===47},"isAbsolute"),join:s(function(){if(arguments.length===0)return".";for(var R,E=0;E<arguments.length;++E){var $=arguments[E];T($),$.length>0&&(R===void 0?R=$:R+="/"+$)}return R===void 0?".":O.normalize(R)},"join"),relative:s(function(R,E){if(T(R),T(E),R===E||(R=O.resolve(R))===(E=O.resolve(E)))return"";for(var $=1;$<R.length&&R.charCodeAt($)===47;++$);for(var b=R.length,F=b-$,N=1;N<E.length&&E.charCodeAt(N)===47;++N);for(var Y=E.length-N,Q=F<Y?F:Y,Be=-1,ue=0;ue<=Q;++ue){if(ue===Q){if(Y>Q){if(E.charCodeAt(N+ue)===47)return E.slice(N+ue+1);if(ue===0)return E.slice(N+ue)}else F>Q&&(R.charCodeAt($+ue)===47?Be=ue:ue===0&&(Be=0));break}var be=R.charCodeAt($+ue);if(be!==E.charCodeAt(N+ue))break;be===47&&(Be=ue)}var pr="";for(ue=$+Be+1;ue<=b;++ue)ue!==b&&R.charCodeAt(ue)!==47||(pr.length===0?pr+="..":pr+="/..");return pr.length>0?pr+E.slice(N+Be):(N+=Be,E.charCodeAt(N)===47&&++N,E.slice(N))},"relative"),_makeLong:s(function(R){return R},"_makeLong"),dirname:s(function(R){if(T(R),R.length===0)return".";for(var E=R.charCodeAt(0),$=E===47,b=-1,F=!0,N=R.length-1;N>=1;--N)if((E=R.charCodeAt(N))===47){if(!F){b=N;break}}else F=!1;return b===-1?$?"/":".":$&&b===1?"//":R.slice(0,b)},"dirname"),basename:s(function(R,E){if(E!==void 0&&typeof E!="string")throw new TypeError('"ext" argument must be a string');T(R);var $,b=0,F=-1,N=!0;if(E!==void 0&&E.length>0&&E.length<=R.length){if(E.length===R.length&&E===R)return"";var Y=E.length-1,Q=-1;for($=R.length-1;$>=0;--$){var Be=R.charCodeAt($);if(Be===47){if(!N){b=$+1;break}}else Q===-1&&(N=!1,Q=$+1),Y>=0&&(Be===E.charCodeAt(Y)?--Y==-1&&(F=$):(Y=-1,F=Q))}return b===F?F=Q:F===-1&&(F=R.length),R.slice(b,F)}for($=R.length-1;$>=0;--$)if(R.charCodeAt($)===47){if(!N){b=$+1;break}}else F===-1&&(N=!1,F=$+1);return F===-1?"":R.slice(b,F)},"basename"),extname:s(function(R){T(R);for(var E=-1,$=0,b=-1,F=!0,N=0,Y=R.length-1;Y>=0;--Y){var Q=R.charCodeAt(Y);if(Q!==47)b===-1&&(F=!1,b=Y+1),Q===46?E===-1?E=Y:N!==1&&(N=1):E!==-1&&(N=-1);else if(!F){$=Y+1;break}}return E===-1||b===-1||N===0||N===1&&E===b-1&&E===$+1?"":R.slice(E,b)},"extname"),format:s(function(R){if(R===null||typeof R!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof R);return(function(E,$){var b=$.dir||$.root,F=$.base||($.name||"")+($.ext||"");return b?b===$.root?b+F:b+"/"+F:F})(0,R)},"format"),parse:s(function(R){T(R);var E={root:"",dir:"",base:"",ext:"",name:""};if(R.length===0)return E;var $,b=R.charCodeAt(0),F=b===47;F?(E.root="/",$=1):$=0;for(var N=-1,Y=0,Q=-1,Be=!0,ue=R.length-1,be=0;ue>=$;--ue)if((b=R.charCodeAt(ue))!==47)Q===-1&&(Be=!1,Q=ue+1),b===46?N===-1?N=ue:be!==1&&(be=1):N!==-1&&(be=-1);else if(!Be){Y=ue+1;break}return N===-1||Q===-1||be===0||be===1&&N===Q-1&&N===Y+1?Q!==-1&&(E.base=E.name=Y===0&&F?R.slice(1,Q):R.slice(Y,Q)):(Y===0&&F?(E.name=R.slice(1,N),E.base=R.slice(1,Q)):(E.name=R.slice(Y,N),E.base=R.slice(Y,Q)),E.ext=R.slice(N,Q)),Y>0?E.dir=R.slice(0,Y-1):F&&(E.dir="/"),E},"parse"),sep:"/",delimiter:":",win32:null,posix:null};O.posix=O,S.exports=O}},e={};function r(S){var T=e[S];if(T!==void 0)return T.exports;var L=e[S]={exports:{}};return t[S](L,L.exports,r),L.exports}s(r,"r"),r.d=(S,T)=>{for(var L in T)r.o(T,L)&&!r.o(S,L)&&Object.defineProperty(S,L,{enumerable:!0,get:T[L]})},r.o=(S,T)=>Object.prototype.hasOwnProperty.call(S,T),r.r=S=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})};var n={};let i;r.r(n),r.d(n,{URI:s(()=>m,"URI"),Utils:s(()=>Vt,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,o=/^\//,c=/^\/\//;function l(S,T){if(!S.scheme&&T)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${S.authority}", path: "${S.path}", query: "${S.query}", fragment: "${S.fragment}"}`);if(S.scheme&&!a.test(S.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(S.path){if(S.authority){if(!o.test(S.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(S.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}s(l,"a");let u="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class m{static{s(this,"l")}static isUri(T){return T instanceof m||!!T&&typeof T.authority=="string"&&typeof T.fragment=="string"&&typeof T.path=="string"&&typeof T.query=="string"&&typeof T.scheme=="string"&&typeof T.fsPath=="string"&&typeof T.with=="function"&&typeof T.toString=="function"}scheme;authority;path;query;fragment;constructor(T,L,O,R,E,$=!1){typeof T=="object"?(this.scheme=T.scheme||u,this.authority=T.authority||u,this.path=T.path||u,this.query=T.query||u,this.fragment=T.fragment||u):(this.scheme=(function(b,F){return b||F?b:"file"})(T,$),this.authority=L||u,this.path=(function(b,F){switch(b){case"https":case"http":case"file":F?F[0]!==d&&(F=d+F):F=d}return F})(this.scheme,O||u),this.query=R||u,this.fragment=E||u,l(this,$))}get fsPath(){return P(this,!1)}with(T){if(!T)return this;let{scheme:L,authority:O,path:R,query:E,fragment:$}=T;return L===void 0?L=this.scheme:L===null&&(L=u),O===void 0?O=this.authority:O===null&&(O=u),R===void 0?R=this.path:R===null&&(R=u),E===void 0?E=this.query:E===null&&(E=u),$===void 0?$=this.fragment:$===null&&($=u),L===this.scheme&&O===this.authority&&R===this.path&&E===this.query&&$===this.fragment?this:new C(L,O,R,E,$)}static parse(T,L=!1){let O=h.exec(T);return O?new C(O[2]||u,me(O[4]||u),me(O[5]||u),me(O[7]||u),me(O[9]||u),L):new C(u,u,u,u,u)}static file(T){let L=u;if(i&&(T=T.replace(/\\/g,d)),T[0]===d&&T[1]===d){let O=T.indexOf(d,2);O===-1?(L=T.substring(2),T=d):(L=T.substring(2,O),T=T.substring(O)||d)}return new C("file",L,T,u,u)}static from(T){let L=new C(T.scheme,T.authority,T.path,T.query,T.fragment);return l(L,!0),L}toString(T=!1){return A(this,T)}toJSON(){return this}static revive(T){if(T){if(T instanceof m)return T;{let L=new C(T);return L._formatted=T.external,L._fsPath=T._sep===y?T.fsPath:null,L}}return T}}let y=i?1:void 0;class C extends m{static{s(this,"d")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath}toString(T=!1){return T?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)}toJSON(){let T={$mid:1};return this._fsPath&&(T.fsPath=this._fsPath,T._sep=y),this._formatted&&(T.external=this._formatted),this.path&&(T.path=this.path),this.scheme&&(T.scheme=this.scheme),this.authority&&(T.authority=this.authority),this.query&&(T.query=this.query),this.fragment&&(T.fragment=this.fragment),T}}let w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function z(S,T,L){let O,R=-1;for(let E=0;E<S.length;E++){let $=S.charCodeAt(E);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||T&&$===47||L&&$===91||L&&$===93||L&&$===58)R!==-1&&(O+=encodeURIComponent(S.substring(R,E)),R=-1),O!==void 0&&(O+=S.charAt(E));else{O===void 0&&(O=S.substr(0,E));let b=w[$];b!==void 0?(R!==-1&&(O+=encodeURIComponent(S.substring(R,E)),R=-1),O+=b):R===-1&&(R=E)}}return R!==-1&&(O+=encodeURIComponent(S.substring(R))),O!==void 0?O:S}s(z,"m");function M(S){let T;for(let L=0;L<S.length;L++){let O=S.charCodeAt(L);O===35||O===63?(T===void 0&&(T=S.substr(0,L)),T+=w[O]):T!==void 0&&(T+=S[L])}return T!==void 0?T:S}s(M,"y");function P(S,T){let L;return L=S.authority&&S.path.length>1&&S.scheme==="file"?`//${S.authority}${S.path}`:S.path.charCodeAt(0)===47&&(S.path.charCodeAt(1)>=65&&S.path.charCodeAt(1)<=90||S.path.charCodeAt(1)>=97&&S.path.charCodeAt(1)<=122)&&S.path.charCodeAt(2)===58?T?S.path.substr(1):S.path[1].toLowerCase()+S.path.substr(2):S.path,i&&(L=L.replace(/\//g,"\\")),L}s(P,"v");function A(S,T){let L=T?M:z,O="",{scheme:R,authority:E,path:$,query:b,fragment:F}=S;if(R&&(O+=R,O+=":"),(E||R==="file")&&(O+=d,O+=d),E){let N=E.indexOf("@");if(N!==-1){let Y=E.substr(0,N);E=E.substr(N+1),N=Y.lastIndexOf(":"),N===-1?O+=L(Y,!1,!1):(O+=L(Y.substr(0,N),!1,!1),O+=":",O+=L(Y.substr(N+1),!1,!0)),O+="@"}E=E.toLowerCase(),N=E.lastIndexOf(":"),N===-1?O+=L(E,!1,!0):(O+=L(E.substr(0,N),!1,!0),O+=E.substr(N))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58){let N=$.charCodeAt(1);N>=65&&N<=90&&($=`/${String.fromCharCode(N+32)}:${$.substr(3)}`)}else if($.length>=2&&$.charCodeAt(1)===58){let N=$.charCodeAt(0);N>=65&&N<=90&&($=`${String.fromCharCode(N+32)}:${$.substr(2)}`)}O+=L($,!0,!1)}return b&&(O+="?",O+=L(b,!1,!1)),F&&(O+="#",O+=T?F:z(F,!1,!1)),O}s(A,"b");function H(S){try{return decodeURIComponent(S)}catch{return S.length>3?S.substr(0,3)+H(S.substr(3)):S}}s(H,"C");let U=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function me(S){return S.match(U)?S.replace(U,(T=>H(T))):S}s(me,"w");var dr=r(975);let Xe=dr.posix||dr,Qt="/";var Vt;(function(S){S.joinPath=function(T,...L){return T.with({path:Xe.join(T.path,...L)})},S.resolvePath=function(T,...L){let O=T.path,R=!1;O[0]!==Qt&&(O=Qt+O,R=!0);let E=Xe.resolve(O,...L);return R&&E[0]===Qt&&!T.authority&&(E=E.substring(1)),T.with({path:E})},S.dirname=function(T){if(T.path.length===0||T.path===Qt)return T;let L=Xe.dirname(T.path);return L.length===1&&L.charCodeAt(0)===46&&(L=""),T.with({path:L})},S.basename=function(T){return Xe.basename(T.path)},S.extname=function(T){return Xe.extname(T.path)}})(Vt||(Vt={})),iy=n})();var{URI:tt,Utils:gs}=iy;var je;(function(t){t.basename=gs.basename,t.dirname=gs.dirname,t.extname=gs.extname,t.joinPath=gs.joinPath,t.resolvePath=gs.resolvePath;let e=typeof process=="object"&&process?.platform==="win32";function r(o,c){return o?.toString()===c?.toString()}s(r,"equals"),t.equals=r;function n(o,c){let l=typeof o=="string"?tt.parse(o).path:o.path,u=typeof c=="string"?tt.parse(c).path:c.path,d=l.split("/").filter(w=>w.length>0),h=u.split("/").filter(w=>w.length>0);if(e){let w=/^[A-Z]:$/;if(d[0]&&w.test(d[0])&&(d[0]=d[0].toLowerCase()),h[0]&&w.test(h[0])&&(h[0]=h[0].toLowerCase()),d[0]!==h[0])return u.substring(1)}let m=0;for(;m<d.length&&d[m]===h[m];m++);let y="../".repeat(d.length-m),C=h.slice(m).join("/");return y+C}s(n,"relative"),t.relative=n;function i(o){return tt.parse(o.toString()).toString()}s(i,"normalize"),t.normalize=i;function a(o,c){let l=typeof o=="string"?o:o.path,u=typeof c=="string"?c:c.path;return u.charAt(u.length-1)==="/"&&(u=u.slice(0,-1)),l.charAt(l.length-1)==="/"&&(l=l.slice(0,-1)),u===l?!0:u.length<l.length||u.charAt(l.length)!=="/"?!1:u.startsWith(l)}s(a,"contains"),t.contains=a})(je||(je={}));var ys=class{static{s(this,"UriTrie")}constructor(){this.root={name:"",children:new Map}}normalizeUri(e){return je.normalize(e)}clear(){this.root.children.clear()}insert(e,r){let n=this.getNode(this.normalizeUri(e),!0);n.element=r}delete(e){let r=this.getNode(this.normalizeUri(e),!1);r?.parent&&r.parent.children.delete(r.name)}has(e){return this.getNode(this.normalizeUri(e),!1)?.element!==void 0}hasNode(e){return this.getNode(this.normalizeUri(e),!1)!==void 0}find(e){return this.getNode(this.normalizeUri(e),!1)?.element}findNode(e){let r=this.normalizeUri(e),n=this.getNode(r,!1);if(n)return{name:n.name,uri:je.joinPath(tt.parse(r),n.name).toString(),element:n.element}}findChildren(e){let r=this.normalizeUri(e),n=this.getNode(r,!1);return n?Array.from(n.children.values()).map(i=>({name:i.name,uri:je.joinPath(tt.parse(r),i.name).toString(),element:i.element})):[]}all(){return this.collectValues(this.root)}findAll(e){let r=this.getNode(je.normalize(e),!1);return r?this.collectValues(r):[]}getNode(e,r){let n=e.split("/");e.charAt(e.length-1)==="/"&&n.pop();let i=this.root;for(let a of n){let o=i.children.get(a);if(!o)if(r)o={name:a,children:new Map,parent:i},i.children.set(a,o);else return;i=o}return i}collectValues(e){let r=[];e.element&&r.push(e.element);for(let n of e.children.values())r.push(...this.collectValues(n));return r}};var Z;(function(t){t[t.Changed=0]="Changed",t[t.Parsed=1]="Parsed",t[t.IndexedContent=2]="IndexedContent",t[t.ComputedScopes=3]="ComputedScopes",t[t.Linked=4]="Linked",t[t.IndexedReferences=5]="IndexedReferences",t[t.Validated=6]="Validated"})(Z||(Z={}));var Xa=class{static{s(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,r=W.CancellationToken.None){let n=await this.fileSystemProvider.readFile(e);return this.createAsync(e,n,r)}fromTextDocument(e,r,n){return r=r??tt.parse(e.uri),W.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromString(e,r,n){return W.CancellationToken.is(n)?this.createAsync(r,e,n):this.create(r,e,n)}fromModel(e,r){return this.create(r,{$model:e})}create(e,r,n){if(typeof r=="string"){let i=this.parse(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else if("$model"in r){let i={value:r.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(i,e)}else{let i=this.parse(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}async createAsync(e,r,n){if(typeof r=="string"){let i=await this.parseAsync(e,r,n);return this.createLangiumDocument(i,e,void 0,r)}else{let i=await this.parseAsync(e,r.getText(),n);return this.createLangiumDocument(i,e,r)}}createLangiumDocument(e,r,n,i){let a;if(n)a={parseResult:e,uri:r,state:Z.Parsed,references:[],textDocument:n};else{let o=this.createTextDocumentGetter(r,i);a={parseResult:e,uri:r,state:Z.Parsed,references:[],get textDocument(){return o()}}}return e.value.$document=a,a}async update(e,r){let n=e.parseResult.value.$cstNode?.root.fullText,i=this.textDocuments?.get(e.uri.toString()),a=i?i.getText():await this.fileSystemProvider.readFile(e.uri);if(i)Object.defineProperty(e,"textDocument",{value:i});else{let o=this.createTextDocumentGetter(e.uri,a);Object.defineProperty(e,"textDocument",{get:o})}return n!==a&&(e.parseResult=await this.parseAsync(e.uri,a,r),e.parseResult.value.$document=e),e.state=Z.Parsed,e}parse(e,r,n){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(r,n)}parseAsync(e,r,n){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(r,n)}createTextDocumentGetter(e,r){let n=this.serviceRegistry,i;return()=>i??(i=ms.create(e.toString(),n.getServices(e).LanguageMetaData.languageId,0,r??""))}},Ja=class{static{s(this,"DefaultLangiumDocuments")}constructor(e){this.documentTrie=new ys,this.services=e,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.documentBuilder=()=>e.workspace.DocumentBuilder}get all(){return te(this.documentTrie.all())}addDocument(e){let r=e.uri.toString();if(this.documentTrie.has(r))throw new Error(`A document with the URI '${r}' is already present.`);this.documentTrie.insert(r,e)}getDocument(e){let r=e.toString();return this.documentTrie.find(r)}getDocuments(e){let r=e.toString();return this.documentTrie.findAll(r)}async getOrCreateDocument(e,r){let n=this.getDocument(e);return n||(n=await this.langiumDocumentFactory.fromUri(e,r),this.addDocument(n),n)}createDocument(e,r,n){if(n)return this.langiumDocumentFactory.fromString(r,e,n).then(i=>(this.addDocument(i),i));{let i=this.langiumDocumentFactory.fromString(r,e);return this.addDocument(i),i}}hasDocument(e){return this.documentTrie.has(e.toString())}invalidateDocument(e){let r=e.toString(),n=this.documentTrie.find(r);return n&&this.documentBuilder().resetToState(n,Z.Changed),n}deleteDocument(e){let r=e.toString(),n=this.documentTrie.find(r);return n&&(n.state=Z.Changed,this.documentTrie.delete(r)),n}deleteDocuments(e){let r=e.toString(),n=this.documentTrie.findAll(r);for(let i of n)i.state=Z.Changed;return this.documentTrie.delete(r),n}};var fi=Symbol("RefResolving"),Qa=class{static{s(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}async link(e,r=W.CancellationToken.None){if(this.profiler?.isActive("linking")){let n=this.profiler.createTask("linking",this.languageId);n.start();try{for(let i of $t(e.parseResult.value))await De(r),on(i).forEach(a=>{let o=`${i.$type}:${a.property}`;n.startSubTask(o);try{this.doLink(a,e)}finally{n.stopSubTask(o)}})}finally{n.stop()}}else for(let n of $t(e.parseResult.value))await De(r),on(n).forEach(i=>this.doLink(i,e))}doLink(e,r){let n=e.reference;if("_ref"in n&&n._ref===void 0){n._ref=fi;try{let i=this.getCandidate(e);if(On(i))n._ref=i;else{n._nodeDescription=i;let a=this.loadAstNode(i);n._ref=a??this.createLinkingError(e,i)}}catch(i){console.error(`An error occurred while resolving reference to '${n.$refText}':`,i);let a=i.message??String(i);n._ref={info:e,message:`An error occurred while resolving reference to '${n.$refText}': ${a}`}}r.references.push(n)}else if("_items"in n&&n._items===void 0){n._items=fi;try{let i=this.getCandidates(e),a=[];if(On(i))n._linkingError=i;else for(let o of i){let c=this.loadAstNode(o);c&&a.push({ref:c,$nodeDescription:o})}n._items=a}catch(i){n._linkingError={info:e,message:`An error occurred while resolving reference to '${n.$refText}': ${i}`},n._items=[]}r.references.push(n)}}unlink(e){for(let r of e.references)"_ref"in r?(r._ref=void 0,delete r._nodeDescription):"_items"in r&&(r._items=void 0,delete r._linkingError);e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}getCandidates(e){let n=this.scopeProvider.getScope(e).getElements(e.reference.$refText).distinct(i=>`${i.documentUri}#${i.path}`).toArray();return n.length>0?n:this.createLinkingError(e)}buildReference(e,r,n,i){let a=this,o={$refNode:n,$refText:i,_ref:void 0,get ref(){if(Le(this._ref))return this._ref;if(gu(this._nodeDescription)){let c=a.loadAstNode(this._nodeDescription);this._ref=c??a.createLinkingError({reference:o,container:e,property:r},this._nodeDescription)}else if(this._ref===void 0){this._ref=fi;let c=Ci(e).$document,l=a.getLinkedNode({reference:o,container:e,property:r});if(l.error&&c&&c.state<Z.ComputedScopes)return this._ref=void 0;this._ref=l.node??l.error,this._nodeDescription=l.descr,c?.references.push(this)}else this._ref===fi&&a.throwCyclicReferenceError(e,r,i);return Le(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return On(this._ref)?this._ref:void 0}};return o}buildMultiReference(e,r,n,i){let a=this,o={$refNode:n,$refText:i,_items:void 0,get items(){if(Array.isArray(this._items))return this._items;if(this._items===void 0){this._items=fi;let c=Ci(e).$document,l=a.getCandidates({reference:o,container:e,property:r}),u=[];if(On(l))this._linkingError=l;else for(let d of l){let h=a.loadAstNode(d);h&&u.push({ref:h,$nodeDescription:d})}this._items=u,c?.references.push(this)}else this._items===fi&&a.throwCyclicReferenceError(e,r,i);return Array.isArray(this._items)?this._items:[]},get error(){if(this._linkingError)return this._linkingError;if(!(this.items.length>0))return this._linkingError=a.createLinkingError({reference:o,container:e,property:r})}};return o}throwCyclicReferenceError(e,r,n){throw new Error(`Cyclic reference resolution detected: ${this.astNodeLocator.getAstNodePath(e)}/${r} (symbol '${n}')`)}getLinkedNode(e){try{let r=this.getCandidate(e);if(On(r))return{error:r};let n=this.loadAstNode(r);return n?{node:n,descr:r}:{descr:r,error:this.createLinkingError(e,r)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);let n=r.message??String(r);return{error:{info:e,message:`An error occurred while resolving reference to '${e.reference.$refText}': ${n}`}}}}loadAstNode(e){if(e.node)return e.node;let r=this.langiumDocuments().getDocument(e.documentUri);if(r)return this.astNodeLocator.getAstNode(r.parseResult.value,e.path)}createLinkingError(e,r){let n=Ci(e.container).$document;n&&n.state<Z.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);let i=this.reflection.getReferenceType(e);return{info:e,message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:r}}};function sy(t){return typeof t.name=="string"}s(sy,"isNamed");var Za=class{static{s(this,"DefaultNameProvider")}getName(e){if(sy(e))return e.name}getNameNode(e){return pa(e.$cstNode,"name")}};var eo=class{static{s(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator,this.documents=e.shared.workspace.LangiumDocuments,this.hasMultiReference=$t(e.Grammar).some(r=>ar(r)&&r.isMulti)}findDeclarations(e){if(e){let r=nf(e),n=e.astNode;if(r&&n){let i=n[r.feature];if(Ze(i)||Gt(i))return qo(i);if(Array.isArray(i)){for(let a of i)if((Ze(a)||Gt(a))&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return qo(a)}}if(n){let i=this.nameProvider.getNameNode(n);if(i&&(i===e||Uu(e,i)))return this.getSelfNodes(n)}}return[]}getSelfNodes(e){if(this.hasMultiReference){let r=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e)),n=this.getNodeFromReferenceDescription(r.head());if(n){for(let i of on(n))if(Gt(i.reference)&&i.reference.items.some(a=>a.ref===e))return i.reference.items.map(a=>a.ref)}return[e]}else return[e]}getNodeFromReferenceDescription(e){if(!e)return;let r=this.documents.getDocument(e.sourceUri);if(r)return this.nodeLocator.getAstNode(r.parseResult.value,e.sourcePath)}findDeclarationNodes(e){let r=this.findDeclarations(e),n=[];for(let i of r){let a=this.nameProvider.getNameNode(i)??i.$cstNode;a&&n.push(a)}return n}findReferences(e,r){let n=[];r.includeDeclaration&&n.push(...this.getSelfReferences(e));let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return r.documentUri&&(i=i.filter(a=>je.equals(a.sourceUri,r.documentUri))),n.push(...i),te(n)}getSelfReferences(e){let r=this.getSelfNodes(e),n=[];for(let i of r){let a=this.nameProvider.getNameNode(i);if(a){let o=mt(i),c=this.nodeLocator.getAstNodePath(i);n.push({sourceUri:o.uri,sourcePath:c,targetUri:o.uri,targetPath:c,segment:Kn(a),local:!0})}}return n}};var yt=class{static{s(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[r,n]of e)this.add(r,n)}get size(){return Si.sum(te(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,r){if(r===void 0)return this.map.delete(e);{let n=this.map.get(e);if(n){let i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(e):n.splice(i,1),!0}return!1}}get(e){return this.map.get(e)??[]}getStream(e){let r=this.map.get(e);return r?te(r):an}has(e,r){if(r===void 0)return this.map.has(e);{let n=this.map.get(e);return n?n.indexOf(r)>=0:!1}}add(e,r){return this.map.has(e)?this.map.get(e).push(r):this.map.set(e,[r]),this}addAll(e,r){return this.map.has(e)?this.map.get(e).push(...r):this.map.set(e,Array.from(r)),this}forEach(e){this.map.forEach((r,n)=>r.forEach(i=>e(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return te(this.map.entries()).flatMap(([e,r])=>r.map(n=>[e,n]))}keys(){return te(this.map.keys())}values(){return te(this.map.values()).flat()}entriesGroupedByKey(){return te(this.map.entries())}},di=class{static{s(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[r,n]of e)this.set(r,n)}clear(){this.map.clear(),this.inverse.clear()}set(e,r){return this.map.set(e,r),this.inverse.set(r,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let r=this.map.get(e);return r!==void 0?(this.map.delete(e),this.inverse.delete(r),!0):!1}};var to=class{static{s(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async collectExportedSymbols(e,r=W.CancellationToken.None){return this.collectExportedSymbolsForNode(e.parseResult.value,e,void 0,r)}async collectExportedSymbolsForNode(e,r,n=Xs,i=W.CancellationToken.None){let a=[];this.addExportedSymbol(e,a,r);for(let o of n(e))await De(i),this.addExportedSymbol(o,a,r);return a}addExportedSymbol(e,r,n){let i=this.nameProvider.getName(e);i&&r.push(this.descriptions.createDescription(e,i,n))}async collectLocalSymbols(e,r=W.CancellationToken.None){let n=e.parseResult.value,i=new yt;for(let a of nr(n))await De(r),this.addLocalSymbol(a,e,i);return i}addLocalSymbol(e,r,n){let i=e.$container;if(i){let a=this.nameProvider.getName(e);a&&n.add(i,this.descriptions.createDescription(e,a,r))}}};var Ts=class{static{s(this,"StreamScope")}constructor(e,r,n){this.elements=e,this.outerScope=r,this.caseInsensitive=n?.caseInsensitive??!1,this.concatOuterScope=n?.concatOuterScope??!0}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.caseInsensitive?this.elements.find(i=>i.name.toLowerCase()===r):this.elements.find(i=>i.name===e);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getElements(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.caseInsensitive?this.elements.filter(i=>i.name.toLowerCase()===r):this.elements.filter(i=>i.name===e);return(this.concatOuterScope||n.isEmpty())&&this.outerScope?n.concat(this.outerScope.getElements(e)):n}},np=class{static{s(this,"MapScope")}constructor(e,r,n){this.elements=new Map,this.caseInsensitive=n?.caseInsensitive??!1,this.concatOuterScope=n?.concatOuterScope??!0;for(let i of e){let a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(a,i)}this.outerScope=r}getElement(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getElements(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r),i=n?[n]:[];return(this.concatOuterScope||i.length>0)&&this.outerScope?te(i).concat(this.outerScope.getElements(e)):te(i)}getAllElements(){let e=te(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},ro=class{static{s(this,"MultiMapScope")}constructor(e,r,n){this.elements=new yt,this.caseInsensitive=n?.caseInsensitive??!1,this.concatOuterScope=n?.concatOuterScope??!0;for(let i of e){let a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.add(a,i)}this.outerScope=r}getElement(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r)[0];if(n)return n;if(this.outerScope)return this.outerScope.getElement(e)}getElements(e){let r=this.caseInsensitive?e.toLowerCase():e,n=this.elements.get(r);return(this.concatOuterScope||n.length===0)&&this.outerScope?te(n).concat(this.outerScope.getElements(e)):te(n)}getAllElements(){let e=te(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},QA={getElement(){},getElements(){return an},getAllElements(){return an}};var Rs=class{static{s(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},no=class extends Rs{static{s(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,r){this.throwIfDisposed(),this.cache.set(e,r)}get(e,r){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(r){let n=r();return this.cache.set(e,n),n}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},pi=class extends Rs{static{s(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(r=>r)}has(e,r){return this.throwIfDisposed(),this.cacheForContext(e).has(r)}set(e,r,n){this.throwIfDisposed(),this.cacheForContext(e).set(r,n)}get(e,r,n){this.throwIfDisposed();let i=this.cacheForContext(e);if(i.has(r))return i.get(r);if(n){let a=n();return i.set(r,a),a}else return}delete(e,r){return this.throwIfDisposed(),this.cacheForContext(e).delete(r)}clear(e){if(this.throwIfDisposed(),e){let r=this.converter(e);this.cache.delete(r)}else this.cache.clear()}cacheForContext(e){let r=this.converter(e),n=this.cache.get(r);return n||(n=new Map,this.cache.set(r,n)),n}},gl=class extends pi{static{s(this,"DocumentCache")}constructor(e,r){super(n=>n.toString()),r?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(r,n=>{this.clear(n.uri.toString())})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((n,i)=>{for(let a of i)this.clear(a)}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((n,i)=>{let a=n.concat(i);for(let o of a)this.clear(o)}))}},xs=class extends no{static{s(this,"WorkspaceCache")}constructor(e,r){super(),r?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(r,()=>{this.clear()})),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((n,i)=>{i.length>0&&this.clear()}))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}};var io=class{static{s(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new xs(e.shared)}getScope(e){let r=[],n=this.reflection.getReferenceType(e),i=mt(e.container).localSymbols;if(i){let o=e.container;do i.has(o)&&r.push(i.getStream(o).filter(c=>this.reflection.isSubtype(c.type,n))),o=o.$container;while(o)}let a=this.getGlobalScope(n,e);for(let o=r.length-1;o>=0;o--)a=this.createScope(r[o],a);return a}createScope(e,r,n){return new Ts(te(e),r,n)}createScopeForNodes(e,r,n){let i=te(e).map(a=>{let o=this.nameProvider.getName(a);if(o)return this.descriptions.createDescription(a,o)}).nonNullable();return new Ts(i,r,n)}getGlobalScope(e,r){return this.globalScopeCache.get(e,()=>new ro(this.indexManager.allElements(e)))}};function ip(t){return typeof t.$comment=="string"}s(ip,"isAstNodeWithComment");function ay(t){return typeof t=="object"&&!!t&&("$ref"in t||"$error"in t)}s(ay,"isIntermediateReference");var so=class{static{s(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,r){let n=r??{},i=r?.replacer,a=s((c,l)=>this.replacer(c,l,n),"defaultReplacer"),o=i?(c,l)=>i(c,l,a):a;try{return this.currentDocument=mt(e),JSON.stringify(e,o,r?.space)}finally{this.currentDocument=void 0}}deserialize(e,r){let n=r??{},i=JSON.parse(e);return this.linkNode(i,i,n),i}replacer(e,r,{refText:n,sourceText:i,textRegions:a,comments:o,uriConverter:c}){if(!this.ignoreProperties.has(e))if(Ze(r)){let l=r.ref,u=n?r.$refText:void 0;if(l){let d=mt(l),h="";this.currentDocument&&this.currentDocument!==d&&(c?h=c(d.uri,l):h=d.uri.toString());let m=this.astNodeLocator.getAstNodePath(l);return{$ref:`${h}#${m}`,$refText:u}}else return{$error:r.error?.message??"Could not resolve reference",$refText:u}}else if(Gt(r)){let l=n?r.$refText:void 0,u=[];for(let d of r.items){let h=d.ref,m=mt(d.ref),y="";this.currentDocument&&this.currentDocument!==m&&(c?y=c(m.uri,h):y=m.uri.toString());let C=this.astNodeLocator.getAstNodePath(h);u.push(`${y}#${C}`)}return{$refs:u,$refText:l}}else if(Le(r)){let l;if(a&&(l=this.addAstNodeRegionWithAssignmentsTo({...r}),(!e||r.$document)&&l?.$textRegion&&(l.$textRegion.documentURI=this.currentDocument?.uri.toString())),i&&!e&&(l??(l={...r}),l.$sourceText=r.$cstNode?.text),o){l??(l={...r});let u=this.commentProvider.getComment(r);u&&(l.$comment=u.replace(/\r/g,""))}return l??r}else return r}addAstNodeRegionWithAssignmentsTo(e){let r=s(n=>({offset:n.offset,end:n.end,length:n.length,range:n.range}),"createDocumentSegment");if(e.$cstNode){let n=e.$textRegion=r(e.$cstNode),i=n.assignments={};return Object.keys(e).filter(a=>!a.startsWith("$")).forEach(a=>{let o=Zu(e.$cstNode,a).map(r);o.length!==0&&(i[a]=o)}),e}}linkNode(e,r,n,i,a,o){for(let[l,u]of Object.entries(e))if(Array.isArray(u))for(let d=0;d<u.length;d++){let h=u[d];ay(h)?u[d]=this.reviveReference(e,l,r,h,n):Le(h)&&this.linkNode(h,r,n,e,l,d)}else ay(u)?e[l]=this.reviveReference(e,l,r,u,n):Le(u)&&this.linkNode(u,r,n,e,l);let c=e;c.$container=i,c.$containerProperty=a,c.$containerIndex=o}reviveReference(e,r,n,i,a){let o=i.$refText,c=i.$error,l;if(i.$ref){let u=this.getRefNode(n,i.$ref,a.uriConverter);if(Le(u))return o||(o=this.nameProvider.getName(u)),{$refText:o??"",ref:u};c=u}else if(i.$refs){let u=[];for(let d of i.$refs){let h=this.getRefNode(n,d,a.uriConverter);Le(h)&&u.push({ref:h})}if(u.length===0)l={$refText:o??"",items:u},c??(c="Could not resolve multi-reference");else return{$refText:o??"",items:u}}if(c)return l??(l={$refText:o??"",ref:void 0}),l.error={info:{container:e,property:r,reference:l},message:c},l}getRefNode(e,r,n){try{let i=r.indexOf("#");if(i===0){let l=this.astNodeLocator.getAstNode(e,r.substring(1));return l||"Could not resolve path: "+r}if(i<0){let l=n?n(r):tt.parse(r),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+r}let a=n?n(r.substring(0,i)):tt.parse(r.substring(0,i)),o=this.langiumDocuments.getDocument(a);if(!o)return"Could not find document for URI: "+r;if(i===r.length-1)return o.parseResult.value;let c=this.astNodeLocator.getAstNode(o.parseResult.value,r.substring(i+1));return c||"Could not resolve URI: "+r}catch(i){return String(i)}}};var ao=class{static{s(this,"DefaultServiceRegistry")}get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.fileNameMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){let r=e.LanguageMetaData;for(let n of r.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileExtensionMap.set(n,e);if(r.fileNames)for(let n of r.fileNames)this.fileNameMap.has(n)&&console.warn(`The file name ${n} is used by multiple languages. It is now assigned to '${r.languageId}'.`),this.fileNameMap.set(n,e);this.languageIdMap.set(r.languageId,e)}getServices(e){if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let r=this.textDocuments?.get(e)?.languageId;if(r!==void 0){let o=this.languageIdMap.get(r);if(o)return o}let n=je.extname(e),i=je.basename(e),a=this.fileNameMap.get(i)??this.fileExtensionMap.get(n);if(!a)throw r?new Error(`The service registry contains no services for the extension '${n}' for language '${r}'.`):new Error(`The service registry contains no services for the extension '${n}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}};function hi(t){return{code:t}}s(hi,"diagnosticData");var yl;(function(t){t.defaults=["fast","slow","built-in"],t.all=t.defaults})(yl||(yl={}));var oo=class{static{s(this,"ValidationRegistry")}constructor(e){this.entries=new yt,this.knownCategories=new Set(yl.defaults),this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,r=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");this.knownCategories.add(n);for(let[i,a]of Object.entries(e)){let o=a;if(Array.isArray(o))for(let c of o){let l={check:this.wrapValidationException(c,r),category:n};this.addEntry(i,l)}else if(typeof o=="function"){let c={check:this.wrapValidationException(o,r),category:n};this.addEntry(i,c)}else xr(o)}}wrapValidationException(e,r){return async(n,i,a)=>{await this.handleException(()=>e.call(r,n,i,a),"An error occurred during validation",i,n)}}async handleException(e,r,n,i){try{await e()}catch(a){if(kr(a))throw a;console.error(`${r}:`,a),a instanceof Error&&a.stack&&console.error(a.stack);let o=a instanceof Error?a.message:String(a);n("error",`${r}: ${o}`,{node:i})}}addEntry(e,r){if(e==="AstNode"){this.entries.add("AstNode",r);return}for(let n of this.reflection.getAllSubTypes(e))this.entries.add(n,r)}getChecks(e,r){let n=te(this.entries.get(e)).concat(this.entries.get("AstNode"));return r&&(n=n.filter(i=>r.includes(i.category))),n.map(i=>i.check)}registerBeforeDocument(e,r=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",r))}registerAfterDocument(e,r=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",r))}wrapPreparationException(e,r,n){return async(i,a,o,c)=>{await this.handleException(()=>e.call(n,i,a,o,c),r,a,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}getAllValidationCategories(e){return this.knownCategories}};var oy=Object.freeze({validateNode:!0,validateChildren:!0}),co=class{static{s(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData,this.profiler=e.shared.profilers.LangiumProfiler,this.languageId=e.LanguageMetaData.languageId}async validateDocument(e,r={},n=W.CancellationToken.None){let i=e.parseResult,a=[];if(await De(n),(!r.categories||r.categories.includes("built-in"))&&(this.processLexingErrors(i,a,r),r.stopAfterLexingErrors&&a.some(o=>o.data?.code===Yt.LexingError)||(this.processParsingErrors(i,a,r),r.stopAfterParsingErrors&&a.some(o=>o.data?.code===Yt.ParsingError))||(this.processLinkingErrors(e,a,r),r.stopAfterLinkingErrors&&a.some(o=>o.data?.code===Yt.LinkingError))))return a;try{a.push(...await this.validateAst(i.value,r,n))}catch(o){if(kr(o))throw o;console.error("An error occurred during validation:",o)}return await De(n),a}processLexingErrors(e,r,n){let i=[...e.lexerErrors,...e.lexerReport?.diagnostics??[]];for(let a of i){let o=a.severity??"error",c={severity:Tl(o),range:{start:{line:a.line-1,character:a.column-1},end:{line:a.line-1,character:a.column+a.length-1}},message:a.message,data:ly(o),source:this.getSource()};r.push(c)}}processParsingErrors(e,r,n){for(let i of e.parserErrors){let a;if(isNaN(i.token.startOffset)){if("previousToken"in i){let o=i.previousToken;if(isNaN(o.startOffset)){let c={line:0,character:0};a={start:c,end:c}}else{let c={line:o.endLine-1,character:o.endColumn};a={start:c,end:c}}}}else a=Di(i.token);if(a){let o={severity:Tl("error"),range:a,message:i.message,data:hi(Yt.ParsingError),source:this.getSource()};r.push(o)}}}processLinkingErrors(e,r,n){for(let i of e.references){let a=i.error;if(a){let o={node:a.info.container,range:i.$refNode?.range,property:a.info.property,index:a.info.index,data:{code:Yt.LinkingError,containerType:a.info.container.$type,property:a.info.property,refText:a.info.reference.$refText}};r.push(this.toDiagnostic("error",a.message,o))}}}async validateAst(e,r,n=W.CancellationToken.None){let i=[],a=s((o,c,l)=>{i.push(this.toDiagnostic(o,c,l))},"acceptor");return await this.validateAstBefore(e,r,a,n),await this.validateAstNodes(e,r,a,n),await this.validateAstAfter(e,r,a,n),i}async validateAstBefore(e,r,n,i=W.CancellationToken.None){let a=this.validationRegistry.checksBefore;for(let o of a)await De(i),await o(e,n,r.categories??[],i)}async validateAstNodes(e,r,n,i=W.CancellationToken.None){if(this.profiler?.isActive("validating")){let a=this.profiler.createTask("validating",this.languageId);a.start();try{let o=$t(e).iterator();for(let c of o){a.startSubTask(c.$type);let l=this.validateSingleNodeOptions(c,r);if(l.validateNode)try{let u=this.validationRegistry.getChecks(c.$type,r.categories);for(let d of u)await d(c,n,i)}finally{a.stopSubTask(c.$type)}l.validateChildren||o.prune()}}finally{a.stop()}}else{let a=$t(e).iterator();for(let o of a){await De(i);let c=this.validateSingleNodeOptions(o,r);if(c.validateNode){let l=this.validationRegistry.getChecks(o.$type,r.categories);for(let u of l)await u(o,n,i)}c.validateChildren||a.prune()}}}validateSingleNodeOptions(e,r){return oy}async validateAstAfter(e,r,n,i=W.CancellationToken.None){let a=this.validationRegistry.checksAfter;for(let o of a)await De(i),await o(e,n,r.categories??[],i)}toDiagnostic(e,r,n){return{message:r,range:cy(n),severity:Tl(e),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};function cy(t){if(t.range)return t.range;let e;return typeof t.property=="string"?e=pa(t.node.$cstNode,t.property,t.index):typeof t.keyword=="string"&&(e=tf(t.node.$cstNode,t.keyword,t.index)),e??(e=t.node.$cstNode),e?e.range:{start:{line:0,character:0},end:{line:0,character:0}}}s(cy,"getDiagnosticRange");function Tl(t){switch(t){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+t)}}s(Tl,"toDiagnosticSeverity");function ly(t){switch(t){case"error":return hi(Yt.LexingError);case"warning":return hi(Yt.LexingWarning);case"info":return hi(Yt.LexingInfo);case"hint":return hi(Yt.LexingHint);default:throw new Error("Invalid diagnostic severity: "+t)}}s(ly,"toDiagnosticData");var Yt;(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Yt||(Yt={}));var lo=class{static{s(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,r,n){let i=n??mt(e);r??(r=this.nameProvider.getName(e));let a=this.astNodeLocator.getAstNodePath(e);if(!r)throw new Error(`Node at path ${a} has no name.`);let o,c=s(()=>o??(o=Kn(this.nameProvider.getNameNode(e)??e.$cstNode)),"nameSegmentGetter");return{node:e,name:r,get nameSegment(){return c()},selectionSegment:Kn(e.$cstNode),type:e.$type,documentUri:i.uri,path:a}}},uo=class{static{s(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,r=W.CancellationToken.None){let n=[],i=e.parseResult.value;for(let a of $t(i))await De(r),on(a).forEach(o=>{o.reference.error||n.push(...this.createInfoDescriptions(o))});return n}createInfoDescriptions(e){let r=e.reference;if(r.error||!r.$refNode)return[];let n=[];Ze(r)&&r.$nodeDescription?n=[r.$nodeDescription]:Gt(r)&&(n=r.items.map(l=>l.$nodeDescription).filter(l=>l!==void 0));let i=mt(e.container).uri,a=this.nodeLocator.getAstNodePath(e.container),o=[],c=Kn(r.$refNode);for(let l of n)o.push({sourceUri:i,sourcePath:a,targetUri:l.documentUri,targetPath:l.path,segment:c,local:je.equals(l.documentUri,i)});return o}};var fo=class{static{s(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let r=this.getAstNodePath(e.$container),n=this.getPathSegment(e);return r+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:e,$containerIndex:r}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return r!==void 0?e+this.indexSeparator+r:e}getAstNode(e,r){return r.split(this.segmentSeparator).reduce((i,a)=>{if(!i||a.length===0)return i;let o=a.indexOf(this.indexSeparator);if(o>0){let c=a.substring(0,o),l=parseInt(a.substring(o+1));return i[c]?.[l]}return i[a]},e)}};var ke={};ae(ke,du(ui(),1));var po=class{static{s(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new wt,this.onConfigurationSectionUpdateEmitter=new ke.Emitter,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){this.workspaceConfig=e.capabilities.workspace?.configuration??!1}async initialized(e){if(this.workspaceConfig){if(e.register){let r=this.serviceRegistry.all;e.register({section:r.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let r=this.serviceRegistry.all.map(i=>({section:this.toSectionName(i.LanguageMetaData.languageId)})),n=await e.fetchConfiguration(r);r.forEach((i,a)=>{this.updateSectionConfiguration(i.section,n[a])})}}this._ready.resolve()}updateConfiguration(e){typeof e.settings!="object"||e.settings===null||Object.entries(e.settings).forEach(([r,n])=>{this.updateSectionConfiguration(r,n),this.onConfigurationSectionUpdateEmitter.fire({section:r,configuration:n})})}updateSectionConfiguration(e,r){this.settings[e]=r}async getConfiguration(e,r){await this.ready;let n=this.toSectionName(e);if(this.settings[n])return this.settings[n][r]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}};var Ds=du(bx(),1);var In;(function(t){function e(r){return{dispose:s(async()=>await r(),"dispose")}}s(e,"create"),t.create=e})(In||(In={}));var Ao=class{static{s(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new yt,this.documentPhaseListeners=new yt,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Z.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.fileSystemProvider=e.workspace.FileSystemProvider,this.workspaceManager=()=>e.workspace.WorkspaceManager,this.serviceRegistry=e.ServiceRegistry}async build(e,r={},n=W.CancellationToken.None){for(let i of e){let a=i.uri.toString();if(i.state===Z.Validated){if(typeof r.validation=="boolean"&&r.validation)this.resetToState(i,Z.IndexedReferences);else if(typeof r.validation=="object"){let o=this.findMissingValidationCategories(i,r);o.length>0&&(this.buildState.set(a,{completed:!1,options:{validation:{categories:o}},result:this.buildState.get(a)?.result}),i.state=Z.IndexedReferences)}}else this.buildState.delete(a)}this.currentState=Z.Changed,await this.emitUpdate(e.map(i=>i.uri),[]),await this.buildDocuments(e,r,n)}async update(e,r,n=W.CancellationToken.None){this.currentState=Z.Changed;let i=[];for(let l of r){let u=this.langiumDocuments.deleteDocuments(l);for(let d of u)i.push(d.uri),this.cleanUpDeleted(d)}let a=(await Promise.all(e.map(l=>this.findChangedUris(l)))).flat();for(let l of a){let u=this.langiumDocuments.getDocument(l);u===void 0&&(u=this.langiumDocumentFactory.fromModel({$type:"INVALID"},l),u.state=Z.Changed,this.langiumDocuments.addDocument(u)),this.resetToState(u,Z.Changed)}let o=te(a).concat(i).map(l=>l.toString()).toSet();this.langiumDocuments.all.filter(l=>!o.has(l.uri.toString())&&this.shouldRelink(l,o)).forEach(l=>this.resetToState(l,Z.ComputedScopes)),await this.emitUpdate(a,i),await De(n);let c=this.sortDocuments(this.langiumDocuments.all.filter(l=>l.state<Z.Validated||!this.buildState.get(l.uri.toString())?.completed||this.resultsAreIncomplete(l,this.updateBuildOptions)).toArray());await this.buildDocuments(c,this.updateBuildOptions,n)}resultsAreIncomplete(e,r){return this.findMissingValidationCategories(e,r).length>=1}findMissingValidationCategories(e,r){let n=this.buildState.get(e.uri.toString()),i=this.serviceRegistry.getServices(e.uri).validation.ValidationRegistry.getAllValidationCategories(e),a=n?.result?.validationChecks?new Set(n?.result?.validationChecks):n?.completed?i:new Set,o=r===void 0||r.validation===!0?i:typeof r.validation=="object"?r.validation.categories??i:[];return te(o).filter(c=>!a.has(c)).toArray()}async findChangedUris(e){if(this.langiumDocuments.getDocument(e)??this.textDocuments?.get(e))return[e];try{let n=await this.fileSystemProvider.stat(e);if(n.isDirectory)return await this.workspaceManager().searchFolder(e);if(this.workspaceManager().shouldIncludeEntry(n))return[e]}catch{}return[]}async emitUpdate(e,r){await Promise.all(this.updateListeners.map(n=>n(e,r)))}sortDocuments(e){let r=0,n=e.length-1;for(;r<n;){for(;r<e.length&&this.hasTextDocument(e[r]);)r++;for(;n>=0&&!this.hasTextDocument(e[n]);)n--;r<n&&([e[r],e[n]]=[e[n],e[r]])}return e}hasTextDocument(e){return!!this.textDocuments?.get(e.uri)}shouldRelink(e,r){return e.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(e,r)}onUpdate(e){return this.updateListeners.push(e),In.create(()=>{let r=this.updateListeners.indexOf(e);r>=0&&this.updateListeners.splice(r,1)})}resetToState(e,r){switch(r){case Z.Changed:case Z.Parsed:this.indexManager.removeContent(e.uri);case Z.IndexedContent:e.localSymbols=void 0;case Z.ComputedScopes:this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e);case Z.Linked:this.indexManager.removeReferences(e.uri);case Z.IndexedReferences:e.diagnostics=void 0,this.buildState.delete(e.uri.toString());case Z.Validated:}e.state>r&&(e.state=r)}cleanUpDeleted(e){this.buildState.delete(e.uri.toString()),this.indexManager.remove(e.uri),e.state=Z.Changed}async buildDocuments(e,r,n){this.prepareBuild(e,r),await this.runCancelable(e,Z.Parsed,n,o=>this.langiumDocumentFactory.update(o,n)),await this.runCancelable(e,Z.IndexedContent,n,o=>this.indexManager.updateContent(o,n)),await this.runCancelable(e,Z.ComputedScopes,n,async o=>{let c=this.serviceRegistry.getServices(o.uri).references.ScopeComputation;o.localSymbols=await c.collectLocalSymbols(o,n)});let i=e.filter(o=>this.shouldLink(o));await this.runCancelable(i,Z.Linked,n,o=>this.serviceRegistry.getServices(o.uri).references.Linker.link(o,n)),await this.runCancelable(i,Z.IndexedReferences,n,o=>this.indexManager.updateReferences(o,n));let a=e.filter(o=>this.shouldValidate(o)?!0:(this.markAsCompleted(o),!1));await this.runCancelable(a,Z.Validated,n,async o=>{await this.validate(o,n),this.markAsCompleted(o)})}markAsCompleted(e){let r=this.buildState.get(e.uri.toString());r&&(r.completed=!0)}prepareBuild(e,r){for(let n of e){let i=n.uri.toString(),a=this.buildState.get(i);(!a||a.completed)&&this.buildState.set(i,{completed:!1,options:r,result:a?.result})}}async runCancelable(e,r,n,i){for(let o of e)o.state<r&&(await De(n),await i(o),o.state=r,await this.notifyDocumentPhase(o,r,n));let a=e.filter(o=>o.state===r);await this.notifyBuildPhase(a,r,n),this.currentState=r}onBuildPhase(e,r){return this.buildPhaseListeners.add(e,r),In.create(()=>{this.buildPhaseListeners.delete(e,r)})}onDocumentPhase(e,r){return this.documentPhaseListeners.add(e,r),In.create(()=>{this.documentPhaseListeners.delete(e,r)})}waitUntil(e,r,n){let i;return r&&"path"in r?i=r:n=r,n??(n=W.CancellationToken.None),i?this.awaitDocumentState(e,i,n):this.awaitBuilderState(e,n)}awaitDocumentState(e,r,n){let i=this.langiumDocuments.getDocument(r);if(i){if(i.state>=e)return Promise.resolve(r);if(n.isCancellationRequested)return Promise.reject(Ht);if(this.currentState>=e&&e>i.state)return Promise.reject(new Ds.ResponseError(Ds.LSPErrorCodes.RequestFailed,`Document state of ${r.toString()} is ${Z[i.state]}, requiring ${Z[e]}, but workspace state is already ${Z[this.currentState]}. Returning undefined.`))}else return Promise.reject(new Ds.ResponseError(Ds.LSPErrorCodes.ServerCancelled,`No document found for URI: ${r.toString()}`));return new Promise((a,o)=>{let c=this.onDocumentPhase(e,u=>{je.equals(u.uri,r)&&(c.dispose(),l.dispose(),a(u.uri))}),l=n.onCancellationRequested(()=>{c.dispose(),l.dispose(),o(Ht)})})}awaitBuilderState(e,r){return this.currentState>=e?Promise.resolve():r.isCancellationRequested?Promise.reject(Ht):new Promise((n,i)=>{let a=this.onBuildPhase(e,()=>{a.dispose(),o.dispose(),n()}),o=r.onCancellationRequested(()=>{a.dispose(),o.dispose(),i(Ht)})})}async notifyDocumentPhase(e,r,n){let a=this.documentPhaseListeners.get(r).slice();for(let o of a)try{await De(n),await o(e,n)}catch(c){if(!kr(c))throw c}}async notifyBuildPhase(e,r,n){if(e.length===0)return;let a=this.buildPhaseListeners.get(r).slice();for(let o of a)await De(n),await o(e,n)}shouldLink(e){return this.getBuildOptions(e).eagerLinking??!0}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,r){let n=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,i=this.getBuildOptions(e),a=typeof i.validation=="object"?{...i.validation}:{};a.categories=this.findMissingValidationCategories(e,i);let o=await n.validateDocument(e,a,r);e.diagnostics?e.diagnostics.push(...o):e.diagnostics=o;let c=this.buildState.get(e.uri.toString());c&&(c.result??(c.result={}),c.result.validationChecks?c.result.validationChecks=te(c.result.validationChecks).concat(a.categories).distinct().toArray():c.result.validationChecks=[...a.categories])}getBuildOptions(e){return this.buildState.get(e.uri.toString())?.options??{}}};var $o=class{static{s(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new pi,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,r){let n=mt(e).uri,i=[];return this.referenceIndex.forEach(a=>{a.forEach(o=>{je.equals(o.targetUri,n)&&o.targetPath===r&&i.push(o)})}),te(i)}allElements(e,r){let n=te(this.symbolIndex.keys());return r&&(n=n.filter(i=>!r||r.has(i))),n.map(i=>this.getFileDescriptions(i,e)).flat()}getFileDescriptions(e,r){return r?this.symbolByTypeIndex.get(e,r,()=>(this.symbolIndex.get(e)??[]).filter(a=>this.astReflection.isSubtype(a.type,r))):this.symbolIndex.get(e)??[]}remove(e){this.removeContent(e),this.removeReferences(e)}removeContent(e){let r=e.toString();this.symbolIndex.delete(r),this.symbolByTypeIndex.clear(r)}removeReferences(e){let r=e.toString();this.referenceIndex.delete(r)}async updateContent(e,r=W.CancellationToken.None){let i=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.collectExportedSymbols(e,r),a=e.uri.toString();this.symbolIndex.set(a,i),this.symbolByTypeIndex.clear(a)}async updateReferences(e,r=W.CancellationToken.None){let i=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,r);this.referenceIndex.set(e.uri.toString(),i)}isAffected(e,r){let n=this.referenceIndex.get(e.uri.toString());return n?n.some(i=>!i.local&&r.has(i.targetUri.toString())):!1}};var So=class{static{s(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new wt,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){this.folders=e.workspaceFolders??void 0}initialized(e){return this.mutex.write(r=>this.initializeWorkspace(this.folders??[],r))}async initializeWorkspace(e,r=W.CancellationToken.None){let n=await this.performStartup(e);await De(r),await this.documentBuilder.build(n,this.initialBuildOptions,r)}async performStartup(e){let r=[],n=s(o=>{r.push(o),this.langiumDocuments.hasDocument(o.uri)||this.langiumDocuments.addDocument(o)},"collector");await this.loadAdditionalDocuments(e,n);let i=[];await Promise.all(e.map(o=>this.getRootFolder(o)).map(async o=>this.traverseFolder(o,i)));let a=te(i).distinct(o=>o.toString()).filter(o=>!this.langiumDocuments.hasDocument(o));return await this.loadWorkspaceDocuments(a,n),this._ready.resolve(),r}async loadWorkspaceDocuments(e,r){await Promise.all(e.map(async n=>{let i=await this.langiumDocuments.getOrCreateDocument(n);r(i)}))}loadAdditionalDocuments(e,r){return Promise.resolve()}getRootFolder(e){return tt.parse(e.uri)}async traverseFolder(e,r){try{let n=await this.fileSystemProvider.readDirectory(e);await Promise.all(n.map(async i=>{this.shouldIncludeEntry(i)&&(i.isDirectory?await this.traverseFolder(i.uri,r):i.isFile&&r.push(i.uri))}))}catch(n){console.error("Failure to read directory content of "+e.toString(!0),n)}}async searchFolder(e){let r=[];return await this.traverseFolder(e,r),r}shouldIncludeEntry(e){let r=je.basename(e.uri);return r.startsWith(".")?!1:e.isDirectory?r!=="node_modules"&&r!=="out":e.isFile?this.serviceRegistry.hasServices(e.uri):!1}};var ko=class{static{s(this,"DefaultLexerErrorMessageProvider")}buildUnexpectedCharactersMessage(e,r,n,i,a){return Vi.buildUnexpectedCharactersMessage(e,r,n,i,a)}buildUnableToPopLexerModeMessage(e){return Vi.buildUnableToPopLexerModeMessage(e)}},Xl={mode:"full"},Ti=class{static{s(this,"DefaultLexer")}constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let r=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(r);let n=$h(r)?Object.values(r):r,i=e.LanguageMetaData.mode==="production";this.chevrotainLexer=new we(n,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,r=Xl){let n=this.chevrotainLexer.tokenize(e);return{tokens:n.tokens,errors:n.errors,hidden:n.groups.hidden??[],report:this.tokenBuilder.flushLexingReport?.(e)}}toTokenTypeDictionary(e){if($h(e))return e;let r=Sh(e)?Object.values(e.modes).flat():e,n={};return r.forEach(i=>n[i.name]=i),n}};function Jl(t){return Array.isArray(t)&&(t.length===0||"name"in t[0])}s(Jl,"isTokenTypeArray");function Sh(t){return t&&"modes"in t&&"defaultMode"in t}s(Sh,"isIMultiModeLexerDefinition");function $h(t){return!Jl(t)&&!Sh(t)}s($h,"isTokenTypeDictionary");ls();function Nh(t,e,r){let n,i;typeof t=="string"?(i=e,n=r):(i=t.range.start,n=e),i||(i=ce.create(0,0));let a=Lx(t),o=Ih(n),c=U$({lines:a,position:i,options:o});return W$({index:0,tokens:c,position:i})}s(Nh,"parseJSDoc");function wh(t,e){let r=Ih(e),n=Lx(t);if(n.length===0)return!1;let i=n[0],a=n[n.length-1],o=r.start,c=r.end;return!!o?.exec(i)&&!!c?.exec(a)}s(wh,"isJSDoc");function Lx(t){let e="";return typeof t=="string"?e=t:e=t.text,e.split(Vu)}s(Lx,"getLines");var Px=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,G$=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function U$(t){let e=[],r=t.position.line,n=t.position.character;for(let i=0;i<t.lines.length;i++){let a=i===0,o=i===t.lines.length-1,c=t.lines[i],l=0;if(a&&t.options.start){let d=t.options.start?.exec(c);d&&(l=d.index+d[0].length)}else{let d=t.options.line?.exec(c);d&&(l=d.index+d[0].length)}if(o){let d=t.options.end?.exec(c);d&&(c=c.substring(0,d.index))}if(c=c.substring(0,B$(c)),Ch(c,l)>=c.length){if(e.length>0){let d=ce.create(r,n);e.push({type:"break",content:"",range:ie.create(d,d)})}}else{Px.lastIndex=l;let d=Px.exec(c);if(d){let h=d[0],m=d[1],y=ce.create(r,n+l),C=ce.create(r,n+l+h.length);e.push({type:"tag",content:m,range:ie.create(y,C)}),l+=h.length,l=Ch(c,l)}if(l<c.length){let h=c.substring(l),m=Array.from(h.matchAll(G$));e.push(...q$(m,h,r,n+l))}}r++,n=0}return e.length>0&&e[e.length-1].type==="break"?e.slice(0,-1):e}s(U$,"tokenize");function q$(t,e,r,n){let i=[];if(t.length===0){let a=ce.create(r,n),o=ce.create(r,n+e.length);i.push({type:"text",content:e,range:ie.create(a,o)})}else{let a=0;for(let c of t){let l=c.index,u=e.substring(a,l);u.length>0&&i.push({type:"text",content:e.substring(a,l),range:ie.create(ce.create(r,a+n),ce.create(r,l+n))});let d=u.length+1,h=c[1];if(i.push({type:"inline-tag",content:h,range:ie.create(ce.create(r,a+d+n),ce.create(r,a+d+h.length+n))}),d+=h.length,c.length===4){d+=c[2].length;let m=c[3];i.push({type:"text",content:m,range:ie.create(ce.create(r,a+d+n),ce.create(r,a+d+m.length+n))})}else i.push({type:"text",content:"",range:ie.create(ce.create(r,a+d+n),ce.create(r,a+d+n))});a=l+c[0].length}let o=e.substring(a);o.length>0&&i.push({type:"text",content:o,range:ie.create(ce.create(r,a+n),ce.create(r,a+n+o.length))})}return i}s(q$,"buildInlineTokens");var z$=/\S/,j$=/\s*$/;function Ch(t,e){let r=t.substring(e).match(z$);return r?e+r.index:t.length}s(Ch,"skipWhitespace");function B$(t){let e=t.match(j$);if(e&&typeof e.index=="number")return e.index}s(B$,"lastCharacter");function W$(t){let e=ce.create(t.position.line,t.position.character);if(t.tokens.length===0)return new Ql([],ie.create(e,e));let r=[];for(;t.index<t.tokens.length;){let a=V$(t,r[r.length-1]);a&&r.push(a)}let n=r[0]?.range.start??e,i=r[r.length-1]?.range.end??e;return new Ql(r,ie.create(n,i))}s(W$,"parseJSDocComment");function V$(t,e){let r=t.tokens[t.index];if(r.type==="tag")return Mx(t,!1);if(r.type==="text"||r.type==="inline-tag")return Dx(t);K$(r,e),t.index++}s(V$,"parseJSDocElement");function K$(t,e){if(e){let r=new Zl("",t.range);"inlines"in e?e.inlines.push(r):e.content.inlines.push(r)}}s(K$,"appendEmptyLine");function Dx(t){let e=t.tokens[t.index],r=e,n=e,i=[];for(;e&&e.type!=="break"&&e.type!=="tag";)i.push(H$(t)),n=e,e=t.tokens[t.index];return new No(i,ie.create(r.range.start,n.range.end))}s(Dx,"parseJSDocText");function H$(t){return t.tokens[t.index].type==="inline-tag"?Mx(t,!0):Fx(t)}s(H$,"parseJSDocInline");function Mx(t,e){let r=t.tokens[t.index++],n=r.content.substring(1);if(t.tokens[t.index]?.type==="text")if(e){let a=Fx(t);return new Co(n,new No([a],a.range),e,ie.create(r.range.start,a.range.end))}else{let a=Dx(t);return new Co(n,a,e,ie.create(r.range.start,a.range.end))}else{let a=r.range;return new Co(n,new No([],a),e,a)}}s(Mx,"parseJSDocTag");function Fx(t){let e=t.tokens[t.index++];return new Zl(e.content,e.range)}s(Fx,"parseJSDocLine");function Ih(t){if(!t)return Ih({start:"/**",end:"*/",line:"*"});let{start:e,end:r,line:n}=t;return{start:kh(e,!0),end:kh(r,!1),line:kh(n,!0)}}s(Ih,"normalizeOptions");function kh(t,e){if(typeof t=="string"||typeof t=="object"){let r=typeof t=="string"?mn(t):t.source;return e?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return t}s(kh,"normalizeOption");var Ql=class{static{s(this,"JSDocCommentImpl")}constructor(e,r){this.elements=e,this.range=r}getTag(e){return this.getAllTags().find(r=>r.name===e)}getTags(e){return this.getAllTags().filter(r=>r.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let r of this.elements)if(e.length===0)e=r.toString();else{let n=r.toString();e+=Ox(e)+n}return e.trim()}toMarkdown(e){let r="";for(let n of this.elements)if(r.length===0)r=n.toMarkdown(e);else{let i=n.toMarkdown(e);r+=Ox(r)+i}return r.trim()}},Co=class{static{s(this,"JSDocTagImpl")}constructor(e,r,n,i){this.name=e,this.content=r,this.inline=n,this.range=i}toString(){let e=`@${this.name}`,r=this.content.toString();return this.content.inlines.length===1?e=`${e} ${r}`:this.content.inlines.length>1&&(e=`${e}
${r}`),this.inline?`{${e}}`:e}toMarkdown(e){return e?.renderTag?.(this)??this.toMarkdownDefault(e)}toMarkdownDefault(e){let r=this.content.toMarkdown(e);if(this.inline){let a=Y$(this.name,r,e??{});if(typeof a=="string")return a}let n="";e?.tag==="italic"||e?.tag===void 0?n="*":e?.tag==="bold"?n="**":e?.tag==="bold-italic"&&(n="***");let i=`${n}@${this.name}${n}`;return this.content.inlines.length===1?i=`${i} \u2014 ${r}`:this.content.inlines.length>1&&(i=`${i}
${r}`),this.inline?`{${i}}`:i}};function Y$(t,e,r){if(t==="linkplain"||t==="linkcode"||t==="link"){let n=e.indexOf(" "),i=e;if(n>0){let o=Ch(e,n);i=e.substring(o),e=e.substring(0,n)}return(t==="linkcode"||t==="link"&&r.link==="code")&&(i=`\`${i}\``),r.renderLink?.(e,i)??X$(e,i)}}s(Y$,"renderInlineTag");function X$(t,e){try{return tt.parse(t,!0),`[${e}](${t})`}catch{return t}}s(X$,"renderLinkDefault");var No=class{static{s(this,"JSDocTextImpl")}constructor(e,r){this.inlines=e,this.range=r}toString(){let e="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];e+=n.toString(),i&&i.range.start.line>n.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let r="";for(let n=0;n<this.inlines.length;n++){let i=this.inlines[n],a=this.inlines[n+1];r+=i.toMarkdown(e),a&&a.range.start.line>i.range.start.line&&(r+=`
`)}return r}},Zl=class{static{s(this,"JSDocLineImpl")}constructor(e,r){this.text=e,this.range=r}toString(){return this.text}toMarkdown(){return this.text}};function Ox(t){return t.endsWith(`
`)?`
`:`

`}s(Ox,"fillNewlines");var wo=class{static{s(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let r=this.commentProvider.getComment(e);if(r&&wh(r))return Nh(r).toMarkdown({renderLink:s((i,a)=>this.documentationLinkRenderer(e,i,a),"renderLink"),renderTag:s(i=>this.documentationTagRenderer(e,i),"renderTag")})}documentationLinkRenderer(e,r,n){let i=this.findNameInLocalSymbols(e,r)??this.findNameInGlobalScope(e,r);if(i&&i.nameSegment){let a=i.nameSegment.range.start.line+1,o=i.nameSegment.range.start.character+1,c=i.documentUri.with({fragment:`L${a},${o}`});return`[${n}](${c.toString()})`}else return}documentationTagRenderer(e,r){}findNameInLocalSymbols(e,r){let i=mt(e).localSymbols;if(!i)return;let a=e;do{let c=i.getStream(a).find(l=>l.name===r);if(c)return c;a=a.$container}while(a)}findNameInGlobalScope(e,r){return this.indexManager.allElements().find(i=>i.name===r)}};var Io=class{static{s(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){return ip(e)?e.$comment:qu(e.$cstNode,this.grammarConfig().multilineCommentRules)?.text}};var _o=class{static{s(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,r){return Promise.resolve(this.syncParser.parse(e))}},_h=class{static{s(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let r=this.queue.shift();r&&(e.lock(),r.resolve(e))}}),this.workerPool.push(e)}}async parse(e,r){let n=await this.acquireParserWorker(r),i=new wt,a,o=r.onCancellationRequested(()=>{a=setTimeout(()=>{this.terminateWorker(n)},this.terminationDelay)});return n.parse(e).then(c=>{let l=this.hydrator.hydrate(c);i.resolve(l)}).catch(c=>{i.reject(c)}).finally(()=>{o.dispose(),clearTimeout(a)}),i.promise}terminateWorker(e){e.terminate();let r=this.workerPool.indexOf(e);r>=0&&this.workerPool.splice(r,1)}async acquireParserWorker(e){this.initializeWorkers();for(let n of this.workerPool)if(n.ready)return n.lock(),n;let r=new wt;return e.onCancellationRequested(()=>{let n=this.queue.indexOf(r);n>=0&&this.queue.splice(n,1),r.reject(Ht)}),this.queue.push(r),r.promise}},bh=class{static{s(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,r,n,i){this.onReadyEmitter=new ke.Emitter,this.deferred=new wt,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=i,r(a=>{let o=a;this.deferred.resolve(o),this.unlock()}),n(a=>{this.deferred.reject(a),this.unlock()})}terminate(){this.deferred.reject(Ht),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new wt,this.sendMessage(e),this.deferred.promise}};var bo=class{static{s(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new W.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let r=hl();return this.previousTokenSource=r,this.enqueue(this.writeQueue,e,r.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,r,n=W.CancellationToken.None){let i=new wt,a={action:r,deferred:i,cancellationToken:n};return e.push(a),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:r,deferred:n,cancellationToken:i})=>{try{let a=await Promise.resolve().then(()=>r(i));n.resolve(a)}catch(a){kr(a)?n.resolve(void 0):n.reject(a)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}};var Po=class{static{s(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new di,this.tokenTypeIdMap=new di,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map(r=>({...r,message:r.message})),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let r=new Map,n=new Map;for(let i of $t(e))r.set(i,{});if(e.$cstNode)for(let i of Vn(e.$cstNode))n.set(i,{});return{astNodes:r,cstNodes:n}}dehydrateAstNode(e,r){let n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(e.$cstNode,r));for(let[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){let o=[];n[i]=o;for(let c of a)Le(c)?o.push(this.dehydrateAstNode(c,r)):Ze(c)?o.push(this.dehydrateReference(c,r)):o.push(c)}else Le(a)?n[i]=this.dehydrateAstNode(a,r):Ze(a)?n[i]=this.dehydrateReference(a,r):a!==void 0&&(n[i]=a);return n}dehydrateReference(e,r){let n={};return n.$refText=e.$refText,e.$refNode&&(n.$refNode=r.cstNodes.get(e.$refNode)),n}dehydrateCstNode(e,r){let n=r.cstNodes.get(e);return Ys(e)?n.fullText=e.fullText:n.grammarSource=this.getGrammarElementId(e.grammarSource),n.hidden=e.hidden,n.astNode=r.astNodes.get(e.astNode),rr(e)?n.content=e.content.map(i=>this.dehydrateCstNode(i,r)):sn(e)&&(n.tokenType=e.tokenType.name,n.offset=e.offset,n.length=e.length,n.startLine=e.range.start.line,n.startColumn=e.range.start.character,n.endLine=e.range.end.line,n.endColumn=e.range.end.character),n}hydrate(e){let r=e.value,n=this.createHydrationContext(r);return"$cstNode"in r&&this.hydrateCstNode(r.$cstNode,n),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(r,n)}}createHydrationContext(e){let r=new Map,n=new Map;for(let a of $t(e))r.set(a,{});let i;if(e.$cstNode)for(let a of Vn(e.$cstNode)){let o;"fullText"in a?(o=new us(a.fullText),i=o):"content"in a?o=new oi:"tokenType"in a&&(o=this.hydrateCstLeafNode(a)),o&&(n.set(a,o),o.root=i)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,r){let n=r.astNodes.get(e);n.$type=e.$type,n.$containerIndex=e.$containerIndex,n.$containerProperty=e.$containerProperty,e.$cstNode&&(n.$cstNode=r.cstNodes.get(e.$cstNode));for(let[i,a]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(a)){let o=[];n[i]=o;for(let c of a)Le(c)?o.push(this.setParent(this.hydrateAstNode(c,r),n)):Ze(c)?o.push(this.hydrateReference(c,n,i,r)):o.push(c)}else Le(a)?n[i]=this.setParent(this.hydrateAstNode(a,r),n):Ze(a)?n[i]=this.hydrateReference(a,n,i,r):a!==void 0&&(n[i]=a);return n}setParent(e,r){return e.$container=r,e}hydrateReference(e,r,n,i){return this.linker.buildReference(r,n,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,r,n=0){let i=r.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=r.astNodes.get(e.astNode),rr(i))for(let a of e.content){let o=this.hydrateCstNode(a,r,n++);i.content.push(o)}return i}hydrateCstLeafNode(e){let r=this.getTokenType(e.tokenType),n=e.offset,i=e.length,a=e.startLine,o=e.startColumn,c=e.endLine,l=e.endColumn,u=e.hidden;return new ai(n,i,{start:{line:a,character:o},end:{line:c,character:l}},r,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let r of $t(this.grammar))sa(r)&&this.grammarElementIdMap.set(r,e++)}};function Ph(t){return{documentation:{CommentProvider:s(e=>new Io(e),"CommentProvider"),DocumentationProvider:s(e=>new wo(e),"DocumentationProvider")},parser:{AsyncParser:s(e=>new _o(e),"AsyncParser"),GrammarConfig:s(e=>of(e),"GrammarConfig"),LangiumParser:s(e=>Hd(e),"LangiumParser"),CompletionParser:s(e=>Kd(e),"CompletionParser"),ValueConverter:s(()=>new li,"ValueConverter"),TokenBuilder:s(()=>new Jr,"TokenBuilder"),Lexer:s(e=>new Ti(e),"Lexer"),ParserErrorMessageProvider:s(()=>new fs,"ParserErrorMessageProvider"),LexerErrorMessageProvider:s(()=>new ko,"LexerErrorMessageProvider")},workspace:{AstNodeLocator:s(()=>new fo,"AstNodeLocator"),AstNodeDescriptionProvider:s(e=>new lo(e),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:s(e=>new uo(e),"ReferenceDescriptionProvider")},references:{Linker:s(e=>new Qa(e),"Linker"),NameProvider:s(()=>new Za,"NameProvider"),ScopeProvider:s(e=>new io(e),"ScopeProvider"),ScopeComputation:s(e=>new to(e),"ScopeComputation"),References:s(e=>new eo(e),"References")},serializer:{Hydrator:s(e=>new Po(e),"Hydrator"),JsonSerializer:s(e=>new so(e),"JsonSerializer")},validation:{DocumentValidator:s(e=>new co(e),"DocumentValidator"),ValidationRegistry:s(e=>new oo(e),"ValidationRegistry")},shared:s(()=>t.shared,"shared")}}s(Ph,"createDefaultCoreModule");function Oh(t){return{ServiceRegistry:s(e=>new ao(e),"ServiceRegistry"),workspace:{LangiumDocuments:s(e=>new Ja(e),"LangiumDocuments"),LangiumDocumentFactory:s(e=>new Xa(e),"LangiumDocumentFactory"),DocumentBuilder:s(e=>new Ao(e),"DocumentBuilder"),IndexManager:s(e=>new $o(e),"IndexManager"),WorkspaceManager:s(e=>new So(e),"WorkspaceManager"),FileSystemProvider:s(e=>t.fileSystemProvider(e),"FileSystemProvider"),WorkspaceLock:s(()=>new bo,"WorkspaceLock"),ConfigurationProvider:s(e=>new po(e),"ConfigurationProvider")},profilers:{}}}s(Oh,"createDefaultSharedCoreModule");var Lh;(function(t){t.merge=(e,r)=>Oo(Oo({},e),r)})(Lh||(Lh={}));function eu(t,e,r,n,i,a,o,c,l){let u=[t,e,r,n,i,a,o,c,l].reduce(Oo,{});return jx(u)}s(eu,"inject");var qx=Symbol("isProxy");function zx(t){if(t&&t[qx])for(let e of Object.values(t))zx(e);return t}s(zx,"eagerLoad");function jx(t,e){let r=new Proxy({},{deleteProperty:s(()=>!1,"deleteProperty"),set:s(()=>{throw new Error("Cannot set property on injected service container")},"set"),get:s((n,i)=>i===qx?!0:Ux(n,i,t,e||r),"get"),getOwnPropertyDescriptor:s((n,i)=>(Ux(n,i,t,e||r),Object.getOwnPropertyDescriptor(n,i)),"getOwnPropertyDescriptor"),has:s((n,i)=>i in t,"has"),ownKeys:s(()=>[...Object.getOwnPropertyNames(t)],"ownKeys")});return r}s(jx,"_inject");var Gx=Symbol();function Ux(t,e,r,n){if(e in t){if(t[e]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable. Cause: "+t[e]);if(t[e]===Gx)throw new Error('Cycle detected. Please make "'+String(e)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return t[e]}else if(e in r){let i=r[e];t[e]=Gx;try{t[e]=typeof i=="function"?i(n):jx(i,n)}catch(a){throw t[e]=a instanceof Error?a:void 0,a}return t[e]}else return}s(Ux,"_resolve");function Oo(t,e){if(e){for(let[r,n]of Object.entries(e))if(n!=null)if(typeof n=="object"){let i=t[r];typeof i=="object"&&i!==null?t[r]=Oo(i,n):t[r]=Oo({},n)}else t[r]=n}return t}s(Oo,"_merge");var Dh={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]},Ri;(function(t){t.REGULAR="indentation-sensitive",t.IGNORE_INDENTATION="ignore-indentation"})(Ri||(Ri={}));var tu=class extends Jr{static{s(this,"IndentationAwareTokenBuilder")}constructor(e=Dh){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options={...Dh,...e},this.indentTokenType=yn({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=yn({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,r){let n=super.buildTokens(e,r);if(!Jl(n))throw new Error("Invalid tokens built by default builder");let{indentTokenName:i,dedentTokenName:a,whitespaceTokenName:o,ignoreIndentationDelimiters:c}=this.options,l,u,d,h=[];for(let m of n){for(let[y,C]of c)m.name===y?m.PUSH_MODE=Ri.IGNORE_INDENTATION:m.name===C&&(m.POP_MODE=!0);m.name===a?l=m:m.name===i?u=m:m.name===o?d=m:h.push(m)}if(!l||!u||!d)throw new Error("Some indentation/whitespace tokens not found!");return c.length>0?{modes:{[Ri.REGULAR]:[l,u,...h,d],[Ri.IGNORE_INDENTATION]:[...h,d]},defaultMode:Ri.REGULAR}:[l,u,d,...h]}flushLexingReport(e){return{...super.flushLexingReport(e),remainingDedents:this.flushRemainingDedents(e)}}isStartOfLine(e,r){return r===0||`\r
`.includes(e[r-1])}matchWhitespace(e,r,n,i){this.whitespaceRegExp.lastIndex=r;let a=this.whitespaceRegExp.exec(e);return{currIndentLevel:a?.[0].length??0,prevIndentLevel:this.indentationStack.at(-1),match:a}}createIndentationTokenInstance(e,r,n,i){let a=this.getLineNumber(r,i);return Kr(e,n,i,i+n.length,a,a,1,n.length)}getLineNumber(e,r){return e.substring(0,r).split(/\r\n|\r|\n/).length}indentMatcher(e,r,n,i){if(!this.isStartOfLine(e,r))return null;let{currIndentLevel:a,prevIndentLevel:o,match:c}=this.matchWhitespace(e,r,n,i);return a<=o?null:(this.indentationStack.push(a),c)}dedentMatcher(e,r,n,i){if(!this.isStartOfLine(e,r))return null;let{currIndentLevel:a,prevIndentLevel:o,match:c}=this.matchWhitespace(e,r,n,i);if(a>=o)return null;let l=this.indentationStack.lastIndexOf(a);if(l===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${a} at offset: ${r}. Current indentation stack: ${this.indentationStack}`,offset:r,length:c?.[0]?.length??0,line:this.getLineNumber(e,r),column:1}),null;let u=this.indentationStack.length-l-1,d=e.substring(0,r).match(/[\r\n]+$/)?.[0].length??1;for(let h=0;h<u;h++){let m=this.createIndentationTokenInstance(this.dedentTokenType,e,"",r-(d-1));n.push(m),this.indentationStack.pop()}return null}buildTerminalToken(e){let r=super.buildTerminalToken(e),{indentTokenName:n,dedentTokenName:i,whitespaceTokenName:a}=this.options;return r.name===n?this.indentTokenType:r.name===i?this.dedentTokenType:r.name===a?yn({name:a,pattern:this.whitespaceRegExp,group:we.SKIPPED}):r}flushRemainingDedents(e){let r=[];for(;this.indentationStack.length>1;)r.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],r}},Mh=class extends Ti{static{s(this,"IndentationAwareLexer")}constructor(e){if(super(e),e.parser.TokenBuilder instanceof tu)this.indentationTokenBuilder=e.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(e,r=Xl){let n=super.tokenize(e),i=n.report;r?.mode==="full"&&n.tokens.push(...i.remainingDedents),i.remainingDedents=[];let{indentTokenType:a,dedentTokenType:o}=this.indentationTokenBuilder,c=a.tokenTypeIdx,l=o.tokenTypeIdx,u=[],d=n.tokens.length-1;for(let h=0;h<d;h++){let m=n.tokens[h],y=n.tokens[h+1];if(m.tokenTypeIdx===c&&y.tokenTypeIdx===l){h++;continue}u.push(m)}return d>=0&&u.push(n.tokens[d]),n.tokens=u,n}};var le={};rn(le,{AstUtils:()=>zo,BiMap:()=>di,Cancellation:()=>W,ContextCache:()=>pi,CstUtils:()=>cc,DONE_RESULT:()=>ht,Deferred:()=>wt,Disposable:()=>In,DisposableCache:()=>Rs,DocumentCache:()=>gl,EMPTY_STREAM:()=>an,ErrorWithLocation:()=>Hn,GrammarUtils:()=>hc,MultiMap:()=>yt,OperationCancelled:()=>Ht,Reduction:()=>Si,RegExpUtils:()=>fc,SimpleCache:()=>no,StreamImpl:()=>Ut,TreeStreamImpl:()=>yr,URI:()=>tt,UriTrie:()=>ys,UriUtils:()=>je,WorkspaceCache:()=>xs,assertCondition:()=>dm,assertUnreachable:()=>xr,delayNextTick:()=>tp,interruptAndCheck:()=>De,isOperationCancelled:()=>kr,loadGrammarFromJson:()=>_r,setInterruptionPeriod:()=>ey,startCancelableOperation:()=>hl,stream:()=>te});ae(le,ke);var ru=class{static{s(this,"EmptyFileSystemProvider")}stat(e){throw new Error("No file system is available.")}statSync(e){throw new Error("No file system is available.")}async exists(){return!1}existsSync(){return!1}readBinary(){throw new Error("No file system is available.")}readBinarySync(){throw new Error("No file system is available.")}readFile(){throw new Error("No file system is available.")}readFileSync(){throw new Error("No file system is available.")}async readDirectory(){return[]}readDirectorySync(){return[]}},Fh={fileSystemProvider:s(()=>new ru,"fileSystemProvider")};var J$={Grammar:s(()=>{},"Grammar"),LanguageMetaData:s(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},Q$={AstReflection:s(()=>new Li,"AstReflection")};function Z$(){let t=eu(Oh(Fh),Q$),e=eu(Ph({shared:t}),J$);return t.ServiceRegistry.register(e),e}s(Z$,"createMinimalGrammarServices");function _r(t){let e=Z$(),r=e.serializer.JsonSerializer.deserialize(t);return e.shared.workspace.LangiumDocumentFactory.fromModel(r,tt.parse(`memory:/${r.name??"grammar"}.langium`)),r}s(_r,"loadGrammarFromJson");ae(Ue,le);var Gh=class{static{s(this,"DefaultLangiumProfiler")}constructor(e){this.activeCategories=new Set,this.allCategories=new Set(["validating","parsing","linking"]),this.activeCategories=e??new Set(this.allCategories),this.records=new yt}isActive(e){return this.activeCategories.has(e)}start(...e){e?e.forEach(r=>this.activeCategories.add(r)):this.activeCategories=new Set(this.allCategories)}stop(...e){e?e.forEach(r=>this.activeCategories.delete(r)):this.activeCategories.clear()}createTask(e,r){if(!this.isActive(e))throw new Error(`Category "${e}" is not active.`);return console.log(`Creating profiling task for '${e}.${r}'.`),new nu(n=>this.records.add(e,this.dumpRecord(e,n)),r)}dumpRecord(e,r){console.info(`Task ${e}.${r.identifier} executed in ${r.duration.toFixed(2)}ms and ended at ${r.date.toISOString()}`);let n=[];for(let o of r.entries.keys()){let c=r.entries.get(o),l=c.reduce((u,d)=>u+d);n.push({name:`${r.identifier}.${o}`,count:c.length,duration:l})}let i=r.duration-n.map(o=>o.duration).reduce((o,c)=>o+c,0);n.push({name:r.identifier,count:1,duration:i}),n.sort((o,c)=>c.duration-o.duration);function a(o){return Math.round(100*o)/100}return s(a,"Round"),console.table(n.map(o=>({Element:o.name,Count:o.count,"Self %":a(100*o.duration/r.duration),"Time (ms)":a(o.duration)}))),r}getRecords(...e){return e.length===0?this.records.values():this.records.entries().filter(r=>e.some(n=>n===r[0])).flatMap(r=>r[1])}},nu=class{static{s(this,"ProfilingTask")}constructor(e,r){this.stack=[],this.entries=new yt,this.addRecord=e,this.identifier=r}start(){if(this.startTime!==void 0)throw new Error(`Task "${this.identifier}" is already started.`);this.startTime=performance.now()}stop(){if(this.startTime===void 0)throw new Error(`Task "${this.identifier}" was not started.`);if(this.stack.length!==0)throw new Error(`Task "${this.identifier}" cannot be stopped before sub-task(s): ${this.stack.map(r=>r.id).join(", ")}.`);let e={identifier:this.identifier,date:new Date,duration:performance.now()-this.startTime,entries:this.entries};this.addRecord(e),this.startTime=void 0,this.entries.clear()}startSubTask(e){this.stack.push({id:e,start:performance.now(),content:0})}stopSubTask(e){let r=this.stack.pop();if(!r)throw new Error(`Task "${this.identifier}.${e}" was not started.`);if(r.id!==e)throw new Error(`Sub-Task "${r.id}" is not already stopped.`);let n=performance.now()-r.start;this.stack.at(-1)!==void 0&&(this.stack[this.stack.length-1].content+=n);let i=n-r.content;this.entries.add(e,i)}};var eS=Object.defineProperty,ne=s((t,e)=>eS(t,"name",{value:e,configurable:!0}),"__name"),Vh;(t=>{t.Terminals={ARROW_DIRECTION:/L|R|T|B/,ARROW_GROUP:/\{group\}/,ARROW_INTO:/<|>/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,ARCH_ICON:/\([\w-:]+\)/,ARCH_TITLE:/\[[\w ]+\]/}})(Vh||(Vh={}));var Kh;(t=>{t.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/,REFERENCE:/\w([-\./\w]*[-\w])?/}})(Kh||(Kh={}));var Hh;(t=>{t.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Hh||(Hh={}));var Yh;(t=>{t.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,INT:/0|[1-9][0-9]*(?!\.)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Yh||(Yh={}));var Xh;(t=>{t.Terminals={NUMBER_PIE:/(?:-?[0-9]+\.[0-9]+(?!\.))|(?:-?(0|[1-9][0-9]*)(?!\.))/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Xh||(Xh={}));var Jh;(t=>{t.Terminals={GRATICULE:/circle|polygon/,BOOLEAN:/true|false/,ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,NUMBER:/(?:[0-9]+\.[0-9]+(?!\.))|(?:0|[1-9][0-9]*(?!\.))/,STRING:/"([^"\\]|\\.)*"|'([^'\\]|\\.)*'/,ID:/[\w]([-\w]*\w)?/,NEWLINE:/\r?\n/,WHITESPACE:/[\t ]+/,YAML:/---[\t ]*\r?\n(?:[\S\s]*?\r?\n)?---(?:\r?\n|(?!\S))/,DIRECTIVE:/[\t ]*%%{[\S\s]*?}%%(?:\r?\n|(?!\S))/,SINGLE_LINE_COMMENT:/[\t ]*%%[^\n\r]*/}})(Jh||(Jh={}));var Qh;(t=>{t.Terminals={ACC_DESCR:/[\t ]*accDescr(?:[\t ]*:([^\n\r]*?(?=%%)|[^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/[\t ]*accTitle[\t ]*:(?:[^\n\r]*?(?=%%)|[^\n\r]*)/,TITLE:/[\t ]*title(?:[\t ][^\n\r]*?(?=%%)|[\t ][^\n\r]*|)/,TREEMAP_KEYWORD:/treemap-beta|treemap/,CLASS_DEF:/classDef\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\s+([^;\r\n]*))?(?:;)?/,STYLE_SEPARATOR:/:::/,SEPARATOR:/:/,COMMA:/,/,INDENTATION:/[ \t]{1,}/,WS:/[ \t]+/,ML_COMMENT:/\%\%[^\n]*/,NL:/\r?\n/,ID2:/[a-zA-Z_][a-zA-Z0-9_]*/,NUMBER2:/[0-9_\.\,]+/,STRING2:/"[^"]*"|'[^']*'/}})(Qh||(Qh={}));var LM={...Vh.Terminals,...Kh.Terminals,...Hh.Terminals,...Yh.Terminals,...Xh.Terminals,...Jh.Terminals,...Qh.Terminals},Zr={$type:"Architecture",accDescr:"accDescr",accTitle:"accTitle",edges:"edges",groups:"groups",junctions:"junctions",services:"services",title:"title"};function tS(t){return fr.isInstance(t,Zr.$type)}s(tS,"isArchitecture");ne(tS,"isArchitecture");var iu={$type:"Axis",label:"label",name:"name"},cu={$type:"Branch",name:"name",order:"order"};function rS(t){return fr.isInstance(t,cu.$type)}s(rS,"isBranch");ne(rS,"isBranch");var Bx={$type:"Checkout",branch:"branch"},su={$type:"CherryPicking",id:"id",parent:"parent",tags:"tags"},Uh={$type:"ClassDefStatement",className:"className",styleText:"styleText"},Us={$type:"Commit",id:"id",message:"message",tags:"tags",type:"type"};function nS(t){return fr.isInstance(t,Us.$type)}s(nS,"isCommit");ne(nS,"isCommit");var au={$type:"Curve",entries:"entries",label:"label",name:"name"},Ms={$type:"Direction",accDescr:"accDescr",accTitle:"accTitle",dir:"dir",statements:"statements",title:"title"},br={$type:"Edge",lhsDir:"lhsDir",lhsGroup:"lhsGroup",lhsId:"lhsId",lhsInto:"lhsInto",rhsDir:"rhsDir",rhsGroup:"rhsGroup",rhsId:"rhsId",rhsInto:"rhsInto",title:"title"},qh={$type:"Entry",axis:"axis",value:"value"},Ei={$type:"GitGraph",accDescr:"accDescr",accTitle:"accTitle",statements:"statements",title:"title"};function iS(t){return fr.isInstance(t,Ei.$type)}s(iS,"isGitGraph");ne(iS,"isGitGraph");var Lo={$type:"Group",icon:"icon",id:"id",in:"in",title:"title"},Mo={$type:"Info",accDescr:"accDescr",accTitle:"accTitle",title:"title"};function sS(t){return fr.isInstance(t,Mo.$type)}s(sS,"isInfo");ne(sS,"isInfo");var Do={$type:"Item",classSelector:"classSelector",name:"name"},zh={$type:"Junction",id:"id",in:"in"},ou={$type:"Leaf",classSelector:"classSelector",name:"name",value:"value"},qs={$type:"Merge",branch:"branch",id:"id",tags:"tags",type:"type"};function aS(t){return fr.isInstance(t,qs.$type)}s(aS,"isMerge");ne(aS,"isMerge");var jh={$type:"Option",name:"name",value:"value"},zs={$type:"Packet",accDescr:"accDescr",accTitle:"accTitle",blocks:"blocks",title:"title"};function oS(t){return fr.isInstance(t,zs.$type)}s(oS,"isPacket");ne(oS,"isPacket");var js={$type:"PacketBlock",bits:"bits",end:"end",label:"label",start:"start"};function cS(t){return fr.isInstance(t,js.$type)}s(cS,"isPacketBlock");ne(cS,"isPacketBlock");var vi={$type:"Pie",accDescr:"accDescr",accTitle:"accTitle",sections:"sections",showData:"showData",title:"title"};function lS(t){return fr.isInstance(t,vi.$type)}s(lS,"isPie");ne(lS,"isPie");var lu={$type:"PieSection",label:"label",value:"value"};function uS(t){return fr.isInstance(t,lu.$type)}s(uS,"isPieSection");ne(uS,"isPieSection");var xi={$type:"Radar",accDescr:"accDescr",accTitle:"accTitle",axes:"axes",curves:"curves",options:"options",title:"title"},Bh={$type:"Section",classSelector:"classSelector",name:"name"},Fs={$type:"Service",icon:"icon",iconText:"iconText",id:"id",in:"in",title:"title"},Gs={$type:"Statement"},Bs={$type:"Treemap",accDescr:"accDescr",accTitle:"accTitle",title:"title",TreemapRows:"TreemapRows"};function fS(t){return fr.isInstance(t,Bs.$type)}s(fS,"isTreemap");ne(fS,"isTreemap");var Wh={$type:"TreemapRow",indent:"indent",item:"item"},Qx=class extends Pn{static{s(this,"MermaidAstReflection")}constructor(){super(...arguments),this.types={Architecture:{name:Zr.$type,properties:{accDescr:{name:Zr.accDescr},accTitle:{name:Zr.accTitle},edges:{name:Zr.edges,defaultValue:[]},groups:{name:Zr.groups,defaultValue:[]},junctions:{name:Zr.junctions,defaultValue:[]},services:{name:Zr.services,defaultValue:[]},title:{name:Zr.title}},superTypes:[]},Axis:{name:iu.$type,properties:{label:{name:iu.label},name:{name:iu.name}},superTypes:[]},Branch:{name:cu.$type,properties:{name:{name:cu.name},order:{name:cu.order}},superTypes:[Gs.$type]},Checkout:{name:Bx.$type,properties:{branch:{name:Bx.branch}},superTypes:[Gs.$type]},CherryPicking:{name:su.$type,properties:{id:{name:su.id},parent:{name:su.parent},tags:{name:su.tags,defaultValue:[]}},superTypes:[Gs.$type]},ClassDefStatement:{name:Uh.$type,properties:{className:{name:Uh.className},styleText:{name:Uh.styleText}},superTypes:[]},Commit:{name:Us.$type,properties:{id:{name:Us.id},message:{name:Us.message},tags:{name:Us.tags,defaultValue:[]},type:{name:Us.type}},superTypes:[Gs.$type]},Curve:{name:au.$type,properties:{entries:{name:au.entries,defaultValue:[]},label:{name:au.label},name:{name:au.name}},superTypes:[]},Direction:{name:Ms.$type,properties:{accDescr:{name:Ms.accDescr},accTitle:{name:Ms.accTitle},dir:{name:Ms.dir},statements:{name:Ms.statements,defaultValue:[]},title:{name:Ms.title}},superTypes:[Ei.$type]},Edge:{name:br.$type,properties:{lhsDir:{name:br.lhsDir},lhsGroup:{name:br.lhsGroup,defaultValue:!1},lhsId:{name:br.lhsId},lhsInto:{name:br.lhsInto,defaultValue:!1},rhsDir:{name:br.rhsDir},rhsGroup:{name:br.rhsGroup,defaultValue:!1},rhsId:{name:br.rhsId},rhsInto:{name:br.rhsInto,defaultValue:!1},title:{name:br.title}},superTypes:[]},Entry:{name:qh.$type,properties:{axis:{name:qh.axis,referenceType:iu.$type},value:{name:qh.value}},superTypes:[]},GitGraph:{name:Ei.$type,properties:{accDescr:{name:Ei.accDescr},accTitle:{name:Ei.accTitle},statements:{name:Ei.statements,defaultValue:[]},title:{name:Ei.title}},superTypes:[]},Group:{name:Lo.$type,properties:{icon:{name:Lo.icon},id:{name:Lo.id},in:{name:Lo.in},title:{name:Lo.title}},superTypes:[]},Info:{name:Mo.$type,properties:{accDescr:{name:Mo.accDescr},accTitle:{name:Mo.accTitle},title:{name:Mo.title}},superTypes:[]},Item:{name:Do.$type,properties:{classSelector:{name:Do.classSelector},name:{name:Do.name}},superTypes:[]},Junction:{name:zh.$type,properties:{id:{name:zh.id},in:{name:zh.in}},superTypes:[]},Leaf:{name:ou.$type,properties:{classSelector:{name:ou.classSelector},name:{name:ou.name},value:{name:ou.value}},superTypes:[Do.$type]},Merge:{name:qs.$type,properties:{branch:{name:qs.branch},id:{name:qs.id},tags:{name:qs.tags,defaultValue:[]},type:{name:qs.type}},superTypes:[Gs.$type]},Option:{name:jh.$type,properties:{name:{name:jh.name},value:{name:jh.value,defaultValue:!1}},superTypes:[]},Packet:{name:zs.$type,properties:{accDescr:{name:zs.accDescr},accTitle:{name:zs.accTitle},blocks:{name:zs.blocks,defaultValue:[]},title:{name:zs.title}},superTypes:[]},PacketBlock:{name:js.$type,properties:{bits:{name:js.bits},end:{name:js.end},label:{name:js.label},start:{name:js.start}},superTypes:[]},Pie:{name:vi.$type,properties:{accDescr:{name:vi.accDescr},accTitle:{name:vi.accTitle},sections:{name:vi.sections,defaultValue:[]},showData:{name:vi.showData,defaultValue:!1},title:{name:vi.title}},superTypes:[]},PieSection:{name:lu.$type,properties:{label:{name:lu.label},value:{name:lu.value}},superTypes:[]},Radar:{name:xi.$type,properties:{accDescr:{name:xi.accDescr},accTitle:{name:xi.accTitle},axes:{name:xi.axes,defaultValue:[]},curves:{name:xi.curves,defaultValue:[]},options:{name:xi.options,defaultValue:[]},title:{name:xi.title}},superTypes:[]},Section:{name:Bh.$type,properties:{classSelector:{name:Bh.classSelector},name:{name:Bh.name}},superTypes:[Do.$type]},Service:{name:Fs.$type,properties:{icon:{name:Fs.icon},iconText:{name:Fs.iconText},id:{name:Fs.id},in:{name:Fs.in},title:{name:Fs.title}},superTypes:[]},Statement:{name:Gs.$type,properties:{},superTypes:[]},Treemap:{name:Bs.$type,properties:{accDescr:{name:Bs.accDescr},accTitle:{name:Bs.accTitle},title:{name:Bs.title},TreemapRows:{name:Bs.TreemapRows,defaultValue:[]}},superTypes:[]},TreemapRow:{name:Wh.$type,properties:{indent:{name:Wh.indent},item:{name:Wh.item}},superTypes:[]}}}static{ne(this,"MermaidAstReflection")}},fr=new Qx,Wx,dS=ne(()=>Wx??(Wx=_r(`{"$type":"Grammar","isDeclared":true,"name":"ArchitectureGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"},"parenthesized":false}],"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}`)),"ArchitectureGrammarGrammar"),Vx,pS=ne(()=>Vx??(Vx=_r(`{"$type":"Grammar","isDeclared":true,"name":"GitGraphGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[],"types":[]}`)),"GitGraphGrammarGrammar"),Kx,hS=ne(()=>Kx??(Kx=_r(`{"$type":"Grammar","isDeclared":true,"name":"InfoGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"InfoGrammarGrammar"),Hx,mS=ne(()=>Hx??(Hx=_r(`{"$type":"Grammar","isDeclared":true,"name":"PacketGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"PacketGrammarGrammar"),Yx,gS=ne(()=>Yx??(Yx=_r(`{"$type":"Grammar","isDeclared":true,"name":"PieGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[],"types":[]}`)),"PieGrammarGrammar"),Xx,yS=ne(()=>Xx??(Xx=_r(`{"$type":"Grammar","isDeclared":true,"name":"RadarGrammar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"entry":false,"parameters":[]},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false,"isMulti":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"},"parenthesized":false},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/","parenthesized":false},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}},"isMulti":false}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"types":[]}`)),"RadarGrammarGrammar"),Jx,TS=ne(()=>Jx??(Jx=_r(`{"$type":"Grammar","isDeclared":true,"name":"TreemapGrammar","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"entry":false,"parameters":[]},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"}]},"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"},"parenthesized":false},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"},"parenthesized":false}],"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","},"parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/","parenthesized":false},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/","parenthesized":false},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/","parenthesized":false},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"entry":false,"fragment":false,"parameters":[]},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/","parenthesized":false},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@15"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"imports":[],"types":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`)),"TreemapGrammarGrammar"),RS={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},xS={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},ES={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},vS={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},AS={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},$S={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},SS={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},MM={AstReflection:ne(()=>new Qx,"AstReflection")},FM={Grammar:ne(()=>dS(),"Grammar"),LanguageMetaData:ne(()=>RS,"LanguageMetaData"),parser:{}},GM={Grammar:ne(()=>pS(),"Grammar"),LanguageMetaData:ne(()=>xS,"LanguageMetaData"),parser:{}},UM={Grammar:ne(()=>hS(),"Grammar"),LanguageMetaData:ne(()=>ES,"LanguageMetaData"),parser:{}},qM={Grammar:ne(()=>mS(),"Grammar"),LanguageMetaData:ne(()=>vS,"LanguageMetaData"),parser:{}},zM={Grammar:ne(()=>gS(),"Grammar"),LanguageMetaData:ne(()=>AS,"LanguageMetaData"),parser:{}},jM={Grammar:ne(()=>yS(),"Grammar"),LanguageMetaData:ne(()=>$S,"LanguageMetaData"),parser:{}},BM={Grammar:ne(()=>TS(),"Grammar"),LanguageMetaData:ne(()=>SS,"LanguageMetaData"),parser:{}},kS=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,CS=/accTitle[\t ]*:([^\n\r]*)/,NS=/title([\t ][^\n\r]*|)/,wS={ACC_DESCR:kS,ACC_TITLE:CS,TITLE:NS},IS=class extends li{static{s(this,"AbstractMermaidValueConverter")}static{ne(this,"AbstractMermaidValueConverter")}runConverter(t,e,r){let n=this.runCommonConverter(t,e,r);return n===void 0&&(n=this.runCustomConverter(t,e,r)),n===void 0?super.runConverter(t,e,r):n}runCommonConverter(t,e,r){let n=wS[t.name];if(n===void 0)return;let i=n.exec(e);if(i!==null){if(i[1]!==void 0)return i[1].trim().replace(/[\t ]{2,}/gm," ");if(i[2]!==void 0)return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},VM=class extends IS{static{s(this,"CommonValueConverter")}static{ne(this,"CommonValueConverter")}runCustomConverter(t,e,r){}},_S=class extends Jr{static{s(this,"AbstractMermaidTokenBuilder")}static{ne(this,"AbstractMermaidTokenBuilder")}constructor(t){super(),this.keywords=new Set(t)}buildKeywordTokens(t,e,r){let n=super.buildKeywordTokens(t,e,r);return n.forEach(i=>{this.keywords.has(i.name)&&i.PATTERN!==void 0&&(i.PATTERN=new RegExp(i.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},HM=class extends _S{static{s(this,"CommonTokenBuilder")}static{ne(this,"CommonTokenBuilder")}};export{Ph as a,Oh as b,eu as c,Fh as d,Ue as e,ne as f,MM as g,FM as h,GM as i,UM as j,qM as k,zM as l,jM as m,BM as n,IS as o,VM as p,_S as q};
